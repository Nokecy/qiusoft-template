(function(e){function t(t){for(var n,r,c=t[0],s=t[1],l=t[2],m=0,u=[];m<c.length;m++)r=c[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,c=1;c<o.length;c++){var s=o[c];0!==i[s]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},i={index:0},a=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=s;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"02ca":function(e,t,o){},"02df":function(e,t,o){e.exports=o.p+"img/icon-add-modelview.f96e9cfc.png"},"032e":function(e,t,o){e.exports=o.p+"img/measure-s-close.54f7147e.png"},"0410":function(e,t,o){e.exports=o.p+"img/ico-voice-message-white.3973a210.png"},"04b3":function(e,t,o){e.exports=o.p+"img/close.0fb8dc6e.png"},"04bd":function(e,t,o){},"089b":function(e,t,o){},"0a1d":function(e,t,o){e.exports=o.p+"img/audioAdding.4bc1ee0c.png"},"0ab7":function(e,t,o){"use strict";o("e93c")},"0b64":function(e,t,o){e.exports=o.p+"img/measure-isNoSel.4a8cd39f.png"},"0c33":function(e,t,o){},"0d1c":function(e,t,o){e.exports=o.p+"img/m-solidClosure.0cd70b21.png"},"0d85":function(e,t,o){e.exports=o.p+"img/pic-default.1390d7c7.png"},"0e31":function(e,t,o){e.exports=o.p+"img/ico-voice-message-play.1c474ffb.gif"},"0eca":function(e,t,o){e.exports=o.p+"img/m-noIncline-s.cc80284b.png"},"101d":function(e,t,o){e.exports=o.p+"img/anno-lead-arrow.921d2f5a.png"},1025:function(e,t,o){e.exports=o.p+"img/resultHide.0508759d.png"},"11e5":function(e,t,o){e.exports=o.p+"img/ico-compare-paper-add.c996d2e0.png"},"134f":function(e,t,o){e.exports=o.p+"img/ico-clear-rect-disable.f01fc9b5.png"},1361:function(e,t,o){"use strict";o("4896")},"14b3":function(e,t,o){"use strict";o("48ff")},1635:function(e,t,o){e.exports=o.p+"img/anno-edit-ico.da564943.png"},1719:function(e,t,o){},"196c":function(e,t,o){"use strict";o("e782")},"1bd8":function(e,t,o){"use strict";o("365f")},"1cb3":function(e,t,o){"use strict";o("7928")},"1ea7":function(e,t,o){e.exports=o.p+"img/anno-lead-line-s.d8243a5b.png"},"1ead":function(e,t,o){"use strict";o("02ca")},"1f22":function(e,t,o){e.exports=o.p+"img/anno-brokenLine.7f92d446.png"},"1f26":function(e,t,o){},"226f":function(e,t,o){e.exports=o.p+"img/r-partiaSelect.58da081d.png"},"227a":function(e,t,o){},"244a":function(e,t,o){e.exports=o.p+"img/m-lineWidth-s.1d18d4f6.png"},"258a":function(e,t,o){},"25a4":function(e,t,o){e.exports=o.p+"img/radio-nocheck.07a1bc71.png"},2667:function(e,t,o){"use strict";o("f67d")},"26d4":function(e,t,o){e.exports=o.p+"img/measure-s-radius.1b58e2ae.png"},"28b2":function(e,t,o){e.exports=o.p+"img/scaleSubtract.1cb29dc9.png"},"28d0":function(e,t,o){"use strict";o("f8be")},"28d7":function(e,t,o){},"2e65":function(e,t,o){},"2ea3":function(e,t,o){"use strict";o("28d7")},"30b3":function(e,t,o){},"310d":function(e,t,o){},"31e4":function(e,t,o){},3421:function(e,t,o){},"351f":function(e,t,o){"use strict";o("560f")},3566:function(e,t,o){e.exports=o.p+"img/ico-clear-rect.a66171b8.png"},3642:function(e,t,o){e.exports=o.p+"img/ico-radio-noselect.b46355af.png"},"365f":function(e,t,o){},"382f":function(e,t,o){e.exports=o.p+"img/nomsg-zh.01650d46.png"},3907:function(e,t,o){},"397f":function(e,t,o){e.exports=o.p+"img/area-ico.de59f0f7.png"},"3bb8":function(e,t,o){e.exports=o.p+"img/ico-confirm-rect.0355a8b5.png"},"3c0a":function(e,t,o){"use strict";o("0c33")},"3d28":function(e,t,o){"use strict";o("a372")},"433e":function(e,t,o){e.exports=o.p+"img/anno-delete-ico.5dc4802b.png"},"43ea":function(e,t,o){e.exports=o.p+"img/m-arrows-s.96edeeeb.png"},4856:function(e,t,o){e.exports=o.p+"img/m-buildingMark.0c0d80e8.png"},4896:function(e,t,o){},"48a8":function(e,t,o){e.exports=o.p+"img/r-back.c518379b.png"},"48c0":function(e,t,o){"use strict";o("63c5")},"48ff":function(e,t,o){},4919:function(e,t,o){e.exports=o.p+"img/measure-s-diameter.911e3030.png"},"49d5":function(e,t,o){e.exports=o.p+"img/anno-fontFamily.bc33365c.png"},"4b01":function(e,t,o){e.exports=o.p+"img/anno-lead-pointLine-s.cf930fbd.png"},"4b86":function(e,t,o){e.exports=o.p+"img/ico-font-italic-s.6d32788b.png"},"4c22":function(e,t,o){e.exports=o.p+"img/arrow-down.b6bca21e.png"},"4dcb":function(e,t,o){},"4dfd":function(e,t,o){"use strict";o("d79f")},"4e53":function(e,t,o){e.exports=o.p+"img/measure-n-diameter.5146bebd.png"},"4ee2":function(e,t,o){},"4faa":function(e,t,o){"use strict";o("04bd")},5343:function(e,t,o){"use strict";o("d238")},5384:function(e,t,o){e.exports=o.p+"img/anno-lead-arrow-s.8293a141.png"},5511:function(e,t,o){},"560f":function(e,t,o){},5617:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("8bbf");const i={class:"nd_sync_cover"},a=["src"];function r(e,t,o,r,c,s){const l=Object(n["resolveComponent"])("tips"),d=Object(n["resolveComponent"])("loading"),m=Object(n["resolveComponent"])("measure-setting"),u=Object(n["resolveComponent"])("bottom-btn"),g=Object(n["resolveComponent"])("config-switch"),p=Object(n["resolveComponent"])("structure-tree"),h=Object(n["resolveComponent"])("tag-com"),w=Object(n["resolveComponent"])("unit-change"),S=Object(n["resolveComponent"])("coor-cover"),v=Object(n["resolveComponent"])("text-find"),b=Object(n["resolveComponent"])("text-get"),f=Object(n["resolveComponent"])("text-get-result"),C=Object(n["resolveComponent"])("text-draw"),O=Object(n["resolveComponent"])("scaleSetting"),x=Object(n["resolveComponent"])("resultGather"),y=Object(n["resolveComponent"])("excel-get"),T=Object(n["resolveComponent"])("block-search"),j=Object(n["resolveComponent"])("block-draw"),M=Object(n["resolveComponent"])("paper-compare"),E=Object(n["resolveComponent"])("modelview-save"),k=Object(n["resolveComponent"])("measure-edit"),D=Object(n["resolveComponent"])("loading2"),A=Object(n["resolveComponent"])("measure-facade"),B=Object(n["resolveComponent"])("textInput"),N=Object(n["resolveComponent"])("annoSetting");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{id:"vueMain",class:Object(n["normalizeClass"])(["ndp2-wrap noselect",{"tag-drawing":r.store.state.tagStore.tagDrawing,showhide:r.store.state.modelStore.showhide}]),onMousedown:t[3]||(t[3]=(...e)=>r.watchAllClick&&r.watchAllClick(...e)),ondragstart:"return false"},[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["ndp2-preview-box",{zh:"en"!=e.language}])},[Object(n["createElementVNode"])("div",{class:"ndp2-wrap",id:"viewer",onClick:t[0]||(t[0]=(...e)=>s.clickViewerCanvas&&s.clickViewerCanvas(...e)),onContextmenu:t[1]||(t[1]=(...e)=>s.rightMouseClick&&s.rightMouseClick(...e))},null,32)],2),Object(n["createVNode"])(l),Object(n["createVNode"])(d),!e.showMeasureSetting&&!e.isSelMeasure||e.isInScaleMeasure?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:0,ref:"measureSettingRef",measureUuid:e.measureStyle.uuid},null,8,["measureUuid"])),Object(n["withDirectives"])(Object(n["createVNode"])(u,{onChengShowMeasureStyle:r.chengShowMeasureStyle},null,8,["onChengShowMeasureStyle"]),[[n["vShow"],!r.store.state.printMode&&!e.isInScaleMeasure]]),Object(n["withDirectives"])(Object(n["createVNode"])(g,{onChengShowMeasureStyle:r.chengShowMeasureStyle},null,8,["onChengShowMeasureStyle"]),[[n["vShow"],r.store.state.menuStore.showManyConfig&&!e.isInScaleMeasure]]),Object(n["withDirectives"])(Object(n["createVNode"])(p,{onChengShowMeasureStyle:r.chengShowMeasureStyle},null,8,["onChengShowMeasureStyle"]),[[n["vShow"],r.store.state.menuStore.structMenu]]),Object(n["createVNode"])(h,{onChengShowMeasureStyle:r.chengShowMeasureStyle},null,8,["onChengShowMeasureStyle"]),Object(n["withDirectives"])(Object(n["createVNode"])(w,null,null,512),[[n["vShow"],r.store.state.menuStore.unitMenu]]),Object(n["withDirectives"])(Object(n["createVNode"])(S,null,null,512),[[n["vShow"],"meter"==r.store.state.menuStore.menuChoose]]),Object(n["createVNode"])(v,{onChengShowMeasureStyle:r.chengShowMeasureStyle},null,8,["onChengShowMeasureStyle"]),Object(n["withDirectives"])(Object(n["createVNode"])(b,null,null,512),[[n["vShow"],"textGet"==r.store.state.menuStore.menuChoose&&r.store.state.menuStore.textGetMenu]]),Object(n["withDirectives"])(Object(n["createVNode"])(f,null,null,512),[[n["vShow"],"textGet"==r.store.state.menuStore.menuChoose&&r.store.state.menuStore.textGetResultMenu]]),Object(n["createVNode"])(C),e.isScaleSetting?(Object(n["openBlock"])(),Object(n["createBlock"])(O,{key:1,onChengShowMeasureStyle:r.chengShowMeasureStyle,isInScaleMeasure:e.isInScaleMeasure,onShowScaleSetting:r.showScaleSetting},null,8,["onChengShowMeasureStyle","isInScaleMeasure","onShowScaleSetting"])):Object(n["createCommentVNode"])("",!0),e.isScaleResult?(Object(n["openBlock"])(),Object(n["createBlock"])(x,{key:2,onShowScaleResult:r.showScaleResult},null,8,["onShowScaleResult"])):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createVNode"])(y,null,null,512),[[n["vShow"],"excelGet"==r.store.state.menuStore.menuChoose&&r.store.state.menuStore.excelGetShow]]),Object(n["withDirectives"])(Object(n["createVNode"])(T,null,null,512),[[n["vShow"],"blockSearch"==r.store.state.menuStore.menuChoose]]),Object(n["createVNode"])(j),Object(n["createVNode"])(M),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",i,null,512),[[n["vShow"],r.store.state.rtmNeedCover]]),e.logoConfig.src?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:3,class:"company-logo",src:e.logoConfig.src,style:Object(n["normalizeStyle"])(e.logoConfigStyle),alt:""},null,12,a)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(E,{onChengShowMeasureStyle:r.chengShowMeasureStyle},null,8,["onChengShowMeasureStyle"]),e.isShowEdit?(Object(n["openBlock"])(),Object(n["createBlock"])(k,{key:4,onCloseSelf:t[2]||(t[2]=t=>e.isShowEdit=!1),measureData:e.measureData,defaultValue:JSON.stringify(e.measureData.textString)},null,8,["measureData","defaultValue"])):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createVNode"])(D,{message:r.store.state.msgLoadingContent},null,8,["message"]),[[n["vShow"],r.store.state.msgLoadingPopShow]]),Object(n["createVNode"])(A),Object(n["createVNode"])(B),Object(n["createVNode"])(N)],34)}o("14d9"),o("0643"),o("a573"),o("4ee2"),o("88ae"),o("4dcb"),o("b8c8");var c=o("5880"),s=o("d899");o("2382"),o("4e3e"),o("907a"),o("986a"),o("1d02"),o("3c5d"),o("6ce5"),o("2834"),o("4ea1"),o("669d"),o("109c"),o("b2c1"),o("76d6"),o("b7ef"),o("88a7"),o("271a"),o("5494");function l(){var e=[],t=nd_viewCtrl.allTags?nd_viewCtrl.allTags:[];if(t)for(let a=0;a<t.length;a++)try{var o=t[a];if(o&&o.content){var n=JSON.parse(o.content);o.imgURL&&(n.imgURL=o.imgURL),"ImageAnno"==n.state.type&&(n.state.type="",n.state.origiType="ImageAnno"),e.push(n)}else o.cx&&o.cy&&e.push(o)}catch(i){}return e}function d(){return[]}function m(){var e=w(),t=se.state.modelStore.isModelCfg,o=l(),n=d(),i={isModelCfg:t,configNum:e.configNum,shareInfo:e,viewSetting:u(),bgSetList:nd_viewCtrl.bgSetList,allTag:o,allMVData:n};return i}function u(){var e={bgColor:0,showShadow:!1,bgImg:"",inAssemblyContext:!1,pmiVisible:!1,loadbrepDefault:!1,testMode:!1,language:nd_viewCtrl.language||"zh",from:"pc"};return e.disratio=nd_viewCtrl&&nd_viewCtrl.disratio||void 0,e.bgColor=nd_viewCtrl&&nd_viewCtrl.bgColor||0,e.bgColor=B(e.bgColor),e.bgImg=nd_viewCtrl&&nd_viewCtrl.bgImg||"",e.showShadow=nd_viewCtrl&&nd_viewCtrl.showShadow||!1,e.waterString=nd_viewCtrl&&nd_viewCtrl.waterString||"",e.defaultStandardView=nd_viewCtrl&&nd_viewCtrl.defaultStandardView||null,e.pmiVisible=nd_viewCtrl&&nd_viewCtrl.pmiVisible||!1,e.testMode=nd_viewCtrl&&nd_viewCtrl.testMode||!1,e.loadbrepDefault=nd_viewCtrl&&nd_viewCtrl.loadbrepDefault||!1,e.viewerReqHeader=nd_viewCtrl&&nd_viewCtrl.viewerReqHeader||null,e}function g(){var e=se.state.modelStore.isModelCfg,t=se.state.modelStore.activConfig,o=-1;e&&-1==o&&(o=0),-1!=t&&(o=t);var n=nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo,i=n?o:-2;if(void 0!=nd_viewCtrl.configNum&&null!=nd_viewCtrl.configNum&&""!==nd_viewCtrl.configNum){var a=Number(nd_viewCtrl.configNum);a>=0&&(o=a)}if(nd_viewCtrl.shareInfo&&void 0!=nd_viewCtrl.shareInfo.configNum&&null!=nd_viewCtrl.shareInfo.configNum&&""!==nd_viewCtrl.shareInfo.configNum){a=Number(nd_viewCtrl.shareInfo.configNum);a>=0&&(o=a,i=a)}return se.commit("modelStore/setShareConfig",i),o}function p(){var e="";nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.unitType&&nd_viewCtrl.shareInfo.unitType.length>0?(e=nd_viewCtrl.shareInfo.unitType,se.commit("modelStore/setUnitType",e)):nd_viewCtrl&&nd_viewCtrl.unitType&&(e=nd_viewCtrl.unitType),se.commit("modelStore/setUnitType",e);var t=[];return nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.scale&&nd_viewCtrl.shareInfo.scale.length>0?t=nd_viewCtrl.shareInfo.scale:nd_viewCtrl.measuringScale&&nd_viewCtrl.measuringScale.length>0&&(t=nd_viewCtrl.measuringScale),se.commit("modelStore/setInitMeasureScale",t),t}function h(){var e=[];if(nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.bgSetList&&nd_viewCtrl.shareInfo.bgSetList.length>0)e=nd_viewCtrl.shareInfo.bgSetList;else if(nd_viewCtrl&&nd_viewCtrl.bgSetList&&nd_viewCtrl.bgSetList.length>0)e=nd_viewCtrl.bgSetList;else if(nd_viewCtrl&&nd_viewCtrl.bgColor){var t="num:"+String(B(nd_viewCtrl.bgColor));const n=se.state.modelStore.bgSetList;for(var o=0;o<n.length;o++)e.push(t)}return nd_viewCtrl.settingsItem&&nd_viewCtrl.settingsItem.background&&(e=nd_viewCtrl.settingsItem.background),e.length>0&&se.commit("modelStore/setInitBgSetList",e),e}function w(){var e=g(),t=p(),o=1;try{if(t&&t.length>0&&void 0!=t[e]){var n=t[e];n&&n.indexOf(":")>0&&(o=parseFloat(n.split(":")[1])/parseFloat(n.split(":")[0]))}}catch(a){o=1}var i={camerainfo:null,configNum:e,measuringScale:o,isShare:!1};return nd_viewCtrl&&nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo&&(i.camerainfo=nd_viewCtrl.shareInfo.camerainfo,i.isShare=!0),i}function S(){var e=nd_viewCtrl&&(nd_viewCtrl.hideStructure||nd_viewCtrl._opt&&nd_viewCtrl._opt.hideStructure)||!1;return{hideStructure:e}}function v(e){let t=[];if(e||(e=nd_viewCtrl.showBtnCfg),e)return e.forEach((function(e){t.push(e.id);let o=e.list&&v(e.list);o&&(t=t.concat(o))})),t}function b(){var e=S();if(nd_viewCtrl&&!nd_viewCtrl.hidebtnCfg&&(nd_viewCtrl.hidebtnCfg=[]),nd_viewCtrl&&nd_viewCtrl.showBtnCfg)return{type:"show",showbtns:nd_viewCtrl.showBtnCfg};if(nd_viewCtrl&&nd_viewCtrl.hidebtnCfg){nd_viewCtrl.viewMode&&"sync"==nd_viewCtrl.viewMode&&nd_viewCtrl.hidebtnCfg.push("#ico-Tagging"),e.hideStructure&&nd_viewCtrl.hidebtnCfg.push("#ico-structure"),e.hideAreaTool&&(nd_viewCtrl.hidebtnCfg.push("#ico-measure"),nd_viewCtrl.hidebtnCfg.push("#ico-ruler")),e.hideShowPMI&&nd_viewCtrl.hidebtnCfg.push("#ico-pmi");var t=[];if(nd_viewCtrl.hidebtnCfg&&nd_viewCtrl.hidebtnCfg.length>0)for(let e=0;e<nd_viewCtrl.hidebtnCfg.length;e++){var o=nd_viewCtrl.hidebtnCfg[e];o&&(o.startsWith("#")?t.push(o):t.push("#"+o))}return{type:"hide",hidebtns:t}}return{type:"no"}}(function(){try{parent&&parent.nd_viewCtrl?window.nd_viewCtrl=parent.nd_viewCtrl:window.nd_viewCtrl&&(window.nd_viewCtrl=window.nd_viewCtrl)}catch(e){}})();const f=(e,t)=>{},C=e=>{try{let t=decodeURIComponent(e||"");return t}catch(t){let o=e;const n=[{code:"%25",encode:"%"},{code:"%3F",encode:"?"},{code:"%23",encode:"#"},{code:"%26",encode:"&"},{code:"%3D",encode:"="}];o=o.replace(/%25|%3F|%23|%26|%3D/g,(e,t,o)=>{for(const i of n)if(i.code===e)return i.encode});const i=[{code:"%",encode:"%25"},{code:"?",encode:"%3F"},{code:"#",encode:"%23"},{code:"&",encode:"%26"},{code:"=",encode:"%3D"}];return o=o.replace(/[%?#&=]/g,(e,t,o)=>{for(const n of i)if(n.code===e)return n.encode}),decodeURIComponent(o||"")}};function O(){const e={modelFolder:"",Folder:"",Name:"",modejsPath:"",captureImg:"../../assets/img/pic-default2.png",capturePath:"",isShare:!1,bgColor:"0xFFF2F2F2"};return e}function x(e){var t=[];return e.map((e,o,n)=>{var i=O();Object.assign(i,e);var a=e.Folder.substring(e.Folder.lastIndexOf("/")+1),r=/^[0-9]+$/.test(a),c=r?e.Folder.substr(0,e.Folder.lastIndexOf("/")):e.Folder;i.captureImg=c+"/"+e.Name+"_thumbnail.jpg",i.capturePath=c+"/"+e.Name+"_thumbnail.jpg",i.modejsPath=e.Folder+"/model.js","Model"==e.Name&&(i.bgColor="0x000000"),t.push(i)}),t}const y=function(e,t,o){var n=[];if(-1!=o[t].toLowerCase().indexOf(e.toLowerCase())&&n.push(o),o.children.length)for(var i=0;i<o.children.length;i++)n=n.concat(y(e,t,o.children[i]));return n},T=function(e){const t=b();if("show"==t.type){const t=v();let o=e.replace("#","");return!t||-1!=t.indexOf(e)||-1!=t.indexOf(o)}return"hide"!=t.type||!(t.hidebtns.indexOf(e)>-1)},j=function(e){var t=e&&e.replace("(","");t=t&&t.replace(")",""),t=t&&t.replace("rgb","").split(",");for(var o="0X",n=0;n<t.length;n++){var i=Number(t[n]).toString(16);i.length<2&&(i="0"+i),o+=i}return 8!==o.length&&(o=e),o},M=function(e){const t=["","rgb(0,0,0)","rgb(255,253,245)","rgb(242,242,242)"],o=j(t[e]);return o},E=function(e){var t;return t=String(e)&&String(e).indexOf("num:")>=0?parseInt(e.split(":")[1]):M(e),t};function k(e){var t=e.replace("(","").replace(")","").split(",");if(3!=t.length)return"#ffff";for(var o="#",n=0;n<3;n++){var i=t[n];if(""==i&&(i="0"),parseInt(i)!=i)return"#ffff";if(i>255)return"#ffff";var a="0123456789ABCDEF",r="",c=i%16;r=a.substr(c,1),c=(i-c)/16,o+=a.substr(c,1)+r}return o}function D(e){var t=k(e);return t=t.replace("#","0X"),Number(t)}function A(e){return e=e.replace("#","0X"),Number(e)}function B(e){return"string"==typeof e?e.indexOf("#")>=0?A(e):3==e.split(",").length?D(e):e:e}const N=function(e){if(!e||e.indexOf(":")<=0)return;const t=e.split(":")[0],o=e.split(":")[1],n=parseFloat(o)/parseFloat(t);return n},I=function(){var e=new Date;return"cms"+e.getDay()+e.getHours()+e.getMinutes()+e.getSeconds()+e.getMilliseconds()+Math.round(1e4*Math.random())},L=function(e){e.isChecked=!1,e.parent&&L(e.parent)},V=function(e){e.parent&&(e.parent.isChecked=e.parent.children.every(e=>e.isChecked)),e.parent&&e.parent.parent&&V(e.parent)},U=function(e,t){e.isRendered&&e.children&&e.children.map(e=>{e.isChecked=t,e.children&&U(e,t)})},_=function(e){e.isHighlight=!1,e.parent&&_(e.parent)},P=function(e){e.parent&&(e.parent.isHighlight=e.parent.children.every(e=>e.isHighlight)),e.parent&&e.parent.parent&&P(e.parent)},F=function(e,t){e.children&&e.children.map(e=>{e.isHighlight=t,e.children&&F(e,t)})},R=function(e,t){e.uuid==t.uuid?(e.isHighlight=!0,F(e,!0),P(e),z(e)):e.children&&e.children.map(o=>{o.parent=e,R(o,t)})},z=function(e){e.isOpenChild=!0,e.parent&&z(e.parent)},H=function(e,t){e&&(t.isHighlight=e.isHighlight,t.isChecked=e.isChecked,t.isOpenChild=e.isOpenChild,t.children&&t.children.map((t,o)=>{H(e.children[o],t)}))},G=function(e,t){return new Promise((t,o)=>{var{url:n,method:i,data:a,header:r}=e,c=i||"GET",s=!0,l=null;if(window.XMLHttpRequest?l=new XMLHttpRequest:window.ActiveXObject&&(l=new ActiveXObject("Microsoft.XMLHTTP")),null!=l){if(l.onreadystatechange=function(){var e=void 0;if(4==l.readyState){if(l.responseText&&404!=l.status&&!l.responseText.includes("<!DOCTYPE html>"))try{e=JSON.parse(l.responseText)}catch(o){}t(e)}},l.open(c,n,s),l.setRequestHeader("Content-type","application/json; charset=utf8"),r&&"{}"!=JSON.stringify(r))for(let e in r)l.setRequestHeader(e,r[e]);c=c.toUpperCase(),"GET"==c||"DELETE"==c?l.send():"POST"!=c&&"PUT"!=c||l.send(JSON.stringify(a))}else alert("Your browser does not support XMLHTTP."),t(void 0)})},W=function(e,t){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",e),o.onload=function(){t&&t()},document.head.appendChild(o)},q=function(e){if(!pako)return null;let t=atob(e);const o=t.split("").map((function(e){return e.charCodeAt(0)})),n=new Uint8Array(o),i=pako.inflate(n);t=new Uint16Array(i);let a,r="",c=8192;for(a=0;a<t.length/c;a++)r+=String.fromCharCode.apply(null,t.slice(a*c,(a+1)*c));return r+=String.fromCharCode.apply(null,t.slice(a*c)),decodeURIComponent(r)},K=function(e,t){if(!pako)return null;let o;return o=t?pako.gzip(encodeURIComponent(e),{to:"string"}):pako.gzip(e,{to:"string"}),btoa(o)},Z=function(e,t){let o=!1;return e.map(e=>{e.state.uuid==t&&(o=!0)}),o},Y=function(){try{return new Promise((e,t)=>{const o=window.localStorage.getItem("0_BF"),n=(new Date).getTime();let i=o&&o.split(",")[1]||0;if(!o||i-n>864e5){var a=new fingerPrintOwner;a.get(t=>{window.localStorage.setItem("0_BF",t+","+(new Date).getTime()),e(t)})}else e(o.split(",")[0])})}catch(e){return""}},J=function(e){try{let t="MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCxl/XzEMiiYrLq prR5BxAY+IPkPdOtiEt7fP3jtxac0m5S1FAT/3jiQb+bTmqeffsl5gw7LaMMOkAj 5h+HzH/TbTmxYn4dIUkGFvvZHAiwMuDA+7fORjhTaz1hmQi1gUNX9Qu985ys2jFb eXAg5XV2orovM+qY3regbNkWwVk3iJ1Kk3rk2ZBw26AVvs+ujVvAE8cGP/LgAAOe CvNDTiA//agCTajQo1xSkAIcLSNKdUfn5OdTlx0sifXcw5NUmBZKbQ7Q7tC0Xpa1 RanG+5riOzLcw6zOKwHn62Hp3Twosc/hLATaOmz/ru5rnNe+bDBndp3iRo/zCiL8 8iwmg+s7AgMBAAECggEBAJnBWusKSOpuUUDe+7kc6E72OhpNfQrsyY0sdhPE3AsC FQoZTwtBT8Nz8RPhHGYD5IC3XzeNF3DqrcVm4z2LS9Ac7Koq/8zwmGxxUbJylwMV yYjLZiNsoC941Te+as/aDhgEzBm05Jyye7Eavn18q+n+kPt1E1Mu4ARAuOL+muN8 LNqNFOMSYzocXRJqnKSXnnIQQa6FvA6UiM8DaJcXJ83V24tF0vaLfCOOFvfNQwGN gNapppvJGSqE1QjrNwllO8O8cBmiC0PIW0lff2qeXH6bfhzUiaMa70sDEEHcZlW5 WmoJABjYwEH5xvjCqieK5SOGKwQkwFj0gcqBKGWZPYECgYEA6xAV4UqvvIlRvlMI eKAlJJwS10M9avScyq9W+fJk0KVqstGGdIDklRy4pd1SALDwKU4C58I/5Gsky+S+ iPwUaZySWjwgdBl4icv3cbUdu61gUUdHfDh+d+hZcnRKa9EzQEPReOkcVpSlfxnJ oaS7psozL3nUfJrTH+QlflesQXECgYEAwWl1dpcCJkmuacUhzCsZ29BljREjlPK6 6qnjUEY/IWqddH2ZWrJBB+6ZSNYSniNqpsjnFPccQdEfk2kxWLjeCCNb42Lukm6F rrJt7Kit7KW0VDyN7+etkzGRfM0QQl9mhX4wUxWyCKdgq7+Ut/nwlYhZi7TN86n7 qRBN1HPlIWsCgYEA0Q43R20TKoy+RJS4Xf+fyRV9tDE6+Fqg76pNonIvs1jKskqi WA8iPHOUzP8vJSo4DaQx9UjPZijcSvIfetkmll8H0nTTMC5PA86BPYGk9ftWRDMu oo3j/GSK2L4QSh9+g1NNg0lfSKlfHtEigD5wHgCK0Vh64G8aAaz4o4r5yiECgYBH G93K5wQsTYSpcIfXh7UvIvRjI/0AAyoDoshnOBx3zbnsHU1nkgfkwa1roQEhUQYi IdUL2TpzXE6OpOs2omlHdrCO7k2mWqodq45Mp0uiqN2e5tCMdpJTfrLtvnsO3AJW bCmaMmzNT7R0ELC930+7unCps6TQxBs5cjwbMyz31wKBgF1wlS2cWsuOQ76t8LPn jXC6nsU2eisWN5KFbxhNphCnqxgYBJth5Vk3OIby2nmvNGqO12p1bUZpbVEBttyj JcXR+iuasOWWev0SuUFZvp3bYEiX/sCjWZbB9mBjg/s6QW5z4ZW9rF6UdOr7ISQ8 6g9cU4ontroPvD52Jcffyr3f",o=new JSEncrypt;o.setPrivateKey(t);let n=o.decrypt(e);return n}catch(t){return""}},X=e=>{let t=e.left||0,o=e.right||0,n=e.top||0,i=e.bottom||0,a={left:t,bottom:i};return!e.hasOwnProperty("left")&&e.hasOwnProperty("right")&&(delete a.left,a.right=o),e.hasOwnProperty("left")||e.hasOwnProperty("right")||(a.left="16px"),!e.hasOwnProperty("bottom")&&e.hasOwnProperty("top")&&(delete a.bottom,a.top=n),e.hasOwnProperty("bottom")||e.hasOwnProperty("top")||(a.bottom="85px"),e.hasOwnProperty("width")&&(a.width=e.width),e.hasOwnProperty("height")&&(a.height=e.height),a};function Q(e){let t={...e};return t}function ee(e){let t=null,o=e.get("file");try{void 0!=window.createObjectURL?t=window.createObjectURL(o):void 0!=window.webkitURL?t=window.webkitURL.createObjectURL(o):void 0!=window.URL&&(t=window.URL.createObjectURL(o))}catch(n){}return t}function te(e){return!window.nd_viewCtrl||e.every(e=>"function"!==typeof nd_viewCtrl[e])}function oe(e){let t=nd_viewCtrl&&nd_viewCtrl.viewerReqHeader&&nd_viewCtrl.viewerReqHeader.token?nd_viewCtrl.viewerReqHeader.token:"",o=[{name:"NDSCompare2DExtension",url:e+"coreViewer/NDSCompare2DEx.js",imi:!0,token:"abc"},{name:"NDSCamera2DExtension",url:e+"coreViewer/NDSCamera2DEx.js",imi:!1,token:t},{name:"NDSBlockExtension",url:e+"coreViewer/NDSBlockEx.js",imi:!1,token:t},{name:"Measure2DPCExtension",url:e+"coreViewer/NDSMeasure2DPCEx.js",imi:!1,token:t},{name:"AnnotationExtension",url:e+"coreViewer/AnnotationExtension.js",imi:!1,token:t},{name:"NDSTextExtension",url:e+"coreViewer/NDSTextEx.js",imi:!1,token:t},{name:"Select2DPCExtension",url:e+"coreViewer/NDSSelect2DPCEx.js",imi:!1,token:t},{name:"NDSPDFExtension",url:e+"coreViewer/NDSPrintPDFEx.js",imi:!1,token:t},{name:"NDSExcelExportExtension",url:e+"coreViewer/NDSExcelExport.js",imi:!1,token:t},{name:"Annotation2DPCExtension",url:e+"coreViewer/NDSAnnotation2DPCEx.js",imi:!1,token:t},{name:"NDSExtractTextExtension",url:e+"coreViewer/NDSExtractTextEx.js",imi:!1,token:t}];if(nd_viewCtrl&&nd_viewCtrl.extensions){let e=[];for(let t=0,o=nd_viewCtrl.extensions.length;t<o;t++){let o=nd_viewCtrl.extensions[t],n={};for(const e in o)o.hasOwnProperty(e)&&(n[e]=o[e]);e[t]=n}return se.commit("setExtensions",e),nd_viewCtrl.extensions}return se.commit("setExtensions",o),o}const ne=(e,t)=>{let o=e.every(e=>1==e);o&&t&&t()};var ie={namespaced:!0,state:{hideItem:{structTree:!1,measure:!1},configs:[],shareInfo:void 0,shareConfig:-2,isModelCfg:!1,modelPath:"",modelSetInfo:null,nowConfig:-1,nowConfigName:"",annotationTagId:"",activConfig:-1,scaleDialog:!1,measureScale:[],bgSetList:[],colorIdx:0,allTag:[],nowTag:[],delTagUuid:"",tagRelate:!0,_geometryload:!1,_bvhload:!1,_brepload:!1,_pluginload:!1,_highLightNode:[],treeUpdate:!1,unit:"",needOpenImg:"",suportLineWeight:!1,allMeasure:[],nowMeasure:[],measureShow:!0,allMVData:[],nowMVData:[],selectIndexMV:-1,measureSetting:{curUnit:"mm",precisionType:1,precision:4},defaultMeasureSetting:{minScale:1,maxScale:1,curUnit:"mm",precisionType:1,precision:4},rotationAngle:[],defaultRAngle:[],allAnnotation:[],nowAnnotation:[]},mutations:{initModelInfo(e,t){-1===t.opt.configNum?e.nowConfig=0:(e.configs=t.opt.modelList,e.nowConfig=t.opt.configNum),e.shareInfo=t.opt.shareInfo,e.nowConfigName=t.opt.nowConfigName,e.allTag=t.opt.allTag,e.nowTag=t.opt.nowTag,e.allMVData=t.opt.allMVData,e.nowMVData=t.opt.nowMVData},resetTagIndex(e,t){if(e.allTag&&e.allTag.length>0){var o=e.allTag;for(let e=0;e<o.length;e++)o[e].index=String(e+1);e.allTag=o,e.tagRelate&&(e.nowTag=e.allTag.filter(t=>!t.modelName||t.modelName==e.nowConfigName))}},setAllTag(e,t){e.allTag=t},setNowTag(e,t){e.nowTag=t},setModelCfg(e,t){e.isModelCfg=t.isModelCfg,e.isModelCfg&&(e.cfgSrcs=t.cfgSrcs)},setShareConfig(e,t){e.shareConfig=t},setActiveCfg(e,t){e.activConfig=t},setScaleDialog(e,t){e.scaleDialog=t},setGeometryload(e,t){e._geometryload=t},setBvhLoad(e,t){e._bvhload=t},setBrepload(e,t){e._brepload=t},setShowhide(e,t){e.showhide=t},changeMultipleCfg(e,t){if(t!=e.nowConfig){e._geometryload=!1,e._brepload=!1,e.nowConfig=t;var o=e.configs[e.nowConfig].Name;e.nowConfigName=o,e.allTag&&(e.nowTag=e.allTag.filter(e=>!e.modelName||e.modelName==o)),e.allMVData&&(e.nowMVData=e.allMVData.filter(e=>!e.configName||e.configName==o));var n={configNum:e.nowConfig,measuringScale:1};try{if(e.measureScale.length>0&&void 0!=e.measureScale[e.nowConfig]){t=e.measureScale[e.nowConfig];n.measuringScale=N(t)}}catch(c){}var i=e.shareConfig==e.nowConfig?e.shareInfo.camerainfo:null,a=e.configs[e.nowConfig].Folder+"/model.js",r=-2==e.shareConfig?e.nowConfig:e.shareConfig;e.modelPath=a,e.modelSetInfo=n,de.loadModelView(a,null,r,i,n)}},changeNewMultipleCfg(e,t){if(t!=e.nowConfig){e.nowConfig=t;var o=e.configs[e.nowConfig].Name;e.nowConfigName=o}},setModelPath(e,t){e.modelPath=t},setModelSetInfo(e,t){e.modelSetInfo=t},setAnnotationTagId(e,t){e.annotationTagId=t},setNowConfig(e,t){e.nowConfig=t},addTag(e,t){e.nowTag.push(t),e.allTag.push(t)},setSelectIndexMV(e,t){e.selectIndexMV=t},setModelviewData(e,t){e.allMVData=t,e.allMVData&&(e.nowMVData=e.allMVData.filter(t=>!t.configName||t.configName==e.nowConfigName))},addModelview(e,t){e.nowMVData.push(t),e.allMVData.push(t)},updateModelviewLock(e,t){var o=t.uuid,n=t.isLock;e.nowMVData.map((function(e,i){e.configName==t.configName&&(e.uuid==o?e.isLock=!n:e.isLock=!1)})),e.allMVData.map((function(e,i){e.configName==t.configName&&(e.uuid==o?e.isLock=!n:e.isLock=!1)}))},updateModelviewName(e,t){var o=t.uuid;e.nowMVData.map((function(e,n){e.uuid==o&&(e.rename=t.rename)})),e.allMVData.map((function(e,n){e.uuid==o&&(e.rename=t.rename)}))},deleteModelviewByuuid(e,t){var o=-1;e.nowMVData.map((function(e,n){e.uuid==t&&(o=n)})),o>=0&&e.nowMVData.splice(o,1);var n=-1;e.allMVData.map((function(e,o){e.uuid==t&&(n=o)})),n>=0&&e.allMVData.splice(n,1)},editTag(e,t){if(t){var o=-1,n=-1;e.nowTag.map((e,n)=>{e.state.uuid==t.state.uuid&&(o=n)}),e.allTag.map((e,o)=>{e.state.uuid==t.state.uuid&&(n=o)}),-1!=o&&(e.nowTag[o]=t),-1!=n&&(e.allTag[n]=t)}},updateTagText(e,t){var o=t.uuid;e.nowTag.map((function(e,n){e.state.uuid==o&&(e.text=encodeURIComponent(t.text))})),e.allTag.map((function(e,n){e.state.uuid==o&&(e.text=encodeURIComponent(t.text))}))},delTagByuuid(e,t){var o=-1;e.nowTag.map((function(e,n){e.state.uuid==t&&(o=n)})),o>=0&&e.nowTag.splice(o,1);var n=-1;e.allTag.map((function(e,o){e.state.uuid==t&&(n=o)})),n>=0&&e.allTag.splice(n,1),n>=0&&(e.delTagUuid=t)},checkHighLightNode(e,t){e._highLightNode.map(e=>{e.isHighLight=t})},setHighLightNode(e,t){e._highLightNode=t},addHighLightNodeByOne(e,t){e._highLightNode.push(t)},addHighLightNode(e,t){e._highLightNode=e._highLightNode.concat(t)},deleteHighLightNodeByOne(e,t){let o=e._highLightNode.indexOf(t);o>-1&&e._highLightNode.splice(o,1)},deleteHighLightNode(e,t){t.map(t=>{let o=e._highLightNode.indexOf(t);o>-1&&e._highLightNode.splice(o,1)})},setMeasureScale(e,t){e.measureScale[e.nowConfig]=t},setInitMeasureScale(e,t){e.measureScale=t},setInitBgSetList(e,t){e.bgSetList=t},setShareBg(e,t){e.bgSetList[e.nowConfig]=t,e.colorIdx=t},setHideItem(e,t){e.hideItem={...e.hideItem,...t}},treeSubject(e){e.treeUpdate=!e.treeUpdate},setUnitType(e,t){e.measureSetting.curUnit=t},setNeedOpenImg(e,t){e.needOpenImg=t},setSuportLineWeight(e,t){e.suportLineWeight=t},setAllMeasure(e,t){e.allMeasure=t},revampMeasure(e,t){e.allMeasure.forEach((o,n)=>{o.uuid==t.uuid&&(e.allMeasure[n]=t)})},revampMeasures(e,t){let o=t.uuids,n=t.val;o.forEach(t=>{e.allMeasure.forEach((e,o)=>{e.uuid==t&&(e.isHide=n)})})},setNowMeasure(e,t){if(t)t.forEach(t=>{e.allMeasure.forEach(e=>{e.uuid==t.uuid&&(e=t)})}),e.nowMeasure=t;else{let t=[];e.allMeasure.map(o=>{o.configName==e.nowConfigName&&t.push(o)}),e.nowMeasure=t}},setAddMeasure(e,t){e.allMeasure.push(t),e.nowMeasure.push(t)},setDelMeasure(e,t){let o=-1;e.nowMeasure.map((e,n)=>{t.uuid==e.uuid&&(o=n)}),o>=0&&e.nowMeasure.splice(o,1);let n=-1;e.allMeasure.map((e,o)=>{t.uuid==e.uuid&&(n=o)}),n>=0&&e.allMeasure.splice(n,1)},setDelMeasures(e,t){t.forEach(t=>{e.allMeasure.forEach((o,n)=>{o.uuid==t&&e.allMeasure.splice(n,1)})})},setClearNowMeasure(e,t){let o=[];e.allMeasure.map(t=>{t.configName!=e.nowConfigName&&o.push(t)}),e.allMeasure=o,e.nowMeasure=[]},setMeasureSetting(e,t){t&&"object"==typeof t&&(e.measureSetting.curUnit=t.curUnit||"",e.measureSetting.precisionType=t.precisionType||1,e.measureSetting.precision=t.precision||0==t.precision?t.precision:4)},setDefaultMeasureSetting(e,t){t&&"object"==typeof t&&(e.defaultMeasureSetting.min=t.minScale||1,e.defaultMeasureSetting.max=t.maxScale||1,e.defaultMeasureSetting.curUnit=t.curUnit||"",e.defaultMeasureSetting.precisionType=t.precisionType||1,e.defaultMeasureSetting.precision=t.precision||0==t.precision?t.precision:4)},measureSettingChange(e,t){e.measureSettingAll=t},setRotationAngle(e,t){e.rotationAngle[e.nowConfig]=t},setDefaultRAngle(e,t){e.defaultRAngle[e.nowConfig]=t},initRotationAngle(e,t){e.rotationAngle=t?JSON.parse(JSON.stringify(t)):[]},initDefaultRAngle(e,t){e.defaultRAngle=t?JSON.parse(JSON.stringify(t)):[]},setPluginLoaded(e,t){e._pluginload=t},setAnnotations(e,t){e.allAnnotation=t},setNowAnnotation(e){let t=[];e.allAnnotation&&e.allAnnotation.forEach(o=>{o.state.configName==e.nowConfigName&&t.push(o)}),e.nowAnnotation=t},addAnnotation(e,t){let o=!1;e.allAnnotation&&e.allAnnotation.forEach(e=>{e.state.uuid==t.state.uuid&&(o=!0)}),o||(e.allAnnotation.push(t),e.nowAnnotation.push(t))},delAnnotation(e,t){let o=-1;e.nowAnnotation.map((e,n)=>{t.state.uuid==e.state.uuid&&(o=n)}),o>=0&&e.nowAnnotation.splice(o,1);let n=-1;e.allAnnotation.map((e,o)=>{t.state.uuid==e.state.uuid&&(n=o)}),n>=0&&e.allAnnotation.splice(n,1)},changeAnnotation(e,t){e.allAnnotation&&e.allAnnotation.forEach((o,n)=>{o.state.uuid==t.state.uuid&&(e.allAnnotation[n]=t)}),e.nowAnnotation.forEach((o,n)=>{o.state.uuid==t.state.uuid&&(e.nowAnnotation[n]=t)})}},actions:{}},ae={namespaced:!0,state:{isShowTagEdit:!1,tagDrawing:!1,tagCurUuid:"",tagShow:!0,noteSelectId:[],isSelNewTag:!1},mutations:{startNewTagDraw(e){e.isShowTagEdit=!0},setTagdrawing(e,t){e.tagDrawing=t},setTagshow(e,t){e.tagShow=t},setTagCurUuid(e,t){e.tagCurUuid=t},setNoteSelectId(e,t){e.noteSelectId=t},setSelNewTag(e,t){e.isSelNewTag=t}},actions:{}},re={namespaced:!0,state:{showOneMenu:!0,menuChoose:"",menuChoose2:"",menuChoose3:"",showAllMenu:!0,structMenu:!1,unitMenu:!1,showManyConfig:!0,textFindMenu:!1,blockSearchMenu:!1,excelGetShow:!1,hasBlockSearchBtn:!1,textGetMenu:!1,textGetResultMenu:!1,menuCurIndex:0},mutations:{setHasBlockSearchBtn(e,t){e.hasBlockSearchBtn=t},setExcelGetShow(e,t){e.excelGetShow=t},setShowOneMenu(e,t){e.showOneMenu=t},setMenuChoose(e,t){e.menuChoose=t},setMenuChoose2(e,t){e.menuChoose2=t},setMenuChoose3(e,t){e.menuChoose3=t},setShowAllMenu(e,t){e.showAllMenu=t},setStructMenu(e,t){e.structMenu=t},setShowManyConfig(e,t){e.showManyConfig=t},setUnitMenu(e,t){e.unitMenu=t},setTextFindMenu(e,t){e.textFindMenu=t},setTextGetMenu(e,t){e.textGetMenu=t},setBlockSearchMenu(e,t){e.blockSearchMenu=t},setTextGetResultMenu(e,t){e.textGetResultMenu=t},setMenuCurIndex(e,t){e.menuCurIndex=t}},actions:{}},ce={namespaced:!0,state:{compareAddModelWrap:!1,compareAddPosition:"left",compareModelUrl:"",hasOtherModel:!1,compareModelTitle:[],configs:[],nowConfig:-1,nowConfigName:"",modelPreUrl:""},mutations:{setCompareModelTitle(e,t){e.compareModelTitle=t},setCompareAddPosition(e,t){e.compareAddPosition=t},setCompareAddModelWrap(e,t){e.compareAddModelWrap=t},setCompareModelUrl(e,t){e.compareModelUrl=t},setHasOtherModel(e,t){e.hasOtherModel=t},setModelPreUrl(e,t){e.modelPreUrl=t},changeMultipleCfg(e,t){if(t!=e.nowConfig){e.nowConfig=t;var o=e.configs[e.nowConfig].Name;e.nowConfigName=o}},initModelInfo(e,t){e.configs=t,e.nowConfig=0,e.nowConfigName=e.configs[0].Name}},actions:{}},se=Object(c["createStore"])({namespaced:!0,state:{isShowCtrlBtn:!1,isShowBottomBtn:!1,isShowMsg:!1,msgTxt:"",msgFunc:null,showAreaTips:!0,helpShow:!1,showLoading:!0,isShareConfig:!1,treeMode:"normal",opt:{},mpath:"",language:"",isFull:!1,clickIng:!1,setTi:null,printMode:!1,rtmNeedCover:!1,modelIsLoaded:!1,msgLoadingPopShow:!1,msgLoadingContent:"",extensions:[],isShowCompar:!1},mutations:{setMsgLoadingPopShow(e,t){e.msgLoadingPopShow=t},setMsgLoadingContent(e,t){e.msgLoadingContent=t},setLanguage(e,t){e.language=t},showCtrlBtn(e){e.isShowCtrlBtn=!0},hideCtrlBtn(e){e.isShowCtrlBtn=!1},showBottomBtn(e){e.isShowBottomBtn=!0},hideBottomBtn(e){e.isShowBottomBtn=!1},showMsgTip(e,t){e.msgTxt=t.txt,e.isShowMsg=!0,e.msgFunc=t.func},hideMsgTip(e){e.isShowMsg=!1},setShowAreaTips(e,t){e.showAreaTips=t},setHelpShow(e,t){e.helpShow=t},setShowLoading(e,t){e.showLoading=t},setTreemode(e,t){e.treeMode=t},setOpt(e,t){e.opt=t},setPath(e,t){e.mpath=t.mpath},setFull(e,t){e.isFull=t},setClickIng(e,t){e.setTi&&clearTimeout(e.setTi),e.clickIng=t,e.setTi=setTimeout(()=>{e.clickIng=!1},1e3)},setPrintMode(e,t){e.printMode=t},setRtmNeedCover(e,t){e.rtmNeedCover=t},setModelIsLoaded(e,t){e.modelIsLoaded=t},setExtensions(e,t){e.extensions=t},ShowCompar(e,t){e.isShowCompar=t}},actions:{},modules:{modelStore:ie,tagStore:ae,menuStore:re,compareModelStore:ce}});const le={_inited:!1,_viewer:null,_loaded:0,_geometryload:!1,_pmiload:!1,_nowModel:0,_OnlyVisbale:void 0,_is2DModel:!1,_viewMode:"common",_modelId:0,storeViewUtil:null,blockUtil:null,measureUtil:null,selectObjUtil:null,annotationUtil:null,textUtil:null,compareUtil:null,pdfExtensionUtil:null,annotation2DPCUtil:null,textGetExtensionUtil:null,state:{brepOk:!1,pmiOk:!1},copyRight:["新迪","MD5 6bf14f1225fc5faa","3870337AC4335EB9","武汉新迪数字工程系统有限公司","MD5 7119695dc5e0b620","F2594065542A15E9649EF73FDDBCA95E2FDA28426AE5B3C8DA906D8F80ED2F82","杭州新迪数字工程系统有限公司","MD5 975c80e892939df2","E411A8048C3755F3856E6224F3B78E5A35442CB1D7CD4491873F2E161326BC30"],init:function(e){if(!this.copyRight)return;if(this._inited)return;let t;this._inited=!0;let o=nd_viewCtrl.language||"zh";"zh"==o&&(o="zh-CN"),this._viewer=new NDSWebViewer.Viewer({id:"viewer",from:e.from,singleHTML:!1,singleWorkerSource:t,serverUrl:Object({NODE_ENV:"production",VUE_APP_LANGUAGE:"zh",VUE_APP_ONETAG:"",BASE_URL:""}).VUE_APP_PUBLIC||"./",NdsLoadWorkerUrl:"coreViewer/NDSRequestWorker.min.js",NdsPluginFileList:[],CustomExtensions:oe(Object({NODE_ENV:"production",VUE_APP_LANGUAGE:"zh",VUE_APP_ONETAG:"",BASE_URL:""}).VUE_APP_PUBLIC||"./"),waterInfo:nd_viewCtrl.waterInfo||null,enableArrowKeyOp:!0,backGroundColor:e.bgColor,enableGroundShadow:!1,enableAutoRotation:!1,backGroundImage:e.bgImg,is2DModel:!0,language:o,inAssemblyContext:!1,toolbar:!1,pmiVisible:!0,loadbrepDefault:e.loadbrepDefault,has2DCover:!0,hasLoadingWaiter:!1,hasLoadingCoverer:!0,enableSelect:!0,autoSwitchFirstPersonView:!1,showLines:!0,projectionMode:"Orthographic",hasViewBox:!1,limitEventArea:!0,convertPhongToPBR:!0,enableBodyVolumeMeasure:!0,clipPlaneShaderVersion:3,showSectionPlane:!0,defaultStandardView:"front",defaultOpRotate:!1,Arthur:e.waterString,viewState:"shadedWithEdges",testMode:e.testMode,disratio:e.disratio,gobalReqHeader:Q(e.viewerReqHeader||null)})},getViewerIntance:function(){return this._viewer},async loadModelView(e,t,o,n,i){let a;se.commit("setShowLoading",!0);let r=nd_viewCtrl&&nd_viewCtrl.renderKey;if(a=await this.allowCode(e),2==a&&!se.state.modelIsLoaded&&"sync"!=nd_viewCtrl.viewMode){if(!nd_viewCtrl.hasOwnProperty("fingerHttp"))return se.commit("setShowLoading",!1),se.commit("menuStore/setShowManyConfig",!1),void xv.$eventBus.emit("MsgTipEvent4",xv.$t("modelLoadErr"));const e=await Y();let t={browserMark:e,viewerVersion:window.ViewerVersion,viewerType:"2DPC"};nd_viewCtrl.fingerParams&&Object.keys(nd_viewCtrl.fingerParams).length>0&&(t={...t,...nd_viewCtrl.fingerParams});const o=await G({url:nd_viewCtrl.fingerHttp+"/nds_requests/common/ViewerVisit",method:"POST",data:t});if(!o)return se.commit("menuStore/setShowManyConfig",!1),se.commit("setShowLoading",!1),void xv.$eventBus.emit("MsgTipEvent4",xv.$t("modelLoadErr"));if(1!=o.status.code)return xv.$eventBus.emit("MsgTipEvent4",o.status.msg),se.commit("menuStore/setShowManyConfig",!1),void se.commit("setShowLoading",!1);r=o.data;let n=JSON.parse(J(o.data));if(n.browserMark!=e)return se.commit("menuStore/setShowManyConfig",!1),void se.commit("setShowLoading",!1);if(!n.visit)return xv.$eventBus.emit("MsgTipEvent4",xv.$t("modelLimitErr")),se.commit("menuStore/setShowManyConfig",!1),void se.commit("setShowLoading",!1)}if(2==a&&!se.state.modelIsLoaded){const e=this._viewer.allowRenderModel(r,!0);if(2!=e)return xv.$eventBus.emit("MsgTipEvent4",xv.$t("modelLoadErr")),se.commit("menuStore/setShowManyConfig",!1),void se.commit("setShowLoading",!1)}var c=se.state.modelStore.bgSetList[se.state.modelStore.nowConfig||0],s=E(c);le.setBackGroundColor(s),se.commit("modelStore/setShareBg",c),se.commit("modelStore/setModelPath",e),se.commit("modelStore/setModelSetInfo",i),n=n||null,i=i||{},i.configNum=o||0,i.configName=se.state.modelStore.nowConfigName,this._viewer.resetForReload(),this._viewer.loadModel("idv",e,void 0,void 0,"js",n,(function(){le._nowModel=o,le.enableRotation(!1),setTimeout(()=>{le._viewer.onWindowResize()},2e3),t&&t()}),null,i)},easyLoadModel:function(e,t,o){this._viewer.loadModel("idv",e,void 0,void 0,"js",void 0,(function(){o&&o()}),null,t)},modelUnit:function(){return this._viewer.modelUnit},allowCode(e){return new Promise((t,o)=>{this._viewer.allowshow(e,e=>{t(e)})})},broadcastMember:function(e){try{var t=le._viewer.getBroadcastInfo();"yzp"==le._viewMode&&yzp_page_vue&&yzp_page_vue.isSyncView&&yzp_page_vue.isNowAssembling&&yzp_viewCtrl.SocketFun_ViewropeateSend(t,e)}catch(o){}},listenerBroadcastEvent:function(){var e=this;this._viewer.removeEventListener("broadcastEvent",e.broadcastMember),this._viewer.addEventListener("broadcastEvent",e.broadcastMember)},setBroadcastInfo:function(e){var t=this;t._viewer&&t._viewer.setBroadcastInfo(e)},recieveDirect_viewer:function(e){var t=this,o=e;if(t._viewer&&!NDSWebViewer.SETTING.broadcastMajor&&NDSWebViewer.SETTING.enableBroadcast){t._viewer.setBroadcastInfo(o);window.performance.now()}},containProperty:function(){return this._viewer.containProperty},getViewer:function(){return this._viewer},addListener:function(e,t){this._viewer.addEventListener(e,t)},onMoveForward:function(){this._viewer.onMoveForward()},onMoveBack:function(){this._viewer.onMoveBack()},onMoveLeft:function(){this._viewer.onMoveLeft()},onMoveRight:function(){this._viewer.onMoveRight()},onResetCamera:function(){return this._viewer.onResetCamera()},setOperatorByID:function(e){return this._viewer.setOperatorByID(e)},onSectionView:function(e){return this._viewer.onSectionView(e)},hideShowClipPlane:function(e){return this._viewer.clipPlaneManager.hideShowClipPlane(e)},reverseClipDirection:function(){return this._viewer.clipPlaneManager.reverseClipDirection()},getSelectedObjects:function(){return this._viewer.selectionManager.getSelectedObjects()},isolateSelectedObjects:function(){return this._viewer.isolateSelectedObjects()},hideSelectedObjects:function(){return this._viewer.hideSelectedObjects()},onSelectAndMoveModel:function(){return this._viewer.onSelectAndMoveModel(!0)},onSelectAndRestoreModel:function(){return this._viewer.onSelectAndRestoreModel(!0)},onHideModel:function(){return this._viewer.onHideModel()},onReverseVisibleAndHidingModel:function(){return this._viewer.onReverseVisibleAndHidingModel()},showAllModel:function(){return this._viewer.showAllModel()},getSelectedObjectProperty:function(e){this._viewer.getSelectedObjectProperty(e)},hasObjectHiddenOrIsolated:function(){return this._viewer.hasObjectHiddenOrIsolated()},getModelTree:function(){return this._viewer.getModelTree(this._OnlyVisbale)},isLeaf:function(e){return this._viewer.isLeaf(e)},clearSelection:function(){this._viewer.selectionManager.clearSelection(),this.render()},selectObject:function(e){this._viewer.selectionManager.selectObject(e,!0)},deselectObject:function(e){this._viewer.selectionManager.deselectObject(e)},isolateSelectedObjects:function(e){this._viewer.isolateSelectedObjects()},zoomToObject:function(e){this._viewer.zoomToObject(e)},getObjectProperty:function(e,t){this._viewer.getObjectProperty(e,t)},setMeasureOpType:function(e){this.measureUtil&&this.measureUtil.setMeasureOpType(e)},setMeasuringScale:function(e){this._viewer.setMeasuringScale(e)},lookByFace:function(e){this._viewer.cameraControl.lookByFace(e)},onBoxSectionView:function(e){this._viewer.onBoxSectionView(e)},setBackGroundColor:function(e){this._viewer.setBackGroundColor(e)},getHotPoint:function(e,t){return this._viewer.getHotPoint(e,t)},addAnnotation:function(e){this.annotationUtil&&this.annotationUtil.addAnnotation(e)},addAnnotationSave:function(e){this.annotationUtil&&this.annotationUtil.addAnnotationSave(e)},CorrectPosition:function(e){this.annotationUtil&&this.annotationUtil.CorrectPosition(e)},resetSelectAnnotation:function(){this.annotationUtil&&this.annotationUtil.resetSelectAnnotation()},setAnnotationsVisibility:function(e){this.annotationUtil&&this.annotationUtil.setAnnotationsVisibility(e)},selectAnnotation:function(e){this.annotationUtil&&this.annotationUtil.selectAnnotation(e)},removeAnnotation:function(e){this.annotationUtil&&this.annotationUtil.removeAnnotation(e)},removeAnnotations:function(e){this.annotationUtil&&this.annotationUtil.removeAnnotations(e)},removeAllAnnotations:function(){this.annotationUtil&&this.annotationUtil.removeAllAnnotations()},displayViewBox:function(e){this._viewer.displayViewBox(e)},clientCoordToModelCoord:function(e,t){return this._viewer&&this._viewer.clientCoordToModelCoord(e,t)},modelCoordToClientCoord:function(e,t){return this._viewer&&this._viewer.modelCoordToClientCoord(e,t)},onExplode:function(e){this._viewer.onExplode(e)},getExplodeFactor:function(){return this._viewer.getExplodeFactor()},onLineVisibility:function(e){this._viewer.onLineVisibility(e)},getCurrentOperatorID:function(){return this._viewer.getCurrentOperatorID()},isModelMoved:function(){return this._viewer.isModelMoved()},onSelectAndMoveModel:function(){"OpDrag"!=this._viewer.getCurrentOperatorID()&&this._viewer.setOperatorByID("OpDrag"),this._viewer.onSelectAndMoveModel(!0)},onSelectAndRestoreModel:function(){"OpDrag"!=this._viewer.getCurrentOperatorID()&&this._viewer.setOperatorByID("OpDrag"),this._viewer.onSelectAndRestoreModel(!0)},isPerspective:function(){return this._viewer.camera.IsPerspective()},toPerspective:function(){this._viewer.camera.toPerspective()},toOrthographic:function(){this._viewer.camera.toOrthographic()},showObject:function(e,t){this._viewer.showObject(e,t),t||this.deselectObject(e)},render:function(){this._viewer.render()},isAllHidden:function(){return this._viewer.isAllHidden()},setPmiVisible:function(e){this._viewer.setPmiVisible(e)},isObjectOrSomeChildHidden:function(e){return this._viewer.isObjectOrSomeChildHidden(e)},getCameraInfo:function(){return this._viewer.getCameraInfo()},hasAnimations:function(){return this._viewer.hasAnimations()},getAllAnimationsInfo:function(){return this._viewer.getAllAnimationsInfo()},startAnimationByUUID:function(e,t){this._viewer.startAnimationByUUID(e,t)},setAnimationScaleByUUID:function(e,t){this._viewer.setAnimationScaleByUUID(e,t)},exitAnimations:function(){this._viewer.exitAnimations()},enableRotation:function(e){this._viewer.enableRotation(e)},OpMeasureRelease:function(){this._viewer.OpMeasureRelease()},setMeasuringScale:function(e){this._viewer.setMeasuringScale(e)},getPrintData:function(e,t,o,n,i,a){return"select"==i?this._viewer.getExtension("NDSPDFExtension")&&this._viewer.getExtension("NDSPDFExtension").getPrintData(e,t,o,n,i,a):"view"==i?this._viewer.getExtension("NDSPDFExtension")&&this._viewer.getExtension("NDSPDFExtension").getPrintData(e,t,o,n,i):this._viewer.getExtension("NDSPDFExtension")&&this._viewer.getExtension("NDSPDFExtension").getPrintData(e,t,o,n)},getPrintDataCallback:function(e,t,o,n,i,a,r){this._viewer.getExtension("NDSPDFExtension")&&("select"==a?this._viewer.getExtension("NDSPDFExtension").getPrintDataCallback((function(t){e&&e(t)}),t,o,n,i,a,r):"view"==a?this._viewer.getExtension("NDSPDFExtension").getPrintDataCallback((function(t){e&&e(t)}),t,o,n,i,a):this._viewer.getExtension("NDSPDFExtension").getPrintDataCallback((function(t){e&&e(t)}),t,o,n,i))},operatorExcel:function(){this._viewer.setOperatorByID("OpExcel")},exitExcel:function(){this._viewer.getExtension("NDSExcelExportExtension").exitExcel()},extendExcel:function(){if(this._viewer.getExtension("NDSExcelExportExtension"))return this._viewer.getExtension("NDSExcelExportExtension").extendExcel()},reDrawExcel:function(){if(this._viewer.getExtension("NDSExcelExportExtension"))return this._viewer.getExtension("NDSExcelExportExtension").reDrawExcel()},getFileName:function(){return this._viewer.getExtension("NDSExcelExportExtension").getFileName()},getBlocks:function(){const e=this.blockUtil&&this.blockUtil.getBlocks();return e||[]},getBlocksPicture:function(e){const t=this.blockUtil&&this.blockUtil.getBlocksPicture(e);return t||[]},showBlocks:function(e,t){this.blockUtil&&this.blockUtil.showBlocks(e,t)},exitBlock:function(){this.blockUtil&&this.blockUtil.exitBlock()},clearSearchRect:function(){this.blockUtil&&this.blockUtil.clearSearchRect()},drawSearchRect:function(e,t){this.blockUtil&&this.blockUtil.drawSearchRect(e,t)},findBlocksByName:function(e,t){const o=this.blockUtil&&this.blockUtil.findBlocksByName(e,t);return o||[]}};var de=le;const me=function(e){if(Detector.webgl){var t=m();const a={modejsPath:"",modelList:[],configNum:t.configNum,shareInfo:t.shareInfo,allTag:t.allTag,nowTag:[],nowConfigName:"",mpath:e.mpath,allMVData:t.allMVData,nowMVData:[]};de.init(t.viewSetting);var o="";if(e.isModelCfg){a.modelList=x(e.cfgSrcs),(-1==a.configNum||1==a.modelList.length||a.configNum-1>a.modelList.length)&&(a.configNum=0);var n=a.modelList[a.configNum];if(n){n.isShare=!0,a.modejsPath=n.modejsPath,o=n.Folder;var i=n.Name;a.nowConfigName=i,a.nowTag=t.allTag.filter(e=>!e.modelName||e.modelName==i),a.nowMVData=t.allMVData.filter(e=>!e.configName||e.configName==i)}}else a.modejsPath=e.cfgSrcs[0],a.nowTag=JSON.parse(JSON.stringify(a.allTag)),a.nowMVData=JSON.parse(JSON.stringify(a.allMVData));return se.commit("modelStore/initModelInfo",{opt:a,initSet:t}),window.configImgPath=o,{opt:a,initSet:t}}alert("系统不支持!")};function ue(e,t){Array.isArray(e)&&(e=e[1]);var o=e,n=e.indexOf("model.js");n>1?o=e.substr(0,n):e.lastIndexOf("/")!=e.length-1&&(o=e+"/"),se.commit("setPath",o),G({url:o+"Configurations.json",method:"GET",header:nd_viewCtrl&&nd_viewCtrl.viewerReqHeader||""}).then(e=>{var n=!!e,i={isModelCfg:n,cfgSrcs:[],mpath:o},a=[];if(e){var r="";if(e.Configurations){i.isModelCfg=!0;var c=e.Configurations;c[0].isActive=!0,c.map(e=>{e.Folder=r+o+e.Folder});for(let e=0;e<c.length;e++)"Model"==c[e].Name?(i.cfgSrcs.splice(0,0,c[e]),a.splice(0,0,1)):(i.cfgSrcs.push(c[e]),a.push(3));for(let e=0;e<i.cfgSrcs.length;e++)i.cfgSrcs[e].isActive&&se.commit("modelStore/setActiveCfg",e)}}else a.push(1);se.commit("modelStore/setInitBgSetList",a),h(),i.isModelCfg||(i.cfgSrcs=[o+"model.js"]),se.commit("modelStore/setModelCfg",i);var s=me(i);t&&t(s)})}const ge=function(e){if(!Detector.webgl)return void alert("系统不支持!");const t=m();de.init(t),de._viewer.loadFlateDate(window.nd_viewerBlob),de._viewer.addEventListener("Configurations",t=>{let o="";const n=JSON.parse(t.userData);var i=!!n,a={isModelCfg:i,cfgSrcs:[],mpath:o},r=[];if(n){var c="";if(n.Configurations){a.isModelCfg=!0;var s=n.Configurations;s[0].isActive=!0,s.map(e=>{e.Folder=c+o+e.Folder});for(let e=0;e<s.length;e++)"Model"==s[e].Name?(a.cfgSrcs.splice(0,0,s[e]),r.splice(0,0,1)):(a.cfgSrcs.push(s[e]),r.push(3));for(let e=0;e<a.cfgSrcs.length;e++)a.cfgSrcs[e].isActive&&se.commit("modelStore/setActiveCfg",e)}}else r.push(1);se.commit("modelStore/setInitBgSetList",r),h(),a.isModelCfg||(a.cfgSrcs=[o+"model.js"]),se.commit("modelStore/setModelCfg",a);t=me(a);e&&e(t)})},pe={_btnSetting:[],_bottomDom:[],maxBtnCount:new Map,init(){nd_viewCtrl.showBtnCfg&&nd_viewCtrl.showBtnCfg.length>0&&(this._btnSetting=nd_viewCtrl.showBtnCfg)},readyForDom(e){const t=this;t.init(),this._btnSetting.forEach((e,o)=>{t.changeOneLevelBottom(e,o)}),e&&e()},getChildDom(e){let t=[];if(e){const o=this;e.forEach((e,n)=>{let i=document.getElementById(e.id);i&&i.setAttribute("sortidx",n),e.imgUrl&&i.querySelector("img").setAttribute("src",e.imgUrl),t.push(i);let a,r=document.getElementById(e.id+"-list"),c=o.getChildDom(e.list);r&&(a=r.querySelector(".return-menu")),r&&(r.innerHTML="",a&&r.appendChild(a),c.length&&c.map(e=>{e&&r.appendChild(e)}))})}return t},changeLevelLeft(e){if(e.id){let t=document.getElementById(e.id+"-list"),o=this.getChildDom(e.list);if(o=o.sort((e,t)=>e.getAttribute("sortidx")-t.getAttribute("sortidx")),t.innerHTML="",o.length?o.map(e=>{t.appendChild(e)}):t.nextElementSibling.style.display="block",e.imgUrl){let t=document.getElementById(e.id).querySelector("img");t.setAttribute("src",e.imgUrl)}}},changeOneLevelBottom(e,t){let o;o=document.getElementById(e.id),o&&(o.setAttribute("sortidx",t),this.changeBottomChildDom(e),this._bottomDom.push(o),e.imgUrl&&o.querySelector("img").setAttribute("src",e.imgUrl)),t==this._btnSetting.length-1&&this.sortBottomOneLevelBtn()},changeBottomChildDom(e){let t=document.getElementById(e.id+"-list"),o=t&&t.querySelector(".return-menu"),n=this.getChildDom(e.list);n=n.sort((e,t)=>e&&t?e.getAttribute("sortidx")-t.getAttribute("sortidx"):0),t&&(t.innerHTML="",o&&t.appendChild(o),n.length?n.map(e=>{t.appendChild(e)}):t.nextElementSibling&&(t.nextElementSibling.style.display="block"))},sortBottomOneLevelBtn(){let e=document.getElementById("bottomMainMenu");this._bottomDom=this._bottomDom.sort((e,t)=>e.getAttribute("sortidx")-t.getAttribute("sortidx"));const t=document.getElementById("ico-arrowRight"),o=document.getElementById("ico-arrowLeft");e.innerHTML="",e.appendChild(o),this._bottomDom.map(t=>{e.appendChild(t)}),e.appendChild(t)},checkIsOverwidth(e){const t=$(e+">li").not(".return-menu"),o=$("#vueMain").width(),n=t.length,i=76*n;var a=$(e+">li.return-menu").length>0,r=a?164:100;if(o-i>r)return!1;{let t=parseInt((o-r-72)/76);return t=t>0?t:1,this.maxBtnCount.set(e,t),!0}},hideRightBottom(e,t){let o=this.maxBtnCount.get(e);e+=">li";let n=o%2==0?o/2:(o+1)/2;$(e).not(".return-menu").length;se.state.menuStore.menuCurIndex-n<0?se.commit("menuStore/setMenuCurIndex",0):se.commit("menuStore/setMenuCurIndex",se.state.menuStore.menuCurIndex-n);let i=parseInt(se.state.menuStore.menuCurIndex/n);se.state.menuStore.menuCurIndex-parseInt(se.state.menuStore.menuCurIndex/n)*n>0&&(i+=1),$(e).not(".return-menu").each((e,t)=>{if(e<se.state.menuStore.menuCurIndex)$(t).hide();else{if(o--,o<0)return void $(t).hide();$(t).show()}}),se.state.menuStore.menuCurIndex<=0&&t&&t()},hideLeftBottom(e,t){let o=this.maxBtnCount.get(e);e+=">li";$(e)&&$(e).not(".return-menu").length;let n=o%2==0?o/2:(o+1)/2;const i=$(e).not(".return-menu").length,a=i-o;se.state.menuStore.menuCurIndex+n>a?se.commit("menuStore/setMenuCurIndex",a):se.commit("menuStore/setMenuCurIndex",se.state.menuStore.menuCurIndex+n);let r=parseInt(se.state.menuStore.menuCurIndex/n);se.state.menuStore.menuCurIndex-parseInt(se.state.menuStore.menuCurIndex/n)*n>0&&(r+=1),$(e).not(".return-menu").each((e,t)=>{if(e<se.state.menuStore.menuCurIndex)$(t).hide();else{if(o--,o<0)return void $(t).hide();$(t).show()}}),se.state.menuStore.menuCurIndex>=a&&t&&t()},showAllBottom(e,t){e+=">li",$(e).not(".return-menu").each((e,t)=>{$(t).show()}),t&&t()}};var he=pe;o("fffc");function we(e,t,o,n){return Math.sqrt((e-o)*(e-o)+(t-n)*(t-n))}function Se(e,t,o,n){var i={};return i.x=Math.round(Math.cos(o)*n+e),i.y=Math.round(Math.sin(o)*n+t),i}function ve(e,t,o){var n=e.x,i=e.y,a=t.x,r=t.y,c=[],s=+o,l=we(n,i,t.x,t.y),d=Math.atan2(r-i,a-n);return t=Se(n,i,d,l-1.5*s),a=t.x,r=t.y,s=Math.max(3*s,10),c.push("M",n,i,"L",a,r),c.push("M",a,r),c.push("L",a-s*Math.cos(d-Math.PI/7),r-s*Math.sin(d-Math.PI/7)),c.push("L",a-s*Math.cos(d+Math.PI/7),r-s*Math.sin(d+Math.PI/7)),c.push("L",a,r),c.push("L",a-s*Math.cos(d-Math.PI/7),r-s*Math.sin(d-Math.PI/7)),c.join(" ")}function be(e,t){var o=.5*a(t.x-e.x),n=.5*a(t.y-e.y),i=["M",e.x,e.y+n];return i.push("a",Math.abs(o),Math.abs(n),0,1,1,a(2*o),0),i.push("a",Math.abs(o),Math.abs(n),0,1,1,a(2*-o),0),i.push("z"),i.join(" ");function a(e){return 0==e?1:e}}function fe(e,t){var o=t.x,n=e.x,i=t.y,a=e.y,r=Math.abs(o-n),c=Math.abs(i-a),s=Math.sqrt(Math.pow(r,2)+Math.pow(c,2)),l=c/s,d=Math.acos(l),m=Math.floor(180/(Math.PI/d));return n>o&&a>i&&(m=180-m),n==o&&a>i&&(m=180),n>o&&a==i&&(m=90),n<o&&a>i&&(m=180+m),n<o&&a==i&&(m=270),n<o&&a<i&&(m=360-m),m}function Ce(e,t,o){if(de){var n=de._viewer&&de._viewer.modelCoordToClientCoord([e,t,o]);return{x:n[0],y:n[1]}}return{x:0,y:0}}function Oe(e,t){if(de){var o=de._viewer&&de._viewer.clientCoordToModelCoord([e,t]);return{cx:o[0],cy:o[1],cz:o[2]}}return{cx:0,cy:0,cz:0}}function xe(e,t){if(de){var o=de.annotationUtil&&de.annotationUtil.getHotPoint(e,t);return o}return null}function ye(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],o=!1,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){o=!0;break}return o}function Te(e){var t=document.createElement("canvas");t.style.width=$("#t_container").width()+"px",t.style.height=$("#t_container").height()+"px",t.id="drawImg",$("#t_container").append(t);var o=new Image;o.setAttribute("crossOrigin","anonymous"),de._viewer.getScreenCapture(e=>{o.src=e}),o.onload=function(){t.width=o.width,t.height=o.height,t.getContext("2d").drawImage(o,0,0),html2canvas(document.getElementById("viewer"),{useCORS:!0,allowTaint:!0,ignoreMouse:!0,ignoreAnimation:!0}).then(t=>{e&&e(t.toDataURL("image/png")),$("#drawImg").remove()})}}function je(e){var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=document.createElement("canvas");o.style.width=$("#t_container").width()+"px",o.style.height=$("#t_container").height()+"px",o.id="drawImg",$("#t_container").append(o);var n=new Image;n.setAttribute("crossOrigin","anonymous"),de._viewer.getScreenCapture2((function(e){n.src=e}),!1,!0,void 0,void 0,!0,!0),de._viewer.render(),n.onload=function(){o.width=n.width,o.height=n.height,o.getContext("2d").drawImage(n,0,0),se.commit("menuStore/setShowAllMenu",!1),t?html2canvas(document.getElementById("vueMain"),{useCORS:!0,allowTaint:!0,ignoreMouse:!0,ignoreAnimation:!0}).then(t=>{se.commit("menuStore/setShowAllMenu",!0);var o=t.toDataURL("image/png");e&&e(o),$("#drawImg").remove()}).catch(e=>{se.commit("menuStore/setShowAllMenu",!0)}):domtoimage.toPng(document.getElementById("vueMain")).then(t=>{se.commit("menuStore/setShowAllMenu",!0),e&&e(t),$("#drawImg").remove()}).catch(e=>{se.commit("menuStore/setShowAllMenu",!0)})}}var Me={offsetSave:{x:0,y:0},saveCss:"",nowCssInfo:{},operateType:"",nowDivInfo:{},setDivPos:function(e,t){var o=e.getBBox();this.nowDivInfo={width:o.width,height:o.height},t.style.width=this.nowDivInfo.width+20+"px",t.style.height=this.nowDivInfo.height+20+"px",this.nowDivInfo.left=o.x,this.nowDivInfo.top=o.y,t.style.left=this.nowDivInfo.left-10+"px",t.style.top=this.nowDivInfo.top-10+"px";var n=$(e).data("rotate");t.style.transform=n?"rotate("+n+"deg)":""},new:function(e,t,o){this.destroy(),this.opt=t,this.parentVue=o,e=e.parentElement||e.parentNode;var n=document.createElement("div");n.className="nd-selector-box",n.setAttribute("num",this.parentVue.tagNum_list),document.querySelector(".taglayer-nd").appendChild(n),n.innerHTML='<div class="selector-drag-point" direction="n" style="top:-5px;left:calc(50% - 5px);cursor:ns-resize;"></div>\t\t\t<div class="selector-drag-point" direction="s" style="top:calc(100% - 5px);left:calc(50% - 5px);cursor:ns-resize;"></div>\t\t\t<div class="selector-drag-point" direction="w" style="left:-5px;top:calc(50% - 5px);cursor: ew-resize;"></div>\t\t\t<div class="selector-drag-point" direction="e" style="right:-5px;top:calc(50% - 5px);cursor: ew-resize;"></div>\t\t\t<div class="selector-drag-point" direction="nw" style="top:-5px;left:-5px;cursor: nwse-resize;"></div>\t\t\t<div class="selector-drag-point" direction="ne" style="top:-5px;right:-5px;cursor: nesw-resize;"></div>\t\t\t<div class="selector-drag-point" direction="sw" style="bottom:-5px;left:-5px;cursor: nesw-resize;"></div>\t\t\t<div class="selector-drag-point" direction="se" style="bottom:-5px;right:-5px;cursor: nwse-resize;"></div>\t\t\t<div class="selector-drag-point" direction="rotation" style="top:-30px;left:calc(50% - 5px);cursor: move;">\t\t\t</div>\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA01pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKDIwMjAwODE4Lm0uMTAxMiAyMDIwLzA4LzE4OiBmODJmNDMzNzYxKSAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcyNDZDMENDOUMyMTExRUI5NTRCOTI4QUQ1MEM5OENBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcyNDZDMENEOUMyMTExRUI5NTRCOTI4QUQ1MEM5OENBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzI0NkMwQ0E5QzIxMTFFQjk1NEI5MjhBRDUwQzk4Q0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzI0NkMwQ0I5QzIxMTFFQjk1NEI5MjhBRDUwQzk4Q0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xKH8WAAAB+0lEQVR42ryWzUoCURTHj7Nwo4Wr3ChkLWrtYoZI0AdQ8En8gNwErYQ2Blobg2jREyToAyQEkoueILNFG3MTqZs2dc50BmS8HzPl9Ic/DM659+fce869J/RlHoJGm+gDdJYdZ5Mm7D57AA/3H6rJQgpgGF1Cl9EJ8KZX9Dn6AsGfogBDMrBo/1uAhg8YcGzDHmtlil6BFfQtOg2/V9qew8pUdMA8ugnrUxOheRnQRHdh/eoi1HQDKUHaEJzaCA0vA0vSPdvfA9iI6qekGIqV72nJAcY49Ve1kwK4uQa4uvx5loneUQzFyuPK+JUxAuakqT+dAoxfAFLbAKd18WT0G72jGIqlMfKSyRl8eog1mwMcn8ihbhjF0hi5sgZnp1zPYzFUBKNYtUw62p7wYVebFG4AyR+MNCLgDB+inpJ7GUryByPNDfhnGXy9gO8l1WWvWBNvQFGCqLJXA+z7htGeybJXrb4aGImoU18EpTEa4IBv6lUlE/rUd0OTCVU3MHBajCO+qcVLOnkDWCzUi0VfFt9SlUgN244zBxjmL00HVA2PdiOGfY5Th9Tw1AMsv7rTVC0XfgddDQBWRVhH1tO00IU1wgoIa+m6th7a4nX/y55ZCOt57UuH3G3XpCUjT/0aJ8jQb+ftKMZdQZbvTlGrP+QD5A5B76rJvgUYAC/2yxdBsKw2AAAAAElFTkSuQmCC" class="del" title="删除"  />',this.setDivPos(e,n);var i=this.getTransform(e);n.style.transform=i.orotate||"",this.opt&&this.opt.onSel(e);var a=ye()?["touchstart","touchmove","touchend","touchcancle"]:["mousedown","mousemove","mouseup","mouseleave"],r=ye()?"touchstart":"mousedown";document.querySelector(".nd-selector-box img.del").addEventListener(r,(function(e){c.opt.onDelDrawChild()}));var c=this,s=function(e){ye()&&(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY);var t=e.target.getAttribute("direction");if("rotation"==t)c.operateType="rotate";else if(t&&"rotation"!=t)switch(c.operateType="drag",t){case"n":c.operateDrag={x:0,y:1};break;case"s":c.operateDrag={x:0,y:-1};break;case"ne":c.operateDrag={x:1,y:1};break;case"nw":c.operateDrag={x:-1,y:1};break;case"w":c.operateDrag={x:-1,y:0};break;case"sw":c.operateDrag={x:-1,y:-1};break;case"e":c.operateDrag={x:1,y:0};break;case"se":c.operateDrag={x:1,y:-1};break}else c.operateType="move";document.body.addEventListener(a[1],l),document.body.addEventListener(a[2],d),document.body.addEventListener(a[3],d),c.offsetSave.x=e.clientX,c.offsetSave.y=e.clientY,e.stopPropagation(),e.preventDefault()},l=function(t){ye()&&(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY),"move"==c.operateType?c.move(t,e,n):"rotate"==c.operateType?c.rotate(t,e,n):"drag"==c.operateType&&c.drag(t,e,n);var o=c.getTransform(e);e.setAttribute("transform",(o.translate||"")+" "+(o.rotate||"")),n.style.transform=(o.otranslate||"")+" "+(o.orotate||""),c.saveCss=o.data,c.opt&&c.opt.onChange(c.saveCss),t.stopPropagation()},d=function(t){c.opt&&c.opt.onChangeEnd(),c.setDivPos(e,n),document.body.removeEventListener(a[1],l),document.body.removeEventListener(a[2],d),document.body.removeEventListener(a[3],d),t.stopPropagation(),t.preventDefault()};n.addEventListener(a[0],s)},move:function(e,t,o){var n=this,i=$(t).data("translate");if(i)var a={x:i.x,y:i.y};else a={x:0,y:0};var r=e.clientX-n.offsetSave.x,c=e.clientY-n.offsetSave.y;n.offsetSave.x=e.clientX,n.offsetSave.y=e.clientY;var s=a.x+r,l=a.y+c,d=(i=document.getElementById("t_container").getBoundingClientRect(),Math.min(i.left,0)),m=Math.min(i.top,0),u=Math.min(i.width+d,window.innerWidth-Math.max(i.left,0)),g=Math.min(i.height+m,window.innerHeight-Math.max(i.top,0));return o.offsetLeft+s+d<0&&(s+=0-(o.offsetLeft+s+d)),o.offsetTop+l+m<0&&(l+=0-(o.offsetTop+l+m)),d+o.offsetLeft+o.offsetWidth+s>u&&(s+=u-(d+o.offsetLeft+o.offsetWidth+s)),m+o.offsetTop+o.offsetHeight+l>g&&(l+=g-(m+o.offsetTop+o.offsetHeight+l)),$(t).data("translate",{x:s,y:l}),{x:s,y:l}},rotate:function(e,t,o){var n=fe({x:e.clientX,y:e.clientY},this.getCenterPos(o));return $(t).data("rotate",n),n},drag:function(e,t,o){ye()&&(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY);var n=e.clientX-this.offsetSave.x,i=e.clientY-this.offsetSave.y;n<0&&this.operateDrag.x>0&&this.nowDivInfo.width+n<20&&(n=20-this.nowDivInfo.width),n>0&&this.operateDrag.x<0&&this.nowDivInfo.width-n<20&&(n=this.nowDivInfo.width-20),i<0&&this.operateDrag.y<0&&this.nowDivInfo.height+i<20&&(i=20-this.nowDivInfo.height),i>0&&this.operateDrag.y>0&&this.nowDivInfo.height-i<20&&(i=this.nowDivInfo.height-20),0==this.operateDrag.x&&(n=0),0==this.operateDrag.y&&(i=0);var a={top:this.nowDivInfo.top,left:this.nowDivInfo.left,width:this.nowDivInfo.width,height:this.nowDivInfo.height};1==this.operateDrag.y&&(a.top=this.nowDivInfo.top+i,a.height=this.nowDivInfo.height-i),-1==this.operateDrag.y&&(a.height=this.nowDivInfo.height+i),1==this.operateDrag.x&&(a.width=this.nowDivInfo.width+n),-1==this.operateDrag.x&&(a.left=this.nowDivInfo.left+n,a.width=this.nowDivInfo.width-n),o.style.top=a.top-10+"px",o.style.left=a.left-10+"px",o.style.width=a.width+20+"px",o.style.height=a.height+20+"px",this.opt&&this.opt.onScale(a,this.nowDivInfo),this.nowDivInfo=a,this.offsetSave.x=e.clientX,this.offsetSave.y=e.clientY},getCenterPos:function(e){var t=e.getBoundingClientRect(),o=t.left+t.width/2,n=t.top+t.height/2;return{x:o,y:n}},getTransform:function(e){var t,o,n,i={data:{}};if(t=$(e).data("translate"),o=$(e).data("rotate"),n=$(e).data("scale"),t&&(i.translate="translate("+t.x+","+t.y+")",i.otranslate="translate("+t.x+"px,"+t.y+"px)",i.data.translate=Oe(t.x,t.y),this.nowCssInfo.translate=t),o){var a=e.getBBox();i.rotate="rotate("+o+","+(a.x+a.width/2)+" "+(a.y+a.height/2)+")",i.orotate="rotate("+o+"deg)",i.data.rotate=o}return n&&(i.scale="scale("+n.x+","+n.y+")",i.data.scale=n),i},destroy:function(){$(".nd-selector-box").remove(),this.opt&&this.opt.onHide()},destroy_new:function(){var e=this,t=document.querySelectorAll(".nd-selector-box").length;if(1==t){var o=$(".nd-selector-box").attr("style"),n=$(".nd-selector-box").attr("num");$(".nd-selector-box").remove(),$(".nd-selector-box2").removeClass("edit");var i=document.createElement("div");i.className="nd-selector-box2",i.style=o,i.setAttribute("num",n);var a=document.createElement("img");a.className="del",a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA01pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKDIwMjAwODE4Lm0uMTAxMiAyMDIwLzA4LzE4OiBmODJmNDMzNzYxKSAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcyNDZDMENDOUMyMTExRUI5NTRCOTI4QUQ1MEM5OENBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcyNDZDMENEOUMyMTExRUI5NTRCOTI4QUQ1MEM5OENBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzI0NkMwQ0E5QzIxMTFFQjk1NEI5MjhBRDUwQzk4Q0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzI0NkMwQ0I5QzIxMTFFQjk1NEI5MjhBRDUwQzk4Q0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xKH8WAAAB+0lEQVR42ryWzUoCURTHj7Nwo4Wr3ChkLWrtYoZI0AdQ8En8gNwErYQ2Blobg2jREyToAyQEkoueILNFG3MTqZs2dc50BmS8HzPl9Ic/DM659+fce869J/RlHoJGm+gDdJYdZ5Mm7D57AA/3H6rJQgpgGF1Cl9EJ8KZX9Dn6AsGfogBDMrBo/1uAhg8YcGzDHmtlil6BFfQtOg2/V9qew8pUdMA8ugnrUxOheRnQRHdh/eoi1HQDKUHaEJzaCA0vA0vSPdvfA9iI6qekGIqV72nJAcY49Ve1kwK4uQa4uvx5loneUQzFyuPK+JUxAuakqT+dAoxfAFLbAKd18WT0G72jGIqlMfKSyRl8eog1mwMcn8ihbhjF0hi5sgZnp1zPYzFUBKNYtUw62p7wYVebFG4AyR+MNCLgDB+inpJ7GUryByPNDfhnGXy9gO8l1WWvWBNvQFGCqLJXA+z7htGeybJXrb4aGImoU18EpTEa4IBv6lUlE/rUd0OTCVU3MHBajCO+qcVLOnkDWCzUi0VfFt9SlUgN244zBxjmL00HVA2PdiOGfY5Th9Tw1AMsv7rTVC0XfgddDQBWRVhH1tO00IU1wgoIa+m6th7a4nX/y55ZCOt57UuH3G3XpCUjT/0aJ8jQb+ftKMZdQZbvTlGrP+QD5A5B76rJvgUYAC/2yxdBsKw2AAAAAElFTkSuQmCC",a.setAttribute("title","删除"),i.appendChild(a),document.querySelector(".taglayer-nd").appendChild(i);var r=function(o){o.stopPropagation(),o.preventDefault(),"del"!=o.target.className&&($(o.target).hasClass("edit")||(t=document.querySelectorAll(".nd-selector-box").length,1==t&&e.destroy_new(),$(".nd-selector-box").remove(),$(".nd-selector-box2").removeClass("edit"),$(o.target).addClass("edit")))},c=ye()?"touchstart":"mouseover",s=ye()?"touchstart":"click";i.addEventListener(c,r),a.addEventListener(s,(function(t){e.opt.onDelDrawChild(),t.stopPropagation(),t.preventDefault()}))}$(".nd-selector-box").remove(),this.opt&&this.opt.onHide()}},Ee=Me;const ke=function(e,t,o){this.parent=e,this.dom=null,this.container=t,this.disableText=!0,o&&(this.parentVue=o),this._moveTag=!1,this.offsetSave={},this.tagPos={},this.fontSize=12,this.init=function(){},this.init(),this.addHotpoint=function(e,t){this.parentVue.onShowstep1(),this.parentVue.hideTagTips();var o=document.createElement("div");o.className="ico-sign",this.container.appendChild(o);var n=Ce(t.cx,t.cy,t.cz);o.style.top=n.y+"px",o.style.left=n.x+"px",o.style.pointerEvents="none",this.tagDiv=o,this.tagPos={cx:t.cx,cy:t.cy,cz:t.cz}},this.drawHtml=function(){},this.modifyHot=function(e,t,o){this.moveHot(e),this.tagDiv&&(this.tagDiv.style.display="block")},this.moveHot=function(e){e&&this.tagDiv&&(this.tagDiv.style.left=e.x+"px",this.tagDiv.style.top=e.y+"px")},this.newText=function(e){this.disableText=!1},this.showText=function(e){e=e.replace(/<br\/>/g,"\n").replace(/&nbsp;/g," ")},this.writeInfo=function(e){this.disableText=!0,this.tagPos.cx=e.cx,this.tagPos.cy=e.cy,this.tagPos.cz=e.cz;var t=Ce(e.cx,e.cy,e.cz),o=C(e.text);"undefined"===o&&(o=""),this.modifyHot(t,o,e.size)},this.getInfo=function(){return{pos:this.tagPos}},this.exit=function(){this.hotPot&&(this.hotPot.style.display="none"),this.tagDiv=null}};var De=ke,Ae=function(e,t){var o=this;this.drawInfo=null,this.nowDrawingInfo={},this._tagIdx=0,t&&(this.parentVue=t),this._openDraw=!1,this.strokeColor="rgb(255,99,2)",this.strokeWidth=2,this.fontSize="12px",this.drawType="point",this.container=e,this.container.querySelector(".taglayer-nd")&&this.container.removeChild(this.container.querySelector(".taglayer-nd")),this.drawTagDiv=document.createElement("div"),this.drawTagDiv.className="taglayer-nd",this.drawTagDiv.setAttribute("onselectstart","return false"),this.container.appendChild(this.drawTagDiv),this.drawTagDiv.addEventListener("contextmenu",e=>(e.preventDefault(),e.stopPropagation(),!1));const n=document.createElement("div");n.id="tagTooltips",this.container.appendChild(n);const i=document.createElement("div");i.id="tagCancelButton",this.container.appendChild(i),i.addEventListener("click",()=>{this.parentVue.cancelSave(),n.style.left="-1000px"}),i.addEventListener("contextmenu",e=>(e.preventDefault(),e.stopPropagation(),!1)),i.addEventListener("mouseenter",()=>{n.style.display="none"}),i.addEventListener("mouseleave",()=>{n.style.display="block"});const a=document.createElement("div");a.id="tagSaveButton",this.container.appendChild(a),a.addEventListener("contextmenu",e=>(e.preventDefault(),e.stopPropagation(),!1)),a.addEventListener("mouseenter",()=>{n.style.display="none"}),a.addEventListener("mouseleave",()=>{n.style.display="block"}),this.container.addEventListener("mousemove",e=>{if("none"!=this.drawTagDiv.style.display){const t=document.getElementById("vueMain").offsetLeft,o=document.getElementById("vueMain").offsetTop;n.style.top=e.clientY-o+14+"px",n.style.left=e.clientX-t+17+"px"}}),i.style.display="none",a.style.display="none",n.style.display="none",this.drawTagDiv.style.display="none",this.selectSVG=-1,this.nowDiving=null,this.nowSvg=null,this.offsetSave={_start:!1,x:0,y:0},this._tagTextCtrl=new De(this,this.drawTagDiv,this.parentVue);var r=null;window.onresize=function(){r=r?null:setTimeout((function(){o.resizeTags(),r=null}),350)}};Ae.prototype.localToPoint=function(e,t,o){if(de){var n=de._viewer.modelCoordToClientCoord([e,t,o]);return{x:n[0],y:n[1]}}return{x:0,y:0}},Ae.prototype.pointToLocal=function(e,t){if(de){var o=de._viewer.clientCoordToModelCoord([e,t]);return{cx:o[0],cy:o[1],cz:o[2]}}return{cx:0,cy:0,cz:0}},Ae.prototype.resizeTags=function(){if(this.drawInfo&&this.drawInfo.list&&"text"!=this.nowDrawingInfo){var e=document.querySelectorAll(".nd-selector-box").length;if(e>0&&this.drawSvg(),this.drawSvg_resize(),-1!=this.selectSVG){var t=$(this.drawTagDiv).find("path[idx="+this.selectSVG+"]"),o=$(this.drawTagDiv).find("div.area-box[idx="+this.selectSVG+"]");t.length&&(this.nowDiving=t),o.length&&(this.nowDiving=o),(t.length||o.length)&&e>0&&(this.nowDiving=this.nowDiving[0])}}},Ae.prototype.changePos=function(){var e=this.nowDrawingInfo;if(e.transform&&e.transform.translate){var t=e.transform.translate;if(t=Ce(t.cx,t.cy,t.cz),"point"==e.type&&e.points.map((function(e){var o=Ce(e.cx,e.cy,e.cz);o.x+=t.x,o.y+=t.y,o=Oe(o.x,o.y),e.cx=o.cx,e.cy=o.cy,e.cz=o.cz})),"arrow"==e.type||"line"==e.type||"circle"==e.type||"rect"==e.type){var o=Ce(e.cx,e.cy,e.cz);if(o.x+=t.x,o.y+=t.y,o=Oe(o.x,o.y),e.cx=o.cx,e.cy=o.cy,e.cz=o.cz,e.cx2||e.cy2||e.cz2){var n=Ce(e.cx2,e.cy2,e.cz2);n.x+=t.x,n.y+=t.y,n=Oe(n.x,n.y),e.cx2=n.cx,e.cy2=n.cy,e.cz2=n.cz}}if("text"==e.type){o=Ce(e.cx,e.cy,e.cz);o.x+=t.x,o.y+=t.y,o=Oe(o.x,o.y),e.cx=o.cx,e.cy=o.cy,e.cz=o.cz}}this.drawSvg()},Ae.prototype.changeScale=function(e,t){var o=this.nowDrawingInfo;if("point"==o.type&&o.points.map((function(o){var n=Ce(o.cx,o.cy,o.cz),i=(n.x-t.left)/t.width,a=(n.y-t.top)/t.height;n.x=e.width*i+e.left,n.y=e.height*a+e.top,n=Oe(n.x,n.y),o.cx=n.cx,o.cy=n.cy,o.cz=n.cz})),"arrow"==o.type||"line"==o.type||"circle"==o.type||"rect"==o.type){var n=Ce(o.cx,o.cy,o.cz),i=(n.x-t.left)/t.width,a=(n.y-t.top)/t.height;if(n.x=e.width*i+e.left,n.y=e.height*a+e.top,n=Oe(n.x,n.y),o.cx=n.cx,o.cy=n.cy,o.cz=n.cz,o.cx2||o.cy2||o.cz2){var r=Ce(o.cx2,o.cy2,o.cz2),c=(r.x-t.left)/t.width,s=(r.y-t.top)/t.height;r.x=e.width*c+e.left,r.y=e.height*s+e.top,r=this.pointToLocal(r.x,r.y),o.cx2=r.cx,o.cy2=r.cy,o.cz2=r.cz}}this.drawSvg()},Ae.prototype.editDraw=function(e){this.drawInfo=null,this.drawTagDiv.style.display="block",this.drawTagDiv.style.zIndex=4,this.drawTagDiv.style.pointerEvents="auto",this.container.style.cursor="pointer",this._openDraw=!0,this.getTagLayer(e)},Ae.prototype.showSelectBox=function(){var e=this,t=this.nowDiving.getAttribute("idx");Ee.new(this.nowDiving,{onChange:function(o){try{e.selectSVG=t,e.drawInfo.list[t].transform=o}catch(n){}},onChangeEnd:function(){e.changePos()},onSel:function(o){e.selectSVG=t},onHide:function(){},onScale:function(t,o){e.changeScale(t,o)},onDelDrawChild:function(){var t="",o=document.querySelector(".nd-selector-box"),n=document.querySelector(".nd-selector-box2.edit");if(o?(t=o.getAttribute("num"),o.remove()):n&&(t=n.getAttribute("num"),n.remove()),""!=t){var i=document.querySelector("svg g[num='"+t+"']");i&&i.remove(),e.drawInfo.list=e.drawInfo.list.filter(e=>{if(e.num!=t)return e})}}},this.parentVue)},Ae.prototype.showTags=function(e){this._openDraw=!1,this.drawTagDiv.style.display="block",this.drawTagDiv.style.zIndex=6,this.getTagLayer(e)},Ae.prototype.openDraw=function(e){this.drawInfo=null,this.drawTagDiv.style.display="block",this.drawTagDiv.style.zIndex=4,this.drawTagDiv.style.pointerEvents="auto",this._openDraw=!0,this._tagIdx=e,this.getTagLayer()},Ae.prototype.closeDraw=function(){this._openDraw=!1,this.container.style.cursor="auto",document.body.removeEventListener("keydown",this.delete)},Ae.prototype.delete=function(e){if(46==e.keyCode){var t=this.nowDiving.getAttribute("idx");this.drawInfo.list[t].del=!0;var o=this.nowDiving.parentElement||this.nowDiving.parentNode;o.remove(),Ee.destroy()}},Ae.prototype.setPen=function(e){this.drawType=e},Ae.prototype.setLineWidth=function(e){this.strokeWidth=e},Ae.prototype.setColor=function(e){this.strokeColor=e},Ae.prototype.initPicTag=function(e){this.drawType="image",this.drawInfo=new Object,this.drawInfo.cx=e.cx,this.drawInfo.cy=e.cy,this.drawInfo.cz=e.cz,this.drawInfo.list=[],this._tagTextCtrl.addHotpoint(this._tagIdx,this.drawInfo)},Ae.prototype.setPenStatus=function(e,t){if("color"==e&&(this.strokeColor=t),"size"==e&&(this.strokeWidth=t),"fontsize"==e&&(this.fontSize=t),"text"!=this.drawType){var o=this.nowDiving.parentElement||this.nowDiving.parentNode,n=o.getAttribute("type");if("text"!=n&&("color"==e&&o.setAttribute("stroke",this.strokeColor),"size"==e&&o.setAttribute("stroke-width",this.strokeWidth)),"arrow"==n&&"size"==e){var i={pos0:Ce(this.nowDrawingInfo.cx,this.nowDrawingInfo.cy,this.nowDrawingInfo.cz),pos1:Ce(this.nowDrawingInfo.cx2,this.nowDrawingInfo.cy2,this.nowDrawingInfo.cz2)},a=this.strokeWidth,r=ve(i.pos0,i.pos1,a);this.nowDiving.setAttribute("d",r)}}"color"==e&&(this.drawInfo.list[this.selectSVG].color=this.strokeColor),"size"==e&&(this.drawInfo.list[this.selectSVG].line=this.strokeWidth),"fontsize"==e&&(this.drawInfo.size=this.fontSize)},Ae.prototype.initDrawInfo=function(e,t){var o=this;this.parentVue.tagNum_list++;var n={type:o.drawType,cx:e.cx,cy:e.cy,cz:e.cz,text:"",color:o.strokeColor,line:o.strokeWidth,size:o.fontSize,idx:o.drawInfo.list.length,new:!0,num:this.parentVue.tagNum_list},i=10;if("point"==o.drawType)n.points=[{cx:e.cx,cy:e.cy,cz:e.cz}];else if("arrow"==o.drawType||"line"==o.drawType){var a={x:t.x+i,y:t.y+i};a=this.pointToLocal(a.x,a.y),n.cx2=a.cx,n.cy2=a.cy,n.cz2=a.cz}else if("rect"==o.drawType||"circle"==o.drawType){var r=i;a={x:t.x+r,y:t.y+r};a=this.pointToLocal(a.x,a.y),n.cx2=a.cx,n.cy2=a.cy,n.cz2=a.cz}return n},Ae.prototype.openDrawEvt=function(){var e=this,t=ye()?["touchstart","touchmove","touchend","touchcancle"]:["mousedown","mousemove","mouseup","mouseleave"],o=this.drawTagDiv.querySelector(".svg");function n(o){if(o.stopPropagation(),o.preventDefault(),e._openDraw){var n=document.querySelector(".taglayer-nd");if(n&&n.className.indexOf("drawing")<0&&(n.className+=" drawing"),ye()){var r=o.touches[0];o.offsetX=r.clientX-Number(e.container.style.marginLeft.replace("px",""))-e.container.offsetLeft,o.offsetY=r.clientY-Number(e.container.style.marginTop.replace("px",""))-e.container.offsetTop}var c=e.pointToLocal(o.offsetX,o.offsetY);e.offsetSave.x=o.offsetX,e.offsetSave.y=o.offsetY,e.drawInfo||(e.drawInfo=new Object,e.drawInfo.cx=c.cx,e.drawInfo.cy=c.cy,e.drawInfo.cz=c.cz,e.drawInfo.list=[]),"text"!=e.drawType?(e.drawTagDiv.addEventListener(t[1],i),e.drawTagDiv.addEventListener(t[2],a),e.drawTagDiv.addEventListener(t[3],a)):(e._tagTextCtrl.addHotpoint(e._tagIdx,e.drawInfo),e._openDraw=!1),e.drawInfo.list.push(e.initDrawInfo(c,e.offsetSave)),e.nowDrawingInfo=e.drawInfo.list[e.drawInfo.list.length-1],e.parentVue.onCheckSaveEable(),e.getTags(e.nowDrawingInfo)}}function i(t){if(t.stopPropagation(),t.preventDefault(),ye()){var o=t.touches[0];t.offsetX=o.clientX-Number(e.container.style.marginLeft.replace("px",""))-e.container.offsetLeft,t.offsetY=o.clientY-Number(e.container.style.marginTop.replace("px",""))-e.container.offsetTop}var n=e.pointToLocal(t.offsetX,t.offsetY);switch(e.drawType){case"point":var i=e.nowDrawingInfo.points[e.nowDrawingInfo.points.length-1];if(i&&i.cx==n.cx&&i.cy==n.cy&&i.cz==n.cz)return;e.nowDrawingInfo.points.push({cx:n.cx,cy:n.cy,cz:n.cz});break;case"arrow":case"line":case"rect":case"circle":n.cx==e.nowDrawingInfo.cx&&n.cy==e.nowDrawingInfo.cy&&n.cz==e.nowDrawingInfo.cz||(e.nowDrawingInfo.cx2=n.cx,e.nowDrawingInfo.cy2=n.cy,e.nowDrawingInfo.cz2=n.cz);break}e.drawSvg()}function a(o){var n=document.querySelector(".taglayer-nd");n&&n.className.indexOf("drawing")>=0&&(n.className=n.className.replace("drawing",""));for(var r=document.querySelectorAll(".nd-selector-box2"),c=0;c<r.length;c++){var s=r[c];s&&s.className.indexOf("edit")>=0&&(s.className=s.className.replace("edit",""))}if("point"==e.drawType&&1==e.nowDrawingInfo.points.length){var l=e.pointToLocal(e.offsetSave.x+1,e.offsetSave.y+1);e.nowDrawingInfo.points.push({cx:l.cx,cy:l.cy,cz:l.cz}),e.drawSvg()}if(e._openDraw&&"text"!==e.drawType&&"pic"!==e.drawType){Ee.destroy_new();var d=e.parentVue.tagNum_list;e.parentVue.svgNum_list.push(d)}e.drawTagDiv.removeEventListener(t[1],i),e.drawTagDiv.removeEventListener(t[2],a),e.drawTagDiv.removeEventListener(t[3],a),o.stopPropagation(),o.preventDefault()}o.addEventListener(t[0],n,!1)},Ae.prototype.getTagLayer=function(e){this.tagDiv&&(this.drawTagDiv.innerHTML="",this.tagDiv=null);var t="http://www.w3.org/2000/svg";this.tagDiv=document.createElement("div"),this.tagDiv.className="svg",this.nowSvg=document.createElementNS(t,"svg"),this.nowSvg.style.width="100%",this.nowSvg.style.height="100%",this.drawTagDiv.appendChild(this.tagDiv),this.tagDiv.appendChild(this.nowSvg);var o=this;e&&e.list&&e.list.length&&(e.list.forEach((function(e,t){e.num||(e.num=t+1),o.getTags(e)})),this.drawInfo=e,this.nowDrawingInfo=e.list[0]),this._openDraw?this.openDrawEvt():(this.drawTagDiv.style.pointerEvents="none","ImageAnno"!=e.state.origiType&&this._tagTextCtrl.writeInfo(e))},Ae.prototype.getTags_old=function(e){switch(e.type){case"text":e.new&&(this._tagTextCtrl.newText(this.drawInfo),this.closeDraw(),e.new=!1);break;default:this.nowDiving=this.newDiv(e.type,e),this.nowDiving.setAttribute("d",this.getSVGpath(e))}e&&!e.new&&"text"!=e.type&&this.setTransform(this.nowDiving,e)},Ae.prototype.getTags=function(e){this.nowDiving=this.newDiv(e.type,e),this.nowDiving.setAttribute("d",this.getSVGpath(e)),"arrow"==e.type&&this.nowDiving.setAttribute("fill",e.color),e&&!e.new&&this.setTransform(this.nowDiving,e)},Ae.prototype.drawSvg=function(){this.nowDiving&&(this.nowDiving.setAttribute("d",this.getSVGpath(this.nowDrawingInfo)),this.setTransform(this.nowDiving,this.nowDrawingInfo))},Ae.prototype.drawSvg_resize=function(){if(this.drawInfo.list&&this.drawInfo.list.length>0)for(var e=0;e<this.drawInfo.list.length;e++){var t=this.drawInfo.list[e];if(t.num&&Number(t.num>0)){var o=document.querySelector("svg g[num='"+t.num+"'] path");if(o){o.setAttribute("d",this.getSVGpath(t)),this.setTransform(o,t);var n=document.querySelector(".nd-selector-box2[num='"+t.num+"']");if(n){var i=o.parentElement||o.parentNode;Ee.setDivPos(i,n)}}}}},Ae.prototype.newDiv=function(e,t){var o=t.color||this.strokeColor,n=t.line||this.strokeWidth,i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("stroke",o),i.setAttribute("stroke-width",n),i.setAttribute("type",e),i.setAttribute("num",t.num),i.style.pointerEvents="none",i.setAttribute("fill","none");var a=document.createElementNS("http://www.w3.org/2000/svg","path");return i.appendChild(a),t.new&&(a.setAttribute("idx",t.idx),t.new=!1),this.nowSvg.appendChild(i),a},Ae.prototype.getSVGpath=function(e){var t="";switch(e.type){case"point":e.points&&e.points.forEach((function(e,o){var n=Ce(e.cx,e.cy,e.cz);t+=0==o?"M "+n.x+" "+n.y+" ":"L "+n.x+" "+n.y+" "}));break;case"arrow":var o=Ce(e.cx,e.cy,e.cz),n=e.line||this.strokeWidth,i=Ce(e.cx2,e.cy2,e.cz2);t=ve(o,i,n);break;case"line":o=Ce(e.cx,e.cy,e.cz),i=Ce(e.cx2,e.cy2,e.cz2);t="M "+o.x+" "+o.y+" L "+i.x+" "+i.y+" ";break;case"rect":o=Ce(e.cx,e.cy,e.cz),i=Ce(e.cx2,e.cy2,e.cz2);t="M "+o.x+" "+o.y+" L "+i.x+" "+o.y+" L "+i.x+" "+i.y+" L"+o.x+" "+i.y+"z";break;case"circle":o=Ce(e.cx,e.cy,e.cz),i=Ce(e.cx2,e.cy2,e.cz2);t=be(o,i);break}return t},Ae.prototype.setTransform=function(e,t){if(e=e.parentElement||e.parentNode,t.transform){var o="";if(t.transform.rotate){var n=e.getBBox();o="rotate("+t.transform.rotate+","+(n.x+n.width/2)+" "+(n.y+n.height/2)+")",$(e).data("rotate",t.transform.rotate)}t.transform.translate&&(t.transform.translate="",$(e).data("translate","")),$(e).attr("transform",o)}},Ae.prototype.destroy=function(){this._openDraw=!1,this.drawTagDiv.style.display="none",this.drawTagDiv.style.zIndex=0,this.drawType="point",this.drawTagDiv.innerHTML="",this.tagDiv=null,this._tagTextCtrl.exit()},Ae.prototype.isTextTag=function(){return!!(this.drawInfo.list&&this.drawInfo.list.length>0&&"text"==this.drawInfo.list[0].type)},Ae.prototype.getTextDrawInfo=function(){var e=this._tagTextCtrl.getInfo();this.drawInfo.cx=e.pos.cx,this.drawInfo.cy=e.pos.cy,this.drawInfo.cz=e.pos.cz;var t=Ce(this.drawInfo.cx,this.drawInfo.cy,this.drawInfo.cz),o=document.querySelector("#annoText").value,n=o;return this._tagTextCtrl.modifyHot(t,n),this.drawInfo.text=n,this.drawInfo},Ae.prototype.getInfo=function(){if(this.parentVue.picTagUrl){o=$("#annoText").val();this.drawInfo.text=o}else{var e=this._tagTextCtrl.getInfo();this.drawInfo.cx=e.pos.cx,this.drawInfo.cy=e.pos.cy,this.drawInfo.cz=e.pos.cz;var t=Ce(this.drawInfo.cx,this.drawInfo.cy,this.drawInfo.cz),o=$("#annoText").val(),n=o.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;");this._tagTextCtrl.modifyHot(t,n,this._tagTextCtrl.fontSize),this.drawInfo.text=encodeURIComponent(n)}return this.drawInfo},Ae.prototype.revoke=function(){var e=this.drawInfo.list.length;if(e>1){var t=e-1;this.drawInfo.list.splice(t,1)}var o=this.parentVue.svgNum_list.length,n=this.parentVue.svgNum_list[o-1];$(`.taglayer-nd .svg svg g[num='${n}']`).remove();var i=o-1;this.parentVue.svgNum_list.splice(i,1),this.parentVue.onCheckSaveEable()},Ae.prototype.clear=function(){$(".taglayer-nd .svg svg g").remove(),this.drawInfo.list=[this.drawInfo.list[0]],this.parentVue.svgNum_list=[],this.parentVue.onCheckSaveEable()},Ae.prototype.destroy=function(){this._openDraw=!1,this.drawTagDiv.style.display="none",this.drawTagDiv.style.zIndex=0,this.drawType="text",this.drawTagDiv.innerHTML="",this.tagDiv=null,this._tagTextCtrl.exit()},Ae.prototype.cancelDraw=function(){this.drawInfo.list.length>1&&"text"==this.drawInfo.list[0].type&&(this.drawInfo.list.pop(),$(".taglayer-nd .svg svg g").last().remove(),(!this.drawInfo.list||this.drawInfo.list.length<=1)&&(this.parentVue.hasDrawData=!1)),this.drawInfo.list.length>0&&"text"!=this.drawInfo.list[0].type&&(this.drawInfo.list.pop(),$(".taglayer-nd .svg svg g").last().remove(),this.drawInfo.list&&0!=this.drawInfo.list.length||(this.parentVue.hasDrawData=!1))},Ae.prototype.getDrawInfo=function(){return this.drawInfo};var Be=Ae;const Ne=function(e,t){e||(e=[]),e.forEach((e,o)=>{if(e.state&&"ImageAnno"==e.state.type&&(e.state.type="",e.state.origiType="ImageAnno"),e.state){var n=o+1;t.forEach((t,o)=>{e.state.uuid==t.state.uuid&&(n=o+1)}),e.state.index=n}de.annotationUtil&&de.annotationUtil.addAnnotation(e)}),Ie()},Ie=function(){const e=se.state.menuStore.menuChoose,t=se.state.menuStore.menuChoose2;(["meter","tag"].includes(e)||["meterDistance","meterLength","meterAngle"].includes(t))&&setTimeout(()=>{de.setAnnotationsVisibility(0)},200)},Le=function(e){let t=[],o=se.state.modelStore.nowConfigName;return t=e.filter(e=>!e.modelName||e.modelName==o),t},Ve=function(){const e=se.state.modelStore.allTag;e.map((e,t)=>{let o=t+1;de.annotationUtil.changeAnnotationIndex(e.tagId,o)})};var Ue={};const _e={tagInfo:{},saveAllType:{},getTreeData:!1,isTagStatus:!1,operTagOpenId:"",willTagOpenId:"",lastFreeOper:!1,windowWhite:[],lastTagselectId:"",sendAllMsg(){this.sendCenter(1),this.sendCenter(2),this.sendCenter(3),this.sendCenter(4),this.sendCenter(5),this.sendCenter(6),this.sendCenter(7),this.sendCenter(8)},receiveAllMsg(e,t,o){let n=e||this.saveAllType||{},i=t||[];try{n=JSON.parse(n)}catch(a){n=n||{}}if(this.saveAllType=n,"fromWindow"==o&&(this.windowWhite=i),n.hasOwnProperty("8")&&!i.includes(8)&&n["8"])this.receiveCenter(n["8"]);else{i=[...i,...this.windowWhite];for(let e in n)!i.includes(1*e)&&n[""+e]&&this.receiveCenter(n[""+e])}},receiveCenter(e){const t=JSON.parse(e);(this.judgeCanReceive()||6==t.type)&&t&&(this.saveAllType[t.type]=e,1==t.type?(de._viewer.setBroadcastInfo(t.data),xv.$tag.ctrlDraw.resizeTags()):2==t.type?this.setButtomStatus(t):3==t.type?this.setCardStatus(t):4==t.type?this.setValueStatus(t):5==t.type?this.setTreeStatus(t):6==t.type?this.setTagStatus(t):7==t.type?this.setPositionStatus(t):8==t.type&&this.setMultiStatus(t))},sendCenter(e,t){let o=this;"sync"==nd_viewCtrl.viewMode&&(nd_viewCtrl&&!nd_viewCtrl.rtmSDK.isRtmOperate||(1==e?o.sendDirect(e,o.getBroadcast()):2==e?o.sendDirect(e,o.getButtomStatus()):3==e?o.sendDirect(e,o.getCardStatus()):4==e?o.sendDirect(e,o.getValueStatus()):5==e?o.sendDirect(e,o.getTreeStatus()):6==e?o.sendDirect(e,o.getTagStatus(t)):7==e?o.sendDirect(e,o.getPositionStatus()):8==e&&o.sendDirect(e,o.getMultiStatus())))},sendDirect(e,t){const o={type:e,data:t,terminal:"PC"};nd_viewCtrl&&nd_viewCtrl.rtmSDK&&nd_viewCtrl.rtmSDK.rtmSendMsg(o)},getBroadcast(){let e=de._viewer.getBroadcastInfo();return e},getButtomStatus(){return{showOneMenu:se.state.menuStore.showOneMenu,menuChoose:se.state.menuStore.menuChoose,menuChoose2:se.state.menuStore.menuChoose2,menuChoose3:se.state.menuStore.menuChoose3,showAllMenu:se.state.menuStore.showAllMenu,distanceMeterIndx:xv.$distanceBtn.meterStartIdx,meterMeterType:xv.$meterBtn.nowMeterType}},setButtomStatus(e){se.commit("menuStore/setShowAllMenu",e.data.showAllMenu),se.commit("menuStore/setShowOneMenu",e.data.showOneMenu),se.commit("menuStore/setMenuChoose",e.data.menuChoose),se.commit("menuStore/setMenuChoose2",e.data.menuChoose2),se.commit("menuStore/setMenuChoose3",e.data.menuChoose3),xv.$distanceBtn.meterStartIdx=e.data.distanceMeterIndx,xv.$meterBtn.nowMeterType=e.data.meterMeterType},getCardStatus(){return{structMenu:se.state.menuStore.structMenu,unitMenu:se.state.menuStore.unitMenu,showManyConfig:se.state.menuStore.showManyConfig,showConfigContent:xv.$configSwitch.showCfgContent,scaleDialog:se.state.modelStore.scaleDialog}},setCardStatus(e){se.commit("menuStore/setStructMenu",e.data.structMenu),se.commit("menuStore/setUnitMenu",e.data.unitMenu),se.commit("menuStore/setShowManyConfig",e.data.showManyConfig),se.commit("modelStore/setScaleDialog",e.data.scaleDialog),xv.$configSwitch.showCfgContent=e.data.showConfigContent},getValueStatus(){return{measureScale:se.state.modelStore.measureScale,bgSetList:se.state.modelStore.bgSetList,colorIdx:se.state.modelStore.colorIdx,unit:se.state.modelStore.measureSetting.curUnit,scale:xv.$scaleBtn.scale}},setValueStatus(e){se.commit("modelStore/setUnitType",e.data.unit),se.commit("modelStore/setInitBgSetList",e.data.bgSetList),se.commit("modelStore/setShareBg",e.data.colorIdx),se.commit("modelStore/setInitMeasureScale",e.data.measureScale),xv.$scaleBtn.scale=e.data.scale},getTreeStatus(){let e=xv.$structureTree.modelTreeData,t=["children","isChecked","isHighlight","uuid","isOpenChild","name"];return e=JSON.stringify(e,t),{treeData:K(e)}},setTreeStatus(e){let t=JSON.parse(q(e.data.treeData));xv.$structureTree.coverTreeData(t),t&&"{}"!=JSON.stringify(t)?this.getTreeData=!0:this.getTreeData=!1},getTagStatus(e){let t=e&&e.openTagId;return!e&&xv.$tag.tcChecktag&&(t=xv.$tag.curUuid),{tagShow:se.state.tagStore.tagShow,openTagId:t,closeTag:e&&e.closeTag,tcChecktag:xv.$tag.tcChecktag,tcCheckTI:xv.$tag.tcCheckTI,tcCheckBig:e?e.tcCheckBig:void 0}},setTagStatus(e){xv.$tag.curUuid;let t=se.state.modelStore.allTag;if(se.commit("tagStore/setTagshow",e.data.tagShow),!nd_viewCtrl.rtmSDK.isRtmFreeOper||nd_viewCtrl.rtmSDK.isRtmOperate)if(this.willTagOpenId="",this.isTagStatus)this.operTagOpenId=e.data.openTagId||"";else if(e.data.openTagId){if(!Z(t,e.data.openTagId))return void(this.willTagOpenId=e.data.openTagId||"");function o(){void 0!=e.data.tcCheckBig&&(xv.$tag.tcCheckBig=e.data.tcCheckBig,e.data.tcCheckBig&&xv.$tag.$refs.bigImg.resetStyle())}this.lastTagselectId==e.data.openTagId&&this.lastTagselectId==xv.$tag.curUuid&&xv.$tag.tcChecktag?o():(Ue.set1&&clearTimeout(Ue.set1),Ue.set2&&clearTimeout(Ue.set2),Ue.set1=setTimeout(()=>{this.lastTagselectId=e.data.openTagId,de.selectAnnotation(e.data.openTagId),Ue.set2=setTimeout(()=>{o()},800)},200))}else xv.$tag.tcChecktag=e.data.tcChecktag,xv.$tag.tcCheckTI=e.data.tcCheckTI,e.data.closeTag&&xv.$eventBus.emit("closeTagSeeSub"),xv.$tag.tcChecktag||$(".taglayer-nd").css("display","none");else this.lastFreeOper||(this.operTagOpenId=e.data.openTagId||"")},renderInitTag(e,t,o){de.annotationUtil&&de.annotationUtil.removeAllAnnotations(),Ne(e,t,!0),xv.$tag.tcChecktag&&setTimeout(()=>{de.setAnnotationsVisibility(0),de.annotationUtil&&de.annotationUtil.setAnnotationsVisibilityByUuid(1,o)},200)},getPositionStatus(){return{structScrollTop:xv.$structureTree.scrollTop,structWidth:xv.$structureTree.structWidth,structHeight:xv.$structureTree.structHeight}},setPositionStatus(e){xv.$structureTree.setTreeScroll(e.data.structScrollTop),xv.$structureTree.setTreeSize(e.data)},getMultiStatus(){return{cfgIdx:xv.$configSwitch.cfgIdx,modelPath:se.state.modelStore.modelPath,modelSetInfo:se.state.modelStore.modelSetInfo}},setMultiStatus(e){const t=this,o=xv.$configSwitch.cfgIdx;o!=e.data.cfgIdx?xv.$configSwitch.chooseCfg(e.data.cfgIdx,!0):t.receiveAllMsg(t.saveAllType,[8])},operateChange(e){if(e){if(nd_viewCtrl.rtmSDK.isRtmOperate)return;nd_viewCtrl.rtmSDK.isRtmOperate=!0,de._viewer.startBroadcast(!0),se.commit("setRtmNeedCover",!1),this.sendAllMsg()}else{if(!nd_viewCtrl.rtmSDK.isRtmOperate)return;nd_viewCtrl.rtmSDK.isRtmOperate=!1,de._viewer.exitBroadcast(),se.commit("setRtmNeedCover",!1)}},freeOperChange(e){nd_viewCtrl.rtmSDK.isRtmOperate||(nd_viewCtrl.rtmSDK.isRtmFreeOper=e,e?(de._viewer.exitBroadcast(),se.commit("setRtmNeedCover",!1)):(de._viewer.startBroadcast(!1),se.commit("setRtmNeedCover",!0),window.nd_rtmReceiveAllMsg(),(xv.$tag.tcStep0||xv.$tag.tcStep1)&&xv.$tag.cancelSave()))},startTagChange(){if("sync"!=nd_viewCtrl.viewMode)return!1;nd_viewCtrl.rtmSDK.isRtmOperate||(nd_viewCtrl.rtmSDK.lastFreeOper=nd_viewCtrl.rtmSDK.isRtmFreeOper,nd_viewCtrl.rtmSDK.isRtmFreeOper=!0,de._viewer.exitBroadcast(),se.commit("setRtmNeedCover",!1),this.isTagStatus=!0)},endTagChange(){if("sync"!=nd_viewCtrl.viewMode)return!1;nd_viewCtrl.rtmSDK.isRtmOperate||this.isTagStatus&&(nd_viewCtrl.rtmSDK.lastFreeOper||(nd_viewCtrl.rtmSDK.isRtmFreeOper=!1,de._viewer.startBroadcast(!1),se.commit("setRtmNeedCover",!0),window.nd_rtmReceiveAllMsg([6])),nd_viewCtrl.rtmSDK.isRtmFreeOper||nd_viewCtrl.rtmSDK.isRtmOperate||this.operTagOpenId&&setTimeout(()=>{de.selectAnnotation(this.operTagOpenId)},200),this.isTagStatus=!1)},closeTagChange(e){try{let t=xv.$tag.curUuid,o=!1;xv.$tag.tcChecktag&&(e.map(e=>{e.state.uuid==t&&(o=!0)}),o?setTimeout(()=>{de.setAnnotationsVisibility(0),de.annotationUtil&&de.annotationUtil.setAnnotationsVisibilityByUuid(1,t)},100):xv.$tag.exitChecktag("click")),this.willTagOpenId&&Z(e,this.willTagOpenId)&&(setTimeout(()=>{de.selectAnnotation(this.willTagOpenId)},300),this.willTagOpenId="")}catch(t){}},judgeCanReceive(){return"sync"==nd_viewCtrl.viewMode&&(!(!nd_viewCtrl||!nd_viewCtrl.rtmSDK)&&(!nd_viewCtrl.rtmSDK.isRtmOperate&&!nd_viewCtrl.rtmSDK.isRtmFreeOper))},judgeCanWatch(){return"sync"!=nd_viewCtrl.viewMode||(!!nd_viewCtrl.rtmSDK.isRtmOperate||!!nd_viewCtrl.rtmSDK.isRtmFreeOper)}};var Pe=_e;const Fe=e=>{switch(e.name){case"NDSCamera2DExtension":de.storeViewUtil=de._viewer.getExtension("NDSCamera2DExtension");break;case"NDSBlockExtension":de.blockUtil=de._viewer.getExtension("NDSBlockExtension");break;case"AnnotationExtension":de.annotationUtil=de._viewer.getExtension("AnnotationExtension");break;case"Measure2DPCExtension":de.measureUtil=de._viewer.getExtension("Measure2DPCExtension");break;case"NDSTextExtension":de.textUtil=de._viewer.getExtension("NDSTextExtension");break;case"Select2DPCExtension":de.selectObjUtil=de._viewer.getExtension("Select2DPCExtension");break;case"NDSPDFExtension":de.pdfExtensionUtil=de._viewer.getExtension("NDSPDFExtension");break;case"Annotation2DPCExtension":de.annotation2DPCUtil=de._viewer.getExtension("Annotation2DPCExtension"),nd_viewCtrl.hidebtnCfg&&nd_viewCtrl.hidebtnCfg.length>0&&de.annotation2DPCUtil.setHideOperateButtonList(nd_viewCtrl.hidebtnCfg);break;case"NDSExtractTextExtension":de.textGetExtensionUtil=de._viewer.getExtension("NDSExtractTextExtension");break;default:break}},Re=(e,t)=>(t.map(t=>{t.name==e&&(t.isLoad=!0)}),t.every(e=>e.isLoad)),ze=(e,t)=>{"ImageAnno"==e.tagType&&(e.imageFile=e.imageFile||"",e.imageFile?te(["addPicTag","tagOperateAdd"])?t&&t(e.imageFile):nd_viewCtrl.addPicTag?nd_viewCtrl.addPicTag(e.tagInfo,e.imageFile,t):nd_viewCtrl.tagOperateAdd&&nd_viewCtrl.tagOperateAdd(e,t):te(["addTags","tagOperateAdd"])?t&&t(e.imageFile):nd_viewCtrl&&nd_viewCtrl.addTags?nd_viewCtrl.addTags(e.tagInfo,e.imageFile,t):nd_viewCtrl.tagOperateAdd&&nd_viewCtrl.tagOperateAdd(e,t)),"VideoAnno"==e.tagType&&(te(["addVideoTag","tagOperateAdd"])?t&&t(e.imageFile,ee(e.videoFile)):nd_viewCtrl&&nd_viewCtrl.addVideoTag?nd_viewCtrl.addVideoTag(e.tagInfo,e.imageFile,e.videoFile,t):nd_viewCtrl.tagOperateAdd&&nd_viewCtrl.tagOperateAdd(e,t)),"AudioAnno"==e.tagType&&(te(["addSoundTag","tagOperateAdd"])?t&&t(e.audioFile):nd_viewCtrl&&nd_viewCtrl.addSoundTag?nd_viewCtrl.addSoundTag(e.tagInfo,e.audioFile,t):nd_viewCtrl.tagOperateAdd&&nd_viewCtrl.tagOperateAdd(e,t)),"lineNote"==e.tagType&&(te(["addLineTag","tagOperateAdd"])?t&&t():nd_viewCtrl&&nd_viewCtrl.addLineTag?nd_viewCtrl.addLineTag(e.tagInfo,"",t):nd_viewCtrl.tagOperateAdd&&nd_viewCtrl.tagOperateAdd(e,t))},$e=(e,t)=>{"ImageAnno"==e.tagType&&(te(["editPicTag","tagOperateEdit"])?t&&t(e.imageFile):nd_viewCtrl&&nd_viewCtrl.editPicTag?nd_viewCtrl.editPicTag(e.tagInfo,e.imageFile,t):nd_viewCtrl.tagOperateEdit&&nd_viewCtrl.tagOperateEdit(e,t)),"VideoAnno"==e.tagType&&(te(["editVideoTag","tagOperateEdit"])?t&&t(e.imageFile,ee(e.videoFile)):nd_viewCtrl&&nd_viewCtrl.editVideoTag?nd_viewCtrl.editVideoTag(e.tagInfo,e.imageFile,e.videoFile,t):nd_viewCtrl.tagOperateEdit&&nd_viewCtrl.tagOperateEdit(e,t)),"lineNote"==e.tagType&&(te(["editLineTag","tagOperateEdit"])?t&&t():nd_viewCtrl&&nd_viewCtrl.editLineTag?nd_viewCtrl.editLineTag(e.tagInfo,"",t):nd_viewCtrl.tagOperateEdit&&nd_viewCtrl.tagOperateEdit(e,t))},He=(e,t)=>{te(["addPostil"])?t&&t(!0):nd_viewCtrl.addPostil&&nd_viewCtrl.addPostil(e,t)},Ge=(e,t)=>{te(["editPostil"])?t&&t(!0):nd_viewCtrl.editPostil&&nd_viewCtrl.editPostil(e,t)},We=(e,t)=>{te(["delPostil"])?t&&t(!0):nd_viewCtrl.delPostil&&nd_viewCtrl.delPostil(e,t)},qe=(e,t)=>{te(["checkEvent"])?t&&t(!0):nd_viewCtrl.checkEvent&&nd_viewCtrl.checkEvent(e,t)},Ke=e=>(Object(n["pushScopeId"])("data-v-05685948"),e=e(),Object(n["popScopeId"])(),e),Ze={id:"v_message"},Ye=Ke(()=>Object(n["createElementVNode"])("div",{class:"shadow",style:{"z-index":"99"}},null,-1)),Je={class:"del-attr-tc tc-box",style:{"z-index":"100"}},Xe={class:"ts-tcCnt"},Qe={class:"txt"},et={class:"clearfix ts-tcBtn ts-tcBtn02"};function tt(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ze,[Ye,Object(n["createElementVNode"])("div",Je,[Object(n["createElementVNode"])("div",Xe,[Object(n["createElementVNode"])("p",Qe,Object(n["toDisplayString"])(e.$store.state.msgTxt),1)]),Object(n["createElementVNode"])("div",et,[Object(n["createElementVNode"])("a",{onClick:t[0]||(t[0]=e=>i.cancleFunc())},Object(n["toDisplayString"])(e.$t("cancel")),1),Object(n["createElementVNode"])("a",{onClick:t[1]||(t[1]=e=>i.sureFunc())},Object(n["toDisplayString"])(e.$t("sure")),1)])])])}var ot={name:"MsgTips",setup(){const e=Object(n["reactive"])({}),t=Object(n["toRefs"])(e),o=Object(c["useStore"])();function i(){o.commit("hideMsgTip")}function a(){o.commit("hideMsgTip"),o.state.msgFunc&&o.state.msgFunc()}return{...t,cancleFunc:i,sureFunc:a}}},nt=(o("58d1f"),o("6b0d")),it=o.n(nt);const at=it()(ot,[["render",tt],["__scopeId","data-v-05685948"]]);var rt=at;const ct={class:"tip mytip3"};function st(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["tip mytip",{b4:e.useClass2}])},[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.msg),1)],2),[[n["vShow"],e.isShowTipMsg]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",ct,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.msg),1)],512),[[n["vShow"],e.isShowTipMsg3]])])}var lt={name:"Tips",setup(){const e=Object(n["reactive"])({msg:"",isShowTipMsg:!1,isShowTipMsg3:!1,useClass2:!1}),t=Object(n["toRefs"])(e),{proxy:o}=Object(n["getCurrentInstance"])(),i=(t,o)=>{e.msg=t,e.isShowTipMsg=!0,o&&(e.useClass2=!0),setTimeout(()=>{e.isShowTipMsg=!1,e.useClass2=!1},2e3)},a=t=>{e.msg=t,e.isShowTipMsg3=!0,setTimeout(()=>{e.isShowTipMsg3=!1},2e3)};return Object(n["onMounted"])(()=>{o.$eventBus.on("MsgTipEvent",i),o.$eventBus.on("MsgTipEvent2",(function(e){i(e,!0)})),o.$eventBus.on("MsgTipEvent3",a),o.$eventBus.on("MsgTipEvent4",t=>{e.msg=t,e.isShowTipMsg=!0})}),{...t}}};o("48c0");const dt=it()(lt,[["render",st],["__scopeId","data-v-8c8ccdd2"]]);var mt=dt;const ut=Object(n["createStaticVNode"])('<div class="waiter" data-v-7b2e8449><div class="bounce1" data-v-7b2e8449></div><div class="bounce2" data-v-7b2e8449></div><div class="bounce3" data-v-7b2e8449></div></div><div class="cover" data-v-7b2e8449></div>',2),gt=[ut];function pt(e,t,o,i,a,r){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,gt,512)),[[n["vShow"],e.$store.state.showLoading]])}var ht={setup(){}};o("2ea3");const wt=it()(ht,[["render",pt],["__scopeId","data-v-7b2e8449"]]);var St=wt;function vt(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"coor-cover",onMouseenter:t[0]||(t[0]=(...e)=>i.mourseBigMenu&&i.mourseBigMenu(...e)),onMouseleave:t[1]||(t[1]=(...e)=>i.mourseBigMenuLeave&&i.mourseBigMenuLeave(...e))},null,32)}var bt={name:"",setup(){const e=Object(n["reactive"])({}),{proxy:t}=(Object(c["useStore"])(),Object(n["getCurrentInstance"])());Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const o=()=>{const e=document.querySelectorAll(".pc-alert")||[];e&&e.forEach(e=>{e&&e.innerText&&e.innerText.trim().length>0?e.style.display="block":e&&(e.style.display="none")}),$(".ActiveCoordinate").hide()},i=()=>{const e=document.querySelectorAll(".pc-alert")||[];$(".ActiveCoordinate,.pc-alert").show(),e&&e.forEach(e=>{e&&e.innerText&&e.innerText.trim().length>0?e.style.display="block":e&&(e.style.display="none")})},a=Object(n["toRefs"])(e);return{...a,mourseBigMenu:o,mourseBigMenuLeave:i}}};o("bdcd");const ft=it()(bt,[["render",vt],["__scopeId","data-v-71a3d4bc"]]);var Ct=ft;const Ot=e=>(Object(n["pushScopeId"])("data-v-20449cd6"),e=e(),Object(n["popScopeId"])(),e),xt={class:"loading2-mask"},yt={class:"loading2-wrap"},Tt=Ot(()=>Object(n["createElementVNode"])("div",{class:"loading2"},[Object(n["createElementVNode"])("div"),Object(n["createElementVNode"])("div"),Object(n["createElementVNode"])("div"),Object(n["createElementVNode"])("div"),Object(n["createElementVNode"])("div"),Object(n["createElementVNode"])("div"),Object(n["createElementVNode"])("div"),Object(n["createElementVNode"])("div")],-1)),jt={key:0,class:"message"};function Mt(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",xt,[Object(n["createElementVNode"])("div",yt,[Tt,e.message?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",jt,Object(n["toDisplayString"])(e.message),1)):Object(n["createCommentVNode"])("",!0)])])}var Et=Object(n["defineComponent"])({props:{message:{type:String,default:""}},setup(){}});o("1361");const kt=it()(Et,[["render",Mt],["__scopeId","data-v-20449cd6"]]);var Dt=kt,At=o("f240"),Bt=o.n(At),Nt=o("cb48"),It=o.n(Nt);const Lt={class:"ndp2-btn-ul",id:"bottomMainMenu"},Vt={class:"arrow_img",src:Bt.a,alt:""},Ut={class:"arrow_img",src:It.a,alt:""},_t=["selected"],Pt=["selected"],Ft=["track-name"],Rt=["selected"],zt={key:5,id:"ico-lineWeight","track-name":"setLineWeight",class:"no-select"},$t=["selected"],Ht={key:6,id:"ico-textFind","track-name":"textFind"},Gt=["selected"],Wt={key:7,id:"ico-textGet","track-name":"textGet"},qt=["selected"],Kt={key:8,id:"ico-excelGet","track-name":"excelGet"},Zt=["selected"],Yt={key:9,id:"ico-blockSearch","track-name":"blockSearch"},Jt=["selected"],Xt={key:10,id:"ico-paperCompare","track-name":"paperCompare"},Qt=["selected"],eo={key:11,id:"ico-zoomwindow","track-name":"zoomwindow"},to=["selected"],oo={key:12,id:"ico-home","track-name":"resetEye"},no={key:13,id:"ico-full","track-name":"ico-full",class:"no-select"},io=["selected"],ao={key:14,id:"ico-settings","track-name":"settings"},ro=["selected"],co={class:"arrow_img arrow_img_right",src:Bt.a,alt:""},so={class:"arrow_img arrow_img_right",src:It.a,alt:""};function lo(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("meter-btn"),s=Object(n["resolveComponent"])("tag-btn"),l=Object(n["resolveComponent"])("distance-btn"),d=Object(n["resolveComponent"])("scale-btn"),m=Object(n["resolveComponent"])("newSetting"),u=Object(n["resolveComponent"])("tag-write"),g=Object(n["resolveDirective"])("img-switch"),p=Object(n["resolveDirective"])("click-track"),h=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])([{hhiden:e.isLoading},"bottomWrap"]),onMouseenter:t[7]||(t[7]=(...e)=>i.mourseBigMenu&&i.mourseBigMenu(...e)),onMouseleave:t[8]||(t[8]=(...e)=>i.mourseBigMenuLeave&&i.mourseBigMenuLeave(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"ndp2-my-page bot-btn-card",onContextmenu:t[6]||(t[6]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"]))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",Lt,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowLeft",class:"bottom_arrow",onClick:t[0]||(t[0]=(...e)=>i.hideRightBottom&&i.hideRightBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Vt,null,512),[[n["vShow"],e.isBottomLeft]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Ut,null,512),[[n["vShow"],!e.isBottomLeft]])],512),[[n["vShow"],e.overButtom]]),i.checkBtnExit("#ico-Tagging")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:0,id:"ico-Tagging","track-name":"tagNote",onMouseenter:t[1]||(t[1]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[g,["view-tool-comment","ico-Tagging"]]])],32)),[[p,i.chooseToTag],[h,e.$t("tagNote")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-measure")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:1,id:"ico-measure","track-name":"meter",onMouseenter:t[2]||(t[2]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[g,["view-tool-measure","ico-measure"]]])],32)),[[p,i.chooseToMeter],[h,e.$t("meter")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-viewports")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:2,id:"ico-viewports","track-name":"addModelview",onMouseenter:t[3]||(t[3]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"addModelview"==i.menuStore.menuChoose},null,8,_t),[[g,["ico-add-modelview","ico-add-modelview"]]])],32)),[[p,i.chooseToAddModelview],[h,e.$t("modelview")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-structure")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:3,id:"ico-structure","track-name":"structureTree",onMouseenter:t[4]||(t[4]=(...e)=>i.mourseMenu&&i.mourseMenu(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"struct"==i.menuStore.menuChoose},null,8,Pt),[[g,["view-tool-layer","ico-structure"]]])],32)),[[p,i.chooseToStructureTree],[h,e.$t("chooseLayer")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-show")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:4,id:"ico-show","track-name":i.store.state.tagStore.tagShow?"hideNote":"showNote",class:"no-select"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:!i.store.state.tagStore.tagShow},null,8,Rt),[[g,["ico-set-hideMark","ico-show"]]])],8,Ft)),[[p,i.hideTags],[h,e.$t(i.store.state.tagStore.tagShow?"hideNote":"showNote")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-lineWeight")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",zt,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:i.modelStore.suportLineWeight},null,8,$t),[[g,["view-tool-lineWeight","ico-lineWeight"]]])])),[[p,i.setLineWeight],[h,i.modelStore.suportLineWeight?e.$t("pcMtxtLineWeight2"):e.$t("pcMtxtLineWeight")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-textFind")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Ht,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"textFind"==i.store.state.menuStore.menuChoose},null,8,Gt),[[g,["view-tool-textFind","ico-textFind"]]])])),[[p,i.chooseToTextFind],[h,e.$t("pcMtxtTextFind")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-textGet")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Wt,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"textGet"==i.store.state.menuStore.menuChoose},null,8,qt),[[g,["view-tool-textGet","ico-textGet"]]])])),[[p,i.chooseToTextGet],[h,e.$t("pcMtxtTextGet")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-excelGet")&&!e.isPackOne?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Kt,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"excelGet"==i.store.state.menuStore.menuChoose},null,8,Zt),[[g,["view-tool-excelGet","ico-excelGet"]]])])),[[p,i.chooseToExcelGet],[h,e.$t("pcMtxtExcelGet")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-blockSearch")&&i.menuStore.hasBlockSearchBtn?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Yt,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"blockSearch"==i.store.state.menuStore.menuChoose},null,8,Jt),[[g,["view-tool-blockSearch","ico-blockSearch"]]])])),[[p,i.chooseToBlockSearch],[h,e.$t("blockSearch")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-paperCompare")&&i.store.state.isShowCompar&&!e.isPackOne?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Xt,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"paperCompare"==i.store.state.menuStore.menuChoose},null,8,Qt),[[g,["view-tool-paperCompare","ico-paperCompare"]]])])),[[p,i.chooseToPaperCompare],[h,e.$t("paperCompare")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-zoomwindow")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",eo,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"zoomwindow"==i.menuStore.menuChoose},null,8,to),[[g,["view-tool-scale","ico-zoomwindow"]]])])),[[p,i.chooseZoomwindow],[h,e.$t("pcMtxtZoom")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-home")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",oo,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[g,["view-tool-reset","ico-home"]]])])),[[p,i.reset],[h,e.$t("pcMtxtHomeView")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-full")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",no,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:i.store.state.isFull},null,8,io),[[g,["all-screen","ico-full"]]])])),[[p,i.chooseFullScreen],[h,i.store.state.isFull?e.$t("pcMtxtFullexit"):e.$t("pcMtxtFull")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-settings")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",ao,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"settings"==i.store.state.menuStore.menuChoose},null,8,ro),[[g,["view-tool-newInstall","ico-settings"]]])])),[[p,i.chooseToBgColor],[h,e.$t("pcMtxtBgColor")]]):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowRight",class:"bottom_arrow",onClick:t[5]||(t[5]=(...e)=>i.hideLeftBottom&&i.hideLeftBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",co,null,512),[[n["vShow"],e.isBottomRight]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",so,null,512),[[n["vShow"],!e.isBottomRight]])],512),[[n["vShow"],e.overButtom]])],512),[[n["vShow"],i.store.state.menuStore.showOneMenu]]),Object(n["withDirectives"])(Object(n["createVNode"])(c,{onInformHideStyle:i.informHideStyle},null,8,["onInformHideStyle"]),[[n["vShow"],"meter"==i.store.state.menuStore.menuChoose&&"meterDistance"!=i.store.state.menuStore.menuChoose2]]),Object(n["withDirectives"])(Object(n["createVNode"])(s,null,null,512),[[n["vShow"],"tag"==i.store.state.menuStore.menuChoose&&e.showTagButton]]),Object(n["withDirectives"])(Object(n["createVNode"])(l,{onInformHideStyle:i.informHideStyle},null,8,["onInformHideStyle"]),[[n["vShow"],"meterDistance"==i.store.state.menuStore.menuChoose2]])],544),[[n["vShow"],i.store.state.menuStore.showAllMenu]]),(Object(n["openBlock"])(),Object(n["createBlock"])(n["Teleport"],{to:e.teleportTo},[Object(n["withDirectives"])(Object(n["createVNode"])(d,{onMouseenter:i.mourseBigMenu,onMouseleave:i.mourseBigMenuLeave},null,8,["onMouseenter","onMouseleave"]),[[n["vShow"],i.modelStore.scaleDialog]]),Object(n["withDirectives"])(Object(n["createVNode"])(m,{class:"next-level"},null,512),[[n["vShow"],"settings"==i.store.state.menuStore.menuChoose]]),Object(n["createVNode"])(u,{onTagClick:i.writeTag,onTagAudioClick:i.tagAudioClick},null,8,["onTagClick","onTagAudioClick"])],8,["to"]))],34)}var mo=o("61bc"),uo=o.n(mo);const go=e=>(Object(n["pushScopeId"])("data-v-23cc1c65"),e=e(),Object(n["popScopeId"])(),e),po={class:"ndp2-btn-ul retun-trans",id:"ico-measure-list"},ho={class:"return-menu"},wo=go(()=>Object(n["createElementVNode"])("img",{src:uo.a},null,-1)),So=[wo],vo={class:"arrow_img",src:Bt.a,alt:""},bo={class:"arrow_img",src:It.a,alt:""},fo=["selected"],Co=["selected"],Oo=["selected"],xo=["selected"],yo=["selected"],To={key:6,id:"ico-statisticalResult","track-name":"scaleResult"},jo=["selected"],Mo={key:7,id:"ico-meaScale","track-name":"scaleMeter"},Eo=["selected"],ko={class:"arrow_img arrow_img_right",src:Bt.a,alt:""},Do={class:"arrow_img arrow_img_right",src:It.a,alt:""};function Ao(e,t,o,i,a,r){const c=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",po,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",ho,So)),[[c,i.returnOneMenu]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowLeft-meter",class:"bottom_arrow",onClick:t[0]||(t[0]=(...e)=>i.hideRightBottom&&i.hideRightBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",vo,null,512),[[n["vShow"],!e.isBottomRight]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",bo,null,512),[[n["vShow"],e.isBottomRight]])],512),[[n["vShow"],e.overButtom]]),i.checkBtnExit("#ico-coordinate")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:0,id:"ico-coordinate","track-name":"coordinate",onMouseenter:t[1]||(t[1]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"coordinate"==e.nowMeterType},null,8,fo),[[s,["view-tool-coordinate","ico-coordinate"]]])],32)),[[c,i.meterCoordinate],[l,e.$t("pcMtxtCoordinate")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-distance")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:1,id:"ico-distance","track-name":"distance",onMouseenter:t[2]||(t[2]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-distance","ico-distance"]]])],32)),[[c,i.meterDistance],[l,e.$t("pcMtxtDistance")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-continuousArea")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:2,id:"ico-continuousArea","track-name":"continuousArea",onMouseenter:t[3]||(t[3]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"contourarea"==e.nowMeterType},null,8,Co),[[s,["view-tool-Area","ico-continuousArea"]]])],32)),[[c,i.meterContinuousArea],[l,e.$t("pcMtxtContinuousArea")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-facade")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:3,id:"ico-facade","track-name":"facade",onMouseenter:t[4]||(t[4]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"facade"==e.nowMeterType},null,8,Oo),[[s,["view-tool-facades","ico-facade"]]])],32)),[[c,i.meterFacade],[l,e.$t("pcMtxtFacade")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-radius")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:4,id:"ico-radius","track-name":"radius",onMouseenter:t[5]||(t[5]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"radius"==e.nowMeterType},null,8,xo),[[s,["view-tool-radius","ico-radius"]]])],32)),[[c,i.meterRadius],[l,e.$t("pcMtxtRadius")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-lineAngel")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:5,id:"ico-lineAngel","track-name":"lineangel",onMouseenter:t[6]||(t[6]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"LineAngle"==e.nowMeterType},null,8,yo),[[s,["view-tool-angel","ico-lineAngel"]]])],32)),[[c,i.meterLineAngel],[l,e.$t("pcMtxtLineAngel")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-statisticalResult")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",To,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"scaleResult"==e.nowMeterType},null,8,jo),[[s,["view-tool-statisticalResult","ico-statisticalResult"]]])])),[[c,i.scaleResultShow]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-meaScale")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Mo,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"setSetting"==e.nowMeterType},null,8,Eo),[[s,["view-tool-settings","ico-meaScale"]]])])),[[c,i.scaleMeter]]):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowRight-meter",class:"bottom_arrow",onClick:t[7]||(t[7]=(...e)=>i.hideLeftBottom&&i.hideLeftBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",ko,null,512),[[n["vShow"],e.isBottomRight]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Do,null,512),[[n["vShow"],!e.isBottomRight]])],512),[[n["vShow"],e.overButtom]])])])}var Bo={components:{},setup(e,t){const o=Object(n["reactive"])({nowMeterType:"",showAreaMeter:!1,showBoundMeter:!1,showVolMeter:!1,showScaleResult:!1,showScaleSetting:!1,loadAndInitFlag:!1,overButtom:!1,isBottomRight:!1,resizeTimer:null}),i=Object(c["useStore"])(),{menuStore:a,tagStore:r}=i.state,{proxy:s,appContext:l}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{l.config.globalProperties.$meterBtn=o}),s.$eventBus.on("openTagPointSub",()=>{o.nowMeterType=""}),s.$eventBus.on("closeMeasure",()=>{p()}),s.$eventBus.on("apiCreateTagSub",()=>{p()}),s.$eventBus.on("hideFacadeBack1",()=>{o.nowMeterType&&(de.measureUtil&&de.measureUtil.setMeasureOpType(""),i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),o.nowMeterType="")}),s.$eventBus.on("closeEditFacade",(function(e){"facade"==o.nowMeterType&&(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="",t.emit("informHideStyle")),de._viewer.getExtension("Measure2DPCExtension").setMeasureOpType(o.nowMeterType)})),s.$eventBus.on("loadAndInitSub",()=>{d(),m(o.loadAndInitFlag)}),s.$eventBus.on("resize",()=>{D()}),Object(n["watch"])(()=>o.nowMeterType,e=>{"sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate}),Object(n["watch"])(()=>i.state.menuStore.menuChoose2,(e,t)=>{e||(o.nowMeterType="")}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const d=()=>{let e=i.state.modelStore,t=e.nowConfig,o=de._viewer.getDwgScale(),n=o[0]+":"+o[1],a=null,r=nd_viewCtrl.measureSetting;r&&"object"==typeof r&&(a=r);let c={};if(a){i.commit("modelStore/setMeasureSetting",a);let e=null;Array.isArray(a.scaleList)&&a.scaleList.forEach(o=>{o&&t==o.configNum&&(e=o)}),e&&"object"==typeof e&&(c.minScale=e.minScale?e.minScale:1,c.maxScale=e.maxScale?e.maxScale:1,n=`${e.minScale?e.minScale:1}:${e.maxScale?e.maxScale:1}`)}let s=e.measureScale[t];s&&!a||i.commit("modelStore/setMeasureScale",n),c.minScale||(c.minScale=o[0]),c.maxScale||(c.maxScale=o[1]),i.commit("modelStore/setDefaultMeasureSetting",c)},m=e=>{de.measureUtil&&de.measureUtil.releaseOpMeasure(),de.measureUtil&&de.measureUtil.setOperatorByID("OpMeasure");let t=i.state.modelStore,n=t.nowConfig,a=t.measureScale[n]||"",r=a.split(":")[0]||1,c=a.split(":")[1]||1,s=t.measureSetting;de.measureUtil&&de.measureUtil.setMeasureAnnoScale(r,c,!0),de.measureUtil&&de.measureUtil.setMeasurePrecisionType(s.precisionType,!0),de.measureUtil&&de.measureUtil.setMeasureUnit(s.curUnit,!0),de.measureUtil&&de.measureUtil.setMeasurePrecision(s.precision,!0);try{if(nd_viewCtrl.measureList&&!e){const e=nd_viewCtrl.measureList;i.commit("modelStore/setAllMeasure",e),i.commit("modelStore/setNowMeasure"),de.measureUtil&&de.measureUtil.setMeasureData(e)}if(e){i.commit("modelStore/setNowMeasure");const e=i.state.modelStore.allMeasure;de.measureUtil&&de.measureUtil.setMeasureData(e)}setTimeout(()=>{o.loadAndInitFlag=!0},200),de._viewer.setOperatorByID("OpPan")}catch(l){}},u=()=>{"setSetting"==o.nowMeterType?(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="",t.emit("informHideStyle")):(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2","setSetting"),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="setSetting",Pe.sendCenter(2),Pe.sendCenter(3)),de.measureUtil&&de.measureUtil.setMeasureOpType(o.nowMeterType)},g=()=>{"scaleResult"==o.nowMeterType?(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="",t.emit("informHideStyle")):(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2","scaleResult"),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="scaleResult",Pe.sendCenter(2),Pe.sendCenter(3)),de.measureUtil&&de.measureUtil.setMeasureOpType(o.nowMeterType)},p=()=>{i.commit("menuStore/setShowOneMenu",!0),i.commit("menuStore/setMenuChoose","none"),i.commit("menuStore/setMenuChoose2",""),i.commit("menuStore/setMenuChoose3",""),i.commit("menuStore/setShowManyConfig",!0),i.commit("modelStore/setScaleDialog",!1),de.measureUtil&&de.measureUtil.setMeasureOpType(""),i.commit("tagStore/setTagshow",!0),de.setAnnotationsVisibility(!0),de.selectObjUtil&&de.selectObjUtil.setOpSelectType(!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),i.state.printMode||r.tagShow&&de.setAnnotationsVisibility(1),de._viewer.setOperatorByID("OpPan"),o.nowMeterType="",Pe.sendCenter(2)},h=()=>{"coordinate"==o.nowMeterType?(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="",t.emit("informHideStyle")):(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2","coordinate"),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="coordinate",f("coordinateMeter"),Pe.sendCenter(2),Pe.sendCenter(3)),de.measureUtil&&de.measureUtil.setMeasureOpType(o.nowMeterType)},w=()=>{"contourarea"==o.nowMeterType?(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="",t.emit("informHideStyle")):(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2","contourarea"),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="contourarea",f("continuousAreaMeter"),Pe.sendCenter(2),Pe.sendCenter(3)),de.measureUtil&&de.measureUtil.setMeasureOpType(o.nowMeterType)},S=()=>{"facade"==o.nowMeterType?(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="",t.emit("informHideStyle")):(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2","facade"),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="facade",f("facade"),Pe.sendCenter(2),Pe.sendCenter(3)),de._viewer.getExtension("Measure2DPCExtension").setMeasureOpType(o.nowMeterType)},v=()=>{"LineAngle"==o.nowMeterType?(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="",t.emit("informHideStyle")):(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2","LineAngle"),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="LineAngle",f("angelMeter"),Pe.sendCenter(2),Pe.sendCenter(3)),de.measureUtil&&de.measureUtil.setMeasureOpType(o.nowMeterType)},b=()=>{i.state.modelStore._brepload?(de.setMeasureOpType(""),i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2","meterDistance"),i.commit("menuStore/setMenuChoose3",""),i.commit("modelStore/setScaleDialog",!1),s.$eventBus.emit("closeAttrBox"),o.nowMeterType="distance",f("distanceMeter"),Pe.sendCenter(2),Pe.sendCenter(3)):s.$eventBus.emit("MsgTipEvent3",s.$t("pcBrepNotEnd"))},C=()=>{i.state.modelStore._brepload?(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="meterAngle",f("angelMeter"),Pe.sendCenter(2),Pe.sendCenter(3)):s.$eventBus.emit("MsgTipEvent3",s.$t("pcBrepNotEnd"))},O=()=>{"radius"==o.nowMeterType?(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="",t.emit("informHideStyle")):(i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2","radius"),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType="radius",f("radiusMeter"),Pe.sendCenter(2),Pe.sendCenter(3)),de.measureUtil&&de.measureUtil.setMeasureOpType(o.nowMeterType)},x=()=>{de.OpMeasureRelease(),de.setMeasureOpType(""),de.setOperatorByID("OpMeasure"),i.commit("menuStore/setMenuChoose2",""),i.commit("menuStore/setMenuChoose3",""),i.commit("modelStore/setScaleDialog",!1),o.nowMeterType=!1,f("clearMeter"),Pe.sendCenter(2),Pe.sendCenter(3)},y=e=>T(e),j=e=>{E(),e&&(o[e]=!0)},M=()=>{t.emit("informHideStyle")},E=()=>{o.showAreaMeter=!1,o.showBoundMeter=!1,o.showVolMeter=!1},k="#ico-measure-list",D=()=>{o.resizeTimer&&clearTimeout(o.resizeTimer),o.resizeTimer=setTimeout(()=>{var e=s.$sortDom.checkIsOverwidth(k);e?(i.commit("menuStore/setMenuCurIndex",0),A("reset"),o.overButtom=!0):(N(),o.overButtom=!1)},200)},A=e=>{(o.isBottomRight||"reset"==e)&&s.$sortDom.hideRightBottom(k,()=>{o.isBottomRight=!1})},B=e=>{o.isBottomRight&&"reset"!=e||s.$sortDom.hideLeftBottom(k,()=>{o.isBottomRight=!0})},N=()=>{s.$sortDom.showAllBottom(k,()=>{o.overButtom=!1})},I=Object(n["toRefs"])(o);return{...I,store:i,menuStore:a,returnOneMenu:p,meterDistance:b,meterCoordinate:h,meterContinuousArea:w,checkBtnExit:y,meterLineAngel:v,meterAngle:C,meterFacade:S,meterRadius:O,meterClear:x,mouseEnter:j,sonInformHideStyle:M,scaleResultShow:g,scaleMeter:u,hideLeftBottom:B,hideRightBottom:A}}};o("73a8");const No=it()(Bo,[["render",Ao],["__scopeId","data-v-23cc1c65"]]);var Io=No;const Lo=e=>(Object(n["pushScopeId"])("data-v-014a03e8"),e=e(),Object(n["popScopeId"])(),e),Vo={class:"ndp2-btn-ul retun-trans"},Uo={class:"return-menu"},_o=Lo(()=>Object(n["createElementVNode"])("img",{src:uo.a},null,-1)),Po=[_o],Fo={key:0,id:"ico-zoom","track-name":"zoomwindow"},Ro=["selected"],zo={key:1,id:"ico-zoomwindow","track-name":"zoom"},$o=["selected"];function Ho(e,t,o,i,a,r){const c=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("ul",Vo,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Uo,Po)),[[c,i.returnOneMenu]]),i.checkBtnExit("#ico-zoom")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Fo,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"zoom"==e.selected},null,8,Ro),[[s,["view-tool-scale","ico-zoom"]]])])),[[c,i.chooseZoom],[l,e.$t("pcMtxtTagImg")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-zoomwindow")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",zo,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"zoomwindow"==e.selected},null,8,$o),[[s,["view-tool-scale","ico-zoomwindow"]]])])),[[c,i.chooseZoomwindow],[l,e.$t("pcMtxtTagTxt")]]):Object(n["createCommentVNode"])("",!0)])])}var Go={name:"",components:{},setup(){const e=Object(n["reactive"])({selected:""}),t=Object(c["useStore"])(),{proxy:o}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const i=()=>{e.selected="",de._viewer.setOperatorByID("OpPan"),t.commit("menuStore/setShowOneMenu",!0),t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setShowManyConfig",!0)},a=e=>T(e),r=()=>{"zoomwindow"!=e.selected?(e.selected="zoomwindow",de._viewer.setOperatorByID("OpZoomWindow")):(e.selected="",de._viewer.setOperatorByID("OpPan"))},s=()=>{"zoom"!=e.selected?(e.selected="zoom",de._viewer.setOperatorByID("OpZoom")):(e.selected="",de._viewer.setOperatorByID("OpPan"))},l=Object(n["toRefs"])(e);return{returnOneMenu:i,checkBtnExit:a,chooseZoomwindow:r,chooseZoom:s,...l}}};o("0ab7");const Wo=it()(Go,[["render",Ho],["__scopeId","data-v-014a03e8"]]);var qo=Wo;const Ko=e=>(Object(n["pushScopeId"])("data-v-572f1785"),e=e(),Object(n["popScopeId"])(),e),Zo={class:"ndp2-twrap"},Yo={class:"ndp2-btn-ul retun-trans",id:"ico-distance-list"},Jo={class:"return-menu"},Xo=Ko(()=>Object(n["createElementVNode"])("img",{src:uo.a},null,-1)),Qo=[Xo],en={class:"arrow_img",src:Bt.a,alt:""},tn={class:"arrow_img",src:It.a,alt:""},on={key:0,id:"ico-pt2pt","track-name":"pointToPoint"},nn=["selected"],an={key:1,id:"ico-continuousLine"},rn=["selected"],cn={key:2,id:"ico-edges"},sn=["selected"],ln={key:3,id:"ico-arcLength"},dn=["selected"],mn={key:4,id:"ico-pt2line","track-name":"pointToLine"},un=["selected"],gn={key:5,id:"ico-line2line","track-name":"LineToLine"},pn=["selected"],hn={key:6,id:"ico-Lineargauge"},wn=["selected"],Sn={class:"arrow_img arrow_img_right",src:Bt.a,alt:""},vn={class:"arrow_img arrow_img_right",src:It.a,alt:""};function bn(e,t,o,i,a,r){const c=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Zo,[Object(n["createElementVNode"])("ul",Yo,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Jo,Qo)),[[c,i.returnOneMenu]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowLeft-distance",class:"bottom_arrow",onClick:t[0]||(t[0]=(...e)=>i.hideRightBottom&&i.hideRightBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",en,null,512),[[n["vShow"],!e.isBottomRight]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",tn,null,512),[[n["vShow"],e.isBottomRight]])],512),[[n["vShow"],e.overButtom]]),i.checkBtnExit("#ico-pt2pt")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",on,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:0===e.meterStartIdx},null,8,nn),[[s,["view-tool-pointToPoint","ico-pt2pt"]]])])),[[c,i.meterP2P],[l,e.$t("pcMtxtP2P")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-continuousLine")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",an,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:7==e.meterStartIdx},null,8,rn),[[s,["view-tool-continuityLength","ico-continuousLine"]]])])),[[c,i.lengthMeter]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-edges")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",cn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:8==e.meterStartIdx},null,8,sn),[[s,["view-tool-segmentlength","ico-edges"]]])])),[[c,i.edgesMeter]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-arcLength")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",ln,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:4==e.meterStartIdx},null,8,dn),[[s,["view-tool-arcLength","ico-arcLength"]]])])),[[c,i.distanceThreeptArc]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-pt2line")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",mn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:1===e.meterStartIdx},null,8,un),[[s,["view-tool-pointToLine","ico-pt2line"]]])])),[[c,i.meterP2L],[l,e.$t("pcMtxtP2L")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-line2line")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",gn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:2===e.meterStartIdx},null,8,pn),[[s,["view-tool-lineToLine","ico-line2line"]]])])),[[c,i.distanceLine2line],[l,e.$t("pcMtxtL2L")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-Lineargauge")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",hn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:3===e.meterStartIdx},null,8,wn),[[s,["view-tool-LinearMeasurement","ico-Lineargauge"]]])])),[[c,i.distanceLineargauge],[l,e.$t("pcMtxtLinear")]]):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowRight-distance",class:"bottom_arrow",onClick:t[1]||(t[1]=(...e)=>i.hideLeftBottom&&i.hideLeftBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Sn,null,512),[[n["vShow"],e.isBottomRight]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",vn,null,512),[[n["vShow"],!e.isBottomRight]])],512),[[n["vShow"],e.overButtom]])])])}var fn={name:"",components:{},setup(e,t){const o=Object(n["reactive"])({meterStartIdx:-1,overButtom:!1,isBottomRight:!1,resizeTimer:null}),i=Object(c["useStore"])(),{proxy:a,appContext:r}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{r.config.globalProperties.$distanceBtn=o}),Object(n["watch"])(()=>o.meterStartIdx,e=>{("sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate)&&Pe.sendCenter(4)}),a.$eventBus.on("openTagPointSub",()=>{o.meterStartIdx=-1}),a.$eventBus.on("resize",()=>{v()}),a.$eventBus.on("closeMeasure",()=>{de.setMeasureOpType(""),i.commit("menuStore/setMenuChoose2",""),o.meterStartIdx=-1}),a.$eventBus.on("hideFacadeBack2",()=>{-1!=o.meterStartIdx&&(de.measureUtil&&de.measureUtil.setMeasureOpType(""),i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2","meterDistance"),i.commit("menuStore/setMenuChoose3",""),o.meterStartIdx=-1)}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const s=()=>{de.measureUtil&&de.measureUtil.setMeasureOpType(""),i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),o.meterStartIdx=-1,Pe.sendCenter(2)},l=e=>T(e),d=()=>{8==o.meterStartIdx?(i.commit("menuStore/setMenuChoose3",""),o.meterStartIdx=-1,t.emit("informHideStyle"),de.measureUtil&&de.measureUtil.setMeasureOpType("")):(i.commit("menuStore/setMenuChoose3","measureEdges"),o.meterStartIdx=8,Pe.sendCenter(2),f("distancePt2pt"),de.measureUtil&&de.measureUtil.setMeasureOpType("measureEdges"))},m=()=>{7==o.meterStartIdx?(i.commit("menuStore/setMenuChoose3",""),o.meterStartIdx=-1,t.emit("informHideStyle"),de.measureUtil&&de.measureUtil.setMeasureOpType("")):(i.commit("menuStore/setMenuChoose3","continuous"),o.meterStartIdx=7,Pe.sendCenter(2),f("distancePt2pt"),de.measureUtil&&de.measureUtil.setMeasureOpType("continuous"))},u=()=>{0==o.meterStartIdx?(i.commit("menuStore/setMenuChoose3",""),o.meterStartIdx=-1,t.emit("informHideStyle"),de.measureUtil&&de.measureUtil.setMeasureOpType("")):(i.commit("menuStore/setMenuChoose3","pt2pt"),o.meterStartIdx=0,Pe.sendCenter(2),f("distancePt2pt"),de.measureUtil&&de.measureUtil.setMeasureOpType("pt2pt"))},g=()=>{1==o.meterStartIdx?(i.commit("menuStore/setMenuChoose3",""),o.meterStartIdx=-1,t.emit("informHideStyle"),de.measureUtil&&de.measureUtil.setMeasureOpType("")):(i.commit("menuStore/setMenuChoose3","PointToLine"),de.measureUtil&&de.measureUtil.setMeasureOpType("PointToLine"),o.meterStartIdx=1,Pe.sendCenter(2),f("distancePt2line"))},p=()=>{2==o.meterStartIdx?(i.commit("menuStore/setMenuChoose3",""),o.meterStartIdx=-1,t.emit("informHideStyle"),de.measureUtil&&de.measureUtil.setMeasureOpType("")):(i.commit("menuStore/setMenuChoose3","LineToLine"),o.meterStartIdx=2,de.measureUtil&&de.measureUtil.setMeasureOpType("LineToLine"),Pe.sendCenter(2),f("distanceLine2line"))},h=()=>{3==o.meterStartIdx?(i.commit("menuStore/setMenuChoose3",""),o.meterStartIdx=-1,t.emit("informHideStyle"),de.measureUtil&&de.measureUtil.setMeasureOpType("")):(i.commit("menuStore/setMenuChoose3","Lineargauge"),o.meterStartIdx=3,de.measureUtil&&de.measureUtil.setMeasureOpType("Lineargauge"),Pe.sendCenter(2),f("distanceLineargauge"))},w=()=>{4==o.meterStartIdx?(i.commit("menuStore/setMenuChoose3",""),o.meterStartIdx=-1,t.emit("informHideStyle"),de._viewer.getExtension("Measure2DPCExtension").setMeasureOpType("")):(i.commit("menuStore/setMenuChoose3","ThreeptArc"),o.meterStartIdx=4,Pe.sendCenter(2),f("distanceThreeptArc"),de._viewer.getExtension("Measure2DPCExtension").setMeasureOpType("ThreeptArc"))},S="#ico-distance-list",v=()=>{o.resizeTimer&&clearTimeout(o.resizeTimer),o.resizeTimer=setTimeout(()=>{var e=a.$sortDom.checkIsOverwidth(S);e?(i.commit("menuStore/setMenuCurIndex",0),b("reset"),o.overButtom=!0):(O(),o.overButtom=!1)},200)},b=e=>{(o.isBottomRight||"reset"==e)&&a.$sortDom.hideRightBottom(S,()=>{o.isBottomRight=!1})},C=e=>{o.isBottomRight&&"reset"!=e||a.$sortDom.hideLeftBottom(S,()=>{o.isBottomRight=!0})},O=()=>{a.$sortDom.showAllBottom(S,()=>{o.overButtom=!1})},x=Object(n["toRefs"])(o);return{returnOneMenu:s,checkBtnExit:l,meterP2P:u,meterP2L:g,distanceLine2line:p,distanceLineargauge:h,lengthMeter:m,edgesMeter:d,distanceThreeptArc:w,hideRightBottom:b,hideLeftBottom:C,...x}}};o("e541");const Cn=it()(fn,[["render",bn],["__scopeId","data-v-572f1785"]]);var On=Cn,xn=o("7863"),yn=o.n(xn);const Tn={class:"dialog_header"},jn={class:"drag-right",ref:"dragRight"},Mn={class:"drag-bottom",ref:"dragBottom"};function En(e,t,o,i,a,r){const c=Object(n["resolveDirective"])("drag");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"my-card",ref:"cardRef",onContextmenu:t[1]||(t[1]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"]))},[Object(n["createElementVNode"])("header",Tn,[Object(n["renderSlot"])(e.$slots,"header",{},void 0,!0)]),o.hideClose?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"close-icon",src:yn.a,onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e)),alt:""})),Object(n["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",jn,null,512),[[n["vShow"],o.canDrag]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Mn,null,512),[[n["vShow"],o.canDrag]])],32)),[[c]])}var kn={name:"",props:["hideClose","canDrag","sizeDrag"],setup(e,t){const o=Object(n["reactive"])({});let i=Object(n["ref"])(null),a=Object(n["ref"])(null),r=Object(n["ref"])(null);Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{e.canDrag&&s()});const c=()=>{t.emit("close"),Pe.sendCenter(2),Pe.sendCenter(3)},s=()=>{i.value.onmousedown=function(e){let o=e.clientX,n=1*r.value.clientWidth;document.onmousemove=function(e){let t=n+e.clientX-o;e.clientX>document.body.clientWidth-10||t>=240&&(r.value.style.width=t+"px")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,t.emit("sizeDrag",{cardWidth:r.value.style.width,cardHeight:r.value.style.height})}},a.value.onmousedown=function(e){let o=e.clientY,n=1*r.value.clientHeight;document.onmousemove=function(e){let t=n+e.clientY-o;e.clientY>document.body.clientHeight-10||t>=300&&(r.value.style.height=t+"px")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,t.emit("sizeDrag",{cardWidth:r.value.style.width,cardHeight:r.value.style.height})}}},l=Object(n["toRefs"])(o);return{...l,close:c,dragRight:i,dragBottom:a,cardRef:r}}};o("b53e");const Dn=it()(kn,[["render",En],["__scopeId","data-v-0ef834b7"]]);var An=Dn;const Bn=e=>(Object(n["pushScopeId"])("data-v-679143b1"),e=e(),Object(n["popScopeId"])(),e),Nn={class:"ndp2-tc-scale"},In={class:"ndp2-dialog-model"},Ln={class:"dialog-title dialog_header"},Vn={class:"dialog-content"},Un={class:"win-content scale-box"},_n=Bn(()=>Object(n["createElementVNode"])("span",{class:"fh"},":",-1)),Pn={class:"dialog-footer"};function Fn(e,t,o,i,a,r){const c=Object(n["resolveDirective"])("drag");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Nn,[Object(n["createElementVNode"])("div",In,[Object(n["createElementVNode"])("div",Ln,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("scaleMeter"))+" ",1),Object(n["createElementVNode"])("img",{class:"dialog-cancel-img",onClick:t[0]||(t[0]=(...e)=>i.closeDialog&&i.closeDialog(...e)),src:yn.a,alt:""})]),Object(n["createElementVNode"])("div",Vn,[Object(n["createElementVNode"])("div",Un,[Object(n["createElementVNode"])("span",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.scale.min=t),maxlength:"10",onKeyup:t[2]||(t[2]=(...e)=>i.checkValid&&i.checkValid(...e))},null,544),[[n["vModelText"],e.scale.min]])]),_n,Object(n["createElementVNode"])("span",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.scale.max=t),maxlength:"10",onKeyup:t[4]||(t[4]=(...e)=>i.checkValid&&i.checkValid(...e))},null,544),[[n["vModelText"],e.scale.max]])])])]),Object(n["createElementVNode"])("div",Pn,[Object(n["createElementVNode"])("button",{class:"dialog-cancel-btn dialog-btn",onClick:t[5]||(t[5]=(...e)=>i.closeDialog&&i.closeDialog(...e))},Object(n["toDisplayString"])(e.$t("cancel")),1),Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["dialog-sure-btn dialog-btn",{no:0==e.validOK}]),onClick:t[6]||(t[6]=(...e)=>i.sureDialog&&i.sureDialog(...e))},Object(n["toDisplayString"])(e.$t("sure")),3)])])])),[[c],[n["vShow"],i.store.state.modelStore.scaleDialog]])}var Rn={setup(){const{proxy:e,appContext:t}=Object(n["getCurrentInstance"])(),o=Object(c["useStore"])(),i=Object(n["reactive"])({scale:{min:"1",max:"1"},baseScale:{},scaleDialog:!0,validOK:!0});Object(n["nextTick"])(()=>{t.config.globalProperties.$scaleBtn=i,Object(n["watch"])(()=>i.scale,()=>{("sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate)&&Pe.sendCenter(4)},{immediate:!0,deep:!0})}),Object(n["watch"])(()=>o.state.modelStore.nowConfig,(e,t)=>{o.state.modelStore.scaleDialog&&o.commit("modelStore/setScaleDialog",!1)},{immediate:!0,deep:!0}),e.$eventBus.on("refreshScale",()=>{i.scale={min:"1",max:"1"},i.validOK=!0;try{var e=o.state.modelStore.measureScale,t=o.state.modelStore.nowConfig;if(e.length>0&&void 0!=e[t]){var n=e[t];i.scale.min=parseFloat(n.split(":")[0]),i.scale.max=parseFloat(n.split(":")[1])}}catch(a){}});const a=()=>{o.commit("modelStore/setScaleDialog",!1),Pe.sendCenter(3)},r=()=>{const t=i.scale.min,n=i.scale.max;s()?(o.commit("modelStore/setScaleDialog",!1),o.commit("modelStore/setMeasureScale",`${t}:${n}`),i.baseScale=JSON.parse(JSON.stringify(i.scale)),f("chooseScale"),Pe.sendCenter(3),Pe.sendCenter(4)):e.$eventBus.emit("MsgTipEvent",e.$t("rightScaleTips"))},s=()=>{const t=/^(0|[1-9]\d*)(\s|$|\.\d{1,2}\b)/,o=i.scale.min,n=i.scale.max;return 0!=Number(o)&&0!=Number(n)&&t.test(o)&&t.test(n)?i.validOK=!0:(e.$eventBus.emit("MsgTipEvent",e.$t("rightScaleTips")),i.validOK=!1),i.validOK};return{...Object(n["toRefs"])(i),store:o,checkValid:s,closeDialog:a,sureDialog:r}}};o("5343");const zn=it()(Rn,[["render",Fn],["__scopeId","data-v-679143b1"]]);var $n=zn,Hn=o("5fdb"),Gn=o.n(Hn),Wn=o("b544"),qn=o.n(Wn);const Kn=e=>(Object(n["pushScopeId"])("data-v-2f787f32"),e=e(),Object(n["popScopeId"])(),e),Zn={key:0,class:"tag-write-list"},Yn=Kn(()=>Object(n["createElementVNode"])("img",{src:Gn.a,alt:""},null,-1)),Jn=[Yn],Xn=Kn(()=>Object(n["createElementVNode"])("img",{src:qn.a,alt:""},null,-1)),Qn=[Xn],ei={class:"tag-write-icon dialog_header"};function ti(e,t,o,i,a,r){const c=Object(n["resolveDirective"])("drag");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])([{hhiden:e.isLoading},"tag-write-card"])},[e.isOpenTag?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Zn,[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",{class:"tag-anno-img",onClick:t[0]||(t[0]=Object(n["withModifiers"])((...e)=>i.openTwTag&&i.openTwTag(...e),["prevent","stop"]))},Jn),e.showAudio?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"tag-anno-img",style:{"margin-top":"8px"},onClick:t[1]||(t[1]=Object(n["withModifiers"])((...e)=>i.openAudioTag&&i.openAudioTag(...e),["prevent","stop"]))},Qn)):Object(n["createCommentVNode"])("",!0)])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",ei,[Object(n["createElementVNode"])("div",{class:"can-click",onClick:t[2]||(t[2]=Object(n["withModifiers"])((...e)=>i.openTag&&i.openTag(...e),["prevent","stop"])),onMousedown:t[3]||(t[3]=Object(n["withModifiers"])(()=>{},["prevent","stop"])),onMousemove:t[4]||(t[4]=Object(n["withModifiers"])(()=>{},["prevent","stop"]))},null,32)])],2)),[[n["vShow"],e.showWrite&&i.store.state.menuStore.showOneMenu],[c]])}var oi={name:"",setup(e,t){const o=Object(n["reactive"])({isLoading:!0,showWrite:!1,isOpenTag:!1,showAudio:!1}),i=Object(c["useStore"])(),{proxy:a}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{a.$eventBus.on("loadComplete",()=>{o.isLoading=!1}),"sync"==nd_viewCtrl.viewMode&&(o.showWrite=!0),nd_viewCtrl.showAudioTag&&(o.showAudio=!0)});const r=()=>{o.isOpenTag=!o.isOpenTag},s=()=>{t.emit("tagClick")},l=()=>{t.emit("tagAudioClick")},d=Object(n["toRefs"])(o);return{openTag:r,openTwTag:s,openAudioTag:l,...d,store:i}}};o("e4ad");const ni=it()(oi,[["render",ti],["__scopeId","data-v-2f787f32"]]);var ii=ni;window.excelFinish=!1;var ai={isFull:!1,unfullHeight:0,callFull:function(e){if(se.state.isFull){t=document;t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen()&&t.msExitFullscreen()()}else{var t=document.documentElement;t.requestFullscreen?e.requestFullscreen():t.mozRequestFullScreen?e.mozRequestFullScreen():t.webkitRequestFullScreen?e.webkitRequestFullScreen():t.msRequestFullscreen()&&e.msRequestFullscreen()()}se.commit("setFull",!se.state.isFull)}};const ri=e=>(Object(n["pushScopeId"])("data-v-176e1fb5"),e=e(),Object(n["popScopeId"])(),e),ci={class:"hd_title header"},si={class:""},li={class:"ndp2-win-frame beijingse close",style:{"z-index":"999"}},di={class:"ndp2-setR win-content"},mi={class:"ndp2-setR-title"},ui={class:"ndp2-setR-content"},gi=["src"],pi=["src"],hi={class:"ndp2-setR win-content"},wi={class:"ndp2-setR-title"},Si={class:"ndp2-beijingse-box ndp2-setR-content"},vi={class:"ndp2-setR-content"},bi=ri(()=>Object(n["createElementVNode"])("span",{class:"black"},null,-1)),fi=[bi],Ci={class:"s-r-spanTwo"},Oi=["src"];function xi(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(c,{class:"ndp2-bgColor-card",onClose:i.hideBgColor,onContextmenu:Object(n["withModifiers"])(i.rightEvent,["right","stop","prevent"])},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",ci,[Object(n["createElementVNode"])("div",si,Object(n["toDisplayString"])(e.$t("settings")),1)])]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",li,[Object(n["createElementVNode"])("div",di,[Object(n["createElementVNode"])("div",mi,Object(n["toDisplayString"])(e.$t("rotate")),1),Object(n["createElementVNode"])("div",ui,[Object(n["createElementVNode"])("img",{onClick:t[0]||(t[0]=(...e)=>i.rotateLeft&&i.rotateLeft(...e)),class:"nsc-right",src:i.leftRotation,alt:""},null,8,gi),Object(n["withDirectives"])(Object(n["createElementVNode"])("span",{class:"nsc-content",onClick:t[1]||(t[1]=e=>i.inExitAngle(!0))},Object(n["toDisplayString"])(e.rotationAngle)+"° ",513),[[n["vShow"],!e.isInExitAngle]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{onInput:t[2]||(t[2]=(...e)=>i.validateNumber&&i.validateNumber(...e)),class:"nsc-content",id:"content_input",style:{"padding-left":"12px","text-align":"left"},type:"text","onUpdate:modelValue":t[3]||(t[3]=t=>e.rotationAngle=t)},null,544),[[n["vShow"],e.isInExitAngle],[n["vModelText"],e.rotationAngle]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("span",{class:"img-icon-right",onClick:t[4]||(t[4]=e=>i.inExitAngle(!1))},null,512),[[n["vShow"],e.isInExitAngle&&(e.rotationAngle||0===e.rotationAngle)]]),Object(n["createElementVNode"])("img",{onClick:t[5]||(t[5]=(...e)=>i.rotateRight&&i.rotateRight(...e)),class:"nsc-left",src:i.rightRotation,alt:""},null,8,pi)])]),Object(n["createElementVNode"])("div",hi,[Object(n["createElementVNode"])("div",wi,Object(n["toDisplayString"])(e.$t("background")),1),Object(n["createElementVNode"])("div",Si,[Object(n["createElementVNode"])("ul",vi,[Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])({select:1==i.modelStore.colorIdx||"num:0"==i.modelStore.colorIdx}),onClick:t[6]||(t[6]=e=>i.setBgColor(1))},fi,2),Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])({select:3==i.modelStore.colorIdx||"num:15921906"==i.modelStore.colorIdx})},[Object(n["createElementVNode"])("span",{class:"grey",onClick:t[7]||(t[7]=e=>i.setBgColor(3))})],2),Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])({select:2==i.modelStore.colorIdx||"num:16776693"==i.modelStore.colorIdx})},[Object(n["createElementVNode"])("span",{class:"beige",onClick:t[8]||(t[8]=e=>i.setBgColor(2))})],2)])])]),Object(n["createElementVNode"])("div",{class:"ndp2-setR-bottom",onClick:t[9]||(t[9]=(...e)=>i.refreshBgColor&&i.refreshBgColor(...e))},[Object(n["createElementVNode"])("span",Ci,[Object(n["createElementVNode"])("img",{src:i.refreshScale,alt:""},null,8,Oi),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("scaleReset")),1)])])])]),_:1},8,["onClose","onContextmenu"])}var yi=o("d43e"),Ti=o.n(yi),ji=o("7ada"),Mi=o.n(ji),Ei=o("9ca4"),ki=o.n(Ei),Di={name:"textInput",components:{card:An},setup(){const e=Object(n["reactive"])({isShowInput:!1,rotationAngle:"0",isInExitAngle:!1}),{proxy:t}=Object(n["getCurrentInstance"])(),o=Object(n["toRefs"])(e),i=Object(c["useStore"])(),{menuStore:a,modelStore:r}=i.state,s=(e,t)=>{var o=l(e);de._viewer.setBackGroundColor(o),i.commit("modelStore/setShareBg",e),Pe.sendCenter(4),nd_viewCtrl.settingsChange&&nd_viewCtrl.settingsChange({type:"background",data:r.bgSetList})},l=function(e){var t;return t=String(e)&&String(e).indexOf("num:")>=0?parseInt(e.split(":")[1]):M(e),t},d=(e,t)=>{},m=()=>{i.commit("menuStore/setMenuChoose","")},u=()=>{e.rotationAngle=S(e.rotationAngle),i.commit("modelStore/setRotationAngle",e.rotationAngle),de.storeViewUtil&&de.storeViewUtil.setCameraRotate(e.rotationAngle),m()},g=t=>{t?(e.isInExitAngle=t,setTimeout(()=>{let e=document.getElementById("content_input");e.focus()},50)):(e.rotationAngle||0===e.rotationAngle)&&(e.isInExitAngle=t,e.rotationAngle=S(e.rotationAngle),i.commit("modelStore/setRotationAngle",e.rotationAngle),de.storeViewUtil&&de.storeViewUtil.setCameraRotate(e.rotationAngle),nd_viewCtrl.settingsChange&&nd_viewCtrl.settingsChange({type:"cameraRotate",data:r.rotationAngle}))},p=()=>{e.isInExitAngle=!1;let t=S(parseInt(e.rotationAngle)-45);e.rotationAngle=t,de.storeViewUtil&&de.storeViewUtil.setCameraRotate(t),i.commit("modelStore/setRotationAngle",t),nd_viewCtrl.settingsChange&&nd_viewCtrl.settingsChange({type:"cameraRotate",data:r.rotationAngle})},h=()=>{e.isInExitAngle=!1;let t=S(parseInt(e.rotationAngle)+45);e.rotationAngle=t,de.storeViewUtil&&de.storeViewUtil.setCameraRotate(t),i.commit("modelStore/setRotationAngle",t),nd_viewCtrl.settingsChange&&nd_viewCtrl.settingsChange({type:"cameraRotate",data:r.rotationAngle})},w=()=>{e.rotationAngle=r.defaultRAngle[r.nowConfig]||0,g(!1)},S=e=>(e=parseInt(e),e>=0?e%360:S(360+e)),v=()=>{let t=e.rotationAngle.toString().substring(0,4);t=t&&0!==t?t.replace(/[^\d]/g,""):0,e.rotationAngle=parseInt(t),e.rotationAngle=e.rotationAngle.toString()},b=()=>{e.rotationAngle=r.rotationAngle[r.nowConfig]?r.rotationAngle[r.nowConfig].toString():"0"};return Object(n["watch"])(()=>i.state.modelStore.nowConfig,(e,t)=>{}),t.$eventBus.on("setShowNewSetting",()=>{b()}),t.$eventBus.on("resetCameraEventBack",()=>{e.rotationAngle=0,i.commit("modelStore/setRotationAngle",0)}),{...o,setBgColor:s,modelStore:r,menuStore:a,rightRotation:Ti.a,leftRotation:Mi.a,hideBgColor:m,chooseBgColor:u,rightRotation:Ti.a,leftRotation:Mi.a,inExitAngle:g,rotateLeft:p,rotateRight:h,refreshBgColor:w,validateNumber:v,rightEvent:d,refreshScale:ki.a}}};o("d958");const Ai=it()(Di,[["render",xi],["__scopeId","data-v-176e1fb5"]]);var Bi=Ai;const Ni=e=>(Object(n["pushScopeId"])("data-v-476a4a52"),e=e(),Object(n["popScopeId"])(),e),Ii={class:"ndp2-btn-ul retun-trans",id:"ico-Tagging-list"},Li={class:"return-menu"},Vi=Ni(()=>Object(n["createElementVNode"])("img",{src:uo.a},null,-1)),Ui=[Vi],_i={class:"arrow_img",src:Bt.a,alt:""},Pi={class:"arrow_img",src:It.a,alt:""},Fi=["selected"],Ri=["selected"],zi=["selected"],$i=["selected"],Hi=["selected"],Gi=["selected"],Wi=["selected"],qi=["selected"],Ki={class:"arrow_img arrow_img_right",src:Bt.a,alt:""},Zi={class:"arrow_img arrow_img_right",src:It.a,alt:""};function Yi(e,t,o,i,a,r){const c=Object(n["resolveDirective"])("click-track"),s=Object(n["resolveDirective"])("img-switch"),l=Object(n["resolveDirective"])("tooltip");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",Ii,[Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",Li,Ui)),[[c,i.returnOneMenu]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowLeft-show",class:"bottom_arrow",onClick:t[0]||(t[0]=(...e)=>i.hideRightBottom&&i.hideRightBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",_i,null,512),[[n["vShow"],!e.isBottomRight]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Pi,null,512),[[n["vShow"],e.isBottomRight]])],512),[[n["vShow"],e.overButtom]]),i.checkBtnExit("#ico-tagGraphic")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:0,id:"ico-tagGraphic","track-name":"graphic",onMouseenter:t[1]||(t[1]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[s,["view-tool-graphic","ico-graphic"]]])],32)),[[c,i.tagGraphicClick],[l,e.$t("pcTagGraphic")]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-annoText")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:1,id:"ico-annoText","track-name":"annoText",onMouseenter:t[2]||(t[2]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"newText"==e.nowMeterType},null,8,Fi),[[s,["view-tool-annoText","ico-annoText"]]])],32)),[[c,i.annoTextClick]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-freehandLine")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:2,id:"ico-freehandLine","track-name":"freehandLine",onMouseenter:t[3]||(t[3]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"newLine"==e.nowMeterType},null,8,Ri),[[s,["view-tool-freehandLine","ico-freehandLine"]]])],32)),[[c,i.freehandLineClick]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-cloudLine")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:3,id:"ico-cloudLine","track-name":"cloudLine",onMouseenter:t[4]||(t[4]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"cloudLine"==e.nowMeterType},null,8,zi),[[s,["view-tool-cloudLine","ico-cloudLine"]]])],32)),[[c,i.cloudLineClick]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-circleAnno")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:4,id:"ico-circleAnno","track-name":"circleAnno",onMouseenter:t[5]||(t[5]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"newCircle"==e.nowMeterType},null,8,$i),[[s,["view-tool-circleAnno","ico-circleAnno"]]])],32)),[[c,i.circleAnnoClick]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-rectangleAnno")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:5,id:"ico-rectangleAnno","track-name":"rectangleAnno",onMouseenter:t[6]||(t[6]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"newRectangle"==e.nowMeterType},null,8,Hi),[[s,["view-tool-rectangleAnno","ico-rectangleAnno"]]])],32)),[[c,i.rectangleAnnoClick]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-lineAnno")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:6,id:"ico-lineAnno","track-name":"lineAnno",onMouseenter:t[7]||(t[7]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"newLine2Pt"==e.nowMeterType},null,8,Gi),[[s,["view-tool-annoLine","ico-lineAnno"]]])],32)),[[c,i.lineAnnoClick]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-arrowAnno")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:7,id:"ico-arrowAnno","track-name":"annoArrow",onMouseenter:t[8]||(t[8]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"newArrow2Pt"==e.nowMeterType},null,8,Wi),[[s,["view-tool-annoArrow","ico-annoArrow"]]])],32)),[[c,i.annoArrowClick]]):Object(n["createCommentVNode"])("",!0),i.checkBtnExit("#ico-annoTagLine")?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:8,id:"ico-annoTagLine","track-name":"annoTagLine",onMouseenter:t[9]||(t[9]=(...e)=>i.mouseEnter&&i.mouseEnter(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{selected:"tagLine"==e.nowMeterType},null,8,qi),[[s,["view-tool-line","ico-annoTagLine"]]])],32)),[[c,i.annoTagLineClick]]):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{id:"ico-arrowRight-show",class:"bottom_arrow",onClick:t[10]||(t[10]=(...e)=>i.hideLeftBottom&&i.hideLeftBottom(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Ki,null,512),[[n["vShow"],e.isBottomRight]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Zi,null,512),[[n["vShow"],!e.isBottomRight]])],512),[[n["vShow"],e.overButtom]])],512),[[n["vShow"],!i.tagStore.tagDrawing]])])}var Ji={components:{},setup(){const e=Object(n["reactive"])({nowMeterType:"",showAreaMeter:!1,showBoundMeter:!1,showVolMeter:!1,showAudio:!1,loadAndInitFlag:!1,overButtom:!1,isBottomRight:!1,resizeTimer:null}),t=Object(c["useStore"])(),{menuStore:o,tagStore:i}=t.state,{proxy:a,appContext:r}=Object(n["getCurrentInstance"])();function s(o){try{if(de.annotation2DPCUtil&&de.annotation2DPCUtil.releaseOpAnnotation(),de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),nd_viewCtrl.newAnnoList&&!o){const e=nd_viewCtrl.newAnnoList;t.commit("modelStore/setAnnotations",e),t.commit("modelStore/setNowAnnotation");const o=t.state.modelStore.nowAnnotation;setTimeout(()=>{de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpData(o)},100)}if(o){t.commit("modelStore/setNowAnnotation");const e=t.state.modelStore.nowAnnotation;setTimeout(()=>{de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpData(e)},100)}setTimeout(()=>{e.loadAndInitFlag=!0,de._viewer.setOperatorByID("OpPan")},200)}catch(n){}}Object(n["nextTick"])(()=>{r.config.globalProperties.$tagProxy=a}),a.$eventBus.on("closeMeasure",()=>{l()}),a.$eventBus.on("apiCreateTagSub",()=>{l()}),a.$eventBus.on("loadAndInitSub",()=>{s(e.loadAndInitFlag),e.nowMeterType=""}),Object(n["watch"])(()=>e.nowMeterType,e=>{"sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{nd_viewCtrl.showAudioTag&&(e.showAudio=!0),a.$eventBus.on("resize",()=>{E()})});const l=()=>{de.measureUtil&&de.measureUtil.setMeasureVisible(!0),t.commit("menuStore/setShowOneMenu",!0),t.commit("menuStore/setMenuChoose","none"),t.commit("menuStore/setMenuChoose2",""),t.commit("menuStore/setMenuChoose3",""),t.commit("menuStore/setShowManyConfig",!0),t.commit("modelStore/setScaleDialog",!1),de.selectObjUtil&&de.selectObjUtil.setOpSelectType(!0),de.setMeasureOpType(""),t.state.printMode||i.tagShow&&de.setAnnotationsVisibility(1),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan"),e.nowMeterType="",a.$eventBus.emit("hideSetting"),Pe.sendCenter(2)},d=()=>{t.commit("menuStore/setMenuChoose2","tagdrawing"),e.nowMeterType="",t.commit("tagStore/setTagdrawing",!0),t.commit("menuStore/setShowManyConfig",!1),de.setAnnotationsVisibility(0),t.commit("menuStore/setMenuChoose3","txtTag"),a.$eventBus.emit("addtagEvent"),f("pcMtxtTagTxtImg")},m=()=>{let o=o=>{o?(t.commit("menuStore/setMenuChoose2","tagdrawing"),t.commit("tagStore/setTagdrawing",!0),e.nowMeterType="",de.setAnnotationsVisibility(0),t.commit("menuStore/setMenuChoose3","audioTag"),a.$eventBus.emit("addAudioTagEvent")):a.$eventBus.emit("MsgTipEvent3","请前往设置开启麦克风权限")};te(["checkAudioRecord"])?o(!1):nd_viewCtrl.checkAudioRecord(o)},u=()=>{i.tagCurUuid&&a.$eventBus.emit("closeTagSeeSub"),e.nowMeterType="",t.commit("tagStore/setTagdrawing",!0),de._viewer.setOperatorByID("OpAnnotationNew"),de.annotationUtil&&de.annotationUtil.createNote(),t.commit("menuStore/setMenuChoose2","tagdrawing"),t.commit("menuStore/setMenuChoose3","lineTag")},g=()=>{t.state.modelStore._brepload?(t.commit("menuStore/setMenuChoose","meter"),t.commit("menuStore/setMenuChoose2",""),t.commit("modelStore/setScaleDialog",!1),e.nowMeterType="meterAngle",f("angelMeter"),Pe.sendCenter(2),Pe.sendCenter(3)):a.$eventBus.emit("MsgTipEvent3",a.$t("pcBrepNotEnd"))},p=e=>T(e),h=t=>{w(),t&&(e[t]=!0)},w=()=>{e.showAreaMeter=!1,e.showBoundMeter=!1,e.showVolMeter=!1},S=()=>{"newText"==e.nowMeterType?(e.nowMeterType="",t.commit("menuStore/setMenuChoose2",""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan")):(e.nowMeterType="newText",t.commit("menuStore/setMenuChoose2","newText"),t.commit("tagStore/setTagshow",!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType("newText"))},v=()=>{"newLine"==e.nowMeterType?(e.nowMeterType="",t.commit("menuStore/setMenuChoose2",""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan")):(e.nowMeterType="newLine",t.commit("tagStore/setTagshow",!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),t.commit("menuStore/setMenuChoose2","newLine"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType("newLine"))},b=()=>{"cloudLine"==e.nowMeterType?(e.nowMeterType="",t.commit("menuStore/setMenuChoose2",""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan")):(e.nowMeterType="cloudLine",t.commit("tagStore/setTagshow",!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),t.commit("menuStore/setMenuChoose2","cloudLine"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType("cloudLine"))},C=()=>{"newRectangle"==e.nowMeterType?(e.nowMeterType="",t.commit("menuStore/setMenuChoose2",""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan")):(e.nowMeterType="newRectangle",t.commit("tagStore/setTagshow",!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),t.commit("menuStore/setMenuChoose2","newRectangle"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType("newRectangle"))},O=()=>{"newLine2Pt"==e.nowMeterType?(e.nowMeterType="",t.commit("menuStore/setMenuChoose2",""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan")):(e.nowMeterType="newLine2Pt",t.commit("tagStore/setTagshow",!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),t.commit("menuStore/setMenuChoose2","newLine2Pt"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType("newLine2Pt"))},x=()=>{"newArrow2Pt"==e.nowMeterType?(e.nowMeterType="",t.commit("menuStore/setMenuChoose2",""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan")):(e.nowMeterType="newArrow2Pt",t.commit("tagStore/setTagshow",!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),t.commit("menuStore/setMenuChoose2","newArrow2Pt"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType("newArrow2Pt"))},y=()=>{"newCircle"==e.nowMeterType?(e.nowMeterType="",t.commit("menuStore/setMenuChoose2",""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan")):(e.nowMeterType="newCircle",t.commit("tagStore/setTagshow",!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),t.commit("menuStore/setMenuChoose2","newCircle"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType("newCircle"))},j=()=>{"tagLine"==e.nowMeterType?(e.nowMeterType="",t.commit("menuStore/setMenuChoose2",""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan")):(e.nowMeterType="tagLine",t.commit("tagStore/setTagshow",!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),t.commit("menuStore/setMenuChoose2","tagLine"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType("tagLine"))},M="#ico-Tagging-list",E=()=>{e.resizeTimer&&clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(()=>{var o=a.$sortDom.checkIsOverwidth(M);o?(t.commit("menuStore/setMenuCurIndex",0),k("reset"),e.overButtom=!0):(A(),e.overButtom=!1)},200)},k=t=>{(e.isBottomRight||"reset"==t)&&a.$sortDom.hideRightBottom(M,()=>{e.isBottomRight=!1})},D=t=>{e.isBottomRight&&"reset"!=t||a.$sortDom.hideLeftBottom(M,()=>{e.isBottomRight=!0})},A=()=>{a.$sortDom.showAllBottom(M,()=>{e.overButtom=!1})},B=Object(n["toRefs"])(e);return{...B,store:t,tagStore:i,menuStore:o,returnOneMenu:l,tagGraphicClick:d,checkBtnExit:p,tagLineClick:u,meterAngle:g,mouseEnter:h,tagAudioClick:m,annoTextClick:S,freehandLineClick:v,cloudLineClick:b,circleAnnoClick:y,rectangleAnnoClick:C,lineAnnoClick:O,annoArrowClick:x,annoTagLineClick:j,hideRightBottom:k,hideLeftBottom:D}}};o("a078");const Xi=it()(Ji,[["render",Yi],["__scopeId","data-v-476a4a52"]]);var Qi=Xi,ea={name:"",components:{meterBtn:Io,plusBtn:qo,distanceBtn:On,card:An,scaleBtn:$n,tagWrite:ii,newSetting:Bi,tagBtn:Qi},setup(e,t){const o=Object(n["reactive"])({isOpenTag:!0,isLoading:!0,isInExitAngle:!1,rotationAngle:0,teleportTo:"body",showTagButton:!0,isPackOne:!1,overButtom:!1,isBottomRight:!1,isBottomLeft:!0,resizeTimer:null}),i=Object(c["useStore"])(),{menuStore:a,modelStore:r}=i.state,{proxy:s,appContext:l}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{l.config.globalProperties.$bottomBtn=s,l.config.globalProperties.$sortDom=he,m()}),Object(n["watch"])(()=>a.menuChoose,(e,t)=>{("sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate)&&("tag"!=e&&Pe.sendCenter(3),"excelGet"==t&&(de.exitExcel(),i.commit("menuStore/setExcelGetShow",!1)),"textGet"==t&&(de.textGetExtensionUtil.deInitText(),i.commit("menuStore/setTextGetMenu",!1),i.commit("menuStore/setTextGetResultMenu",!1),s.$eventBus.emit("exitExtractTextDrawSub"),"excelGet"!=e&&"zoomwindow"!=e&&de._viewer.setOperatorByID("OpPan")),"textGet"!=e&&"blockSearch"!=e&&"textFind"!=e&&i.commit("menuStore/setShowManyConfig",!0))}),Object(n["watch"])(()=>a.showOneMenu,e=>{("sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate)&&(e?de._viewer.onChangeCursor("OpPan"):de._viewer.onChangeCursor(""))}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{s.$eventBus.on("loadComplete",()=>{de.textGetExtensionUtil&&de.textGetExtensionUtil.showExtractText()||(document.querySelector("#ico-textGet").style.display="none"),h(),window.ndViewer=de._viewer,_(),o.isLoading=!1,o.isPackOne=!1,m(),window.addEventListener("resize",m)}),"sync"==nd_viewCtrl.viewMode&&(o.showTagButton=!1),setTimeout(()=>{o.teleportTo="#vueMain"})}),s.$eventBus.on("chooseFullScreenClick",()=>{P()});const d="#bottomMainMenu",m=()=>{s.$eventBus.emit("resize"),clearTimeout(o.resizeTimer),o.resizeTimer=setTimeout(()=>{var e=he.checkIsOverwidth(d);e?(i.commit("menuStore/setMenuCurIndex",0),u("reset"),o.overButtom=!0):(p(),o.overButtom=!1)},200)},u=e=>{o.isBottomLeft&&"reset"!=e||(o.isBottomRight=!1,he.hideRightBottom(d,()=>{o.isBottomLeft=!0}))},g=e=>{o.isBottomRight&&"reset"!=e||(o.isBottomLeft=!1,he.hideLeftBottom(d,()=>{o.isBottomRight=!0}))},p=()=>{he.showAllBottom(d,()=>{o.overButtom=!1})},h=()=>{let e=de.getBlocks();e&&e.length>0?i.commit("menuStore/setHasBlockSearchBtn",!0):i.commit("menuStore/setHasBlockSearchBtn",!1)},w=e=>!("#ico-textGet"==e&&de.textGetExtensionUtil&&!de.textGetExtensionUtil.showExtractText())&&(("#ico-measure"!=e||!r.hideItem.measure)&&(("#ico-structure"!=e||!r.hideItem.structTree)&&T(e))),S=(e,t)=>{if(!i.state.modelStore._geometryload)return void s.$eventBus.emit("MsgTipEvent3",s.$t("pcBrepNotEnd"));W(),de.measureUtil&&de.measureUtil.setMeasureVisible(!1),i.commit("tagStore/setTagdrawing",!1),i.commit("menuStore/setShowManyConfig",!1),i.commit("menuStore/setShowOneMenu",!1),i.commit("menuStore/setMenuChoose","tag"),de.clearSelection(),de._viewer.setOperatorByID("OpPan"),de.selectObjUtil&&de.selectObjUtil.clearSelectObj(),de.selectObjUtil&&de.selectObjUtil.setOpSelectType(!1);const o=document.getElementById("tagTooltips");o&&(o.style.display="none"),Pe.sendCenter(1),B(),"writeTag"==t?s.$eventBus.emit("addtagEvent",t):"AudioTag"==t&&s.$eventBus.emit("addAudioTagEvent"),f("pcMtxtTagTxtImg")},v=()=>{W(),f("zoom"),"zoomwindow"!=i.state.menuStore.menuChoose?(i.commit("menuStore/setMenuChoose","zoomwindow"),de._viewer.setOperatorByID("OpZoomWindow")):(i.commit("menuStore/setMenuChoose",""),de._viewer.setOperatorByID("OpPan")),B(),Pe.sendCenter(2),Pe.sendCenter(3)},b=()=>{de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!1),i.commit("tagStore/setTagshow",!1),de.setAnnotationsVisibility(!1),W(),i.commit("menuStore/setShowManyConfig",!1),i.commit("menuStore/setShowOneMenu",!1),i.commit("menuStore/setMenuChoose","meter"),de.clearSelection(),de.measureUtil&&de.measureUtil.setOperatorByID("OpMeasure"),de.measureUtil&&de.measureUtil.setMeasureOpType(""),de.selectObjUtil&&de.selectObjUtil.clearSelectObj(),de.selectObjUtil&&de.selectObjUtil.setOpSelectType(!1),B(),Pe.sendCenter(2)},C=()=>{if(W(),f("structureTree"),i.state.menuStore.structMenu)return i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setStructMenu",!1),Pe.sendCenter(2),Pe.sendCenter(3),void Pe.sendCenter(5);B(),i.state.menuStore.structMenu||(i.commit("menuStore/setMenuChoose","struct"),i.commit("menuStore/setMenuChoose2",""),i.commit("menuStore/setMenuChoose3",""),i.commit("menuStore/setStructMenu",!0)),i.commit("menuStore/setUnitMenu",!1),de._viewer.setOperatorByID("OpPan"),s.$eventBus.emit("closeCfg"),Pe.sendCenter(2),Pe.sendCenter(3),Pe.sendCenter(5)},O=()=>{W(),f("unit"),B(),de._viewer.setOperatorByID("OpPan"),"unitChange"!=a.menuChoose?(i.commit("menuStore/setMenuChoose","unitChange"),i.commit("menuStore/setUnitMenu",!0)):(i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setUnitMenu",!1)),Pe.sendCenter(2),Pe.sendCenter(3)},x=()=>{W(),o.rotationAngle=r.rotationAngle,f("settings"),de._viewer.setOperatorByID("OpPan"),"settings"!=a.menuChoose?(i.commit("menuStore/setMenuChoose","settings"),s.$eventBus.emit("setShowNewSetting")):i.commit("menuStore/setMenuChoose",""),B(),Pe.sendCenter(2),Pe.sendCenter(3),setTimeout(()=>{Pe.sendCenter(4)})},y=()=>{W(),B(),de._viewer.setOperatorByID("OpPan"),de.clearSelection(),"textGet"!=a.menuChoose?(i.commit("menuStore/setMenuChoose","textGet"),i.commit("menuStore/setTextGetMenu",!0),i.commit("menuStore/setTextGetResultMenu",!1),i.commit("menuStore/setShowManyConfig",!1),de.setAnnotationsVisibility(0),de.textGetExtensionUtil.initText()):(de._viewer.setOperatorByID("OpExtractText"),i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setTextGetMenu",!1),i.commit("menuStore/setTextGetResultMenu",!1),de.textGetExtensionUtil.deInitText(),s.$eventBus.emit("exitExtractTextDrawSub"))},j=()=>{W(),B(),de._viewer.setOperatorByID("OpPan"),de.clearSelection(),"textFind"!=a.menuChoose?(i.commit("menuStore/setMenuChoose","textFind"),i.commit("menuStore/setTextFindMenu",!0),i.commit("menuStore/setShowManyConfig",!1),de.setAnnotationsVisibility(0),de.textUtil&&de.textUtil.init2dTextFind()):(i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setTextFindMenu",!1))},M=()=>{W(),B(),de._viewer.setOperatorByID("OpPan"),de.clearSelection(),"blockSearch"!=a.menuChoose?(i.commit("menuStore/setMenuChoose","blockSearch"),i.commit("menuStore/setBlockSearchMenu",!0),i.commit("menuStore/setShowManyConfig",!1),de.setAnnotationsVisibility(0),s.$eventBus.emit("getChooseBlock")):(i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setBlockSearchMenu",!1))},k=()=>{i.commit("menuStore/setShowManyConfig",!1),i.commit("menuStore/setShowOneMenu",!1),i.commit("menuStore/setMenuChoose","paperCompare"),de._viewer.setOperatorByID("OpPan"),de._viewer.setLineWidth(!1),i.commit("menuStore/setStructMenu",!1),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!1),i.commit("compareModelStore/setHasOtherModel",!1),i.commit("compareModelStore/setCompareModelUrl",""),de.compareUtil&&de.compareUtil.initModelCompare();let e=de.compareUtil&&de.compareUtil.getModelNames();i.commit("compareModelStore/setCompareModelTitle",e||[]),i.commit("menuStore/setTextFindMenu",!1),de.setAnnotationsVisibility(0),de.selectObjUtil&&de.selectObjUtil.clearSelectObj(),de.selectObjUtil&&de.selectObjUtil.setOpSelectType(!1),de.measureUtil&&de.measureUtil.setMeasureVisible(!1)},D=()=>{"excelGet"!=a.menuChoose?(i.commit("menuStore/setStructMenu",!1),i.commit("menuStore/setTextFindMenu",!1),i.commit("menuStore/setUnitMenu",!1),de.operatorExcel(),i.commit("menuStore/setMenuChoose","excelGet"),de.clearSelection()):(i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setTextFindMenu",!1),de.exitExcel(),i.commit("menuStore/setExcelGetShow",!1),de._viewer.setOperatorByID("OpPan"))},A=e=>{e&&(o[e]=!0)},B=()=>{i.commit("menuStore/setShowManyConfig",!0),i.commit("menuStore/setStructMenu",!1),i.commit("menuStore/setUnitMenu",!1),i.commit("modelStore/setScaleDialog",!1),i.commit("menuStore/setTextFindMenu",!1)},N=(e,t)=>{var o=E(e);de._viewer.setBackGroundColor(o),i.commit("modelStore/setShareBg",e),f("bgColor"),Pe.sendCenter(4)},I=()=>{W(),de.onResetCamera(),i.commit("menuStore/setMenuChoose",""),de._viewer.setOperatorByID("OpPan"),B(),f("reset"),Pe.sendCenter(2),Pe.sendCenter(3),de.storeViewUtil&&de.storeViewUtil.fixCameraViewInfo(null),i.state.modelStore.nowMVData.forEach(e=>{e.isLock&&e.modelviewData&&e.modelviewData.length>0&&(de.storeViewUtil&&de.storeViewUtil.setCameraViewInfo(e.modelviewData),de.storeViewUtil&&de.storeViewUtil.fixCameraViewInfo(e.modelviewData))});let e=i.state.modelStore.defaultRAngle[i.state.modelStore.nowConfig]||0;i.commit("modelStore/setRotationAngle",e)},L=()=>{W();let e=r.suportLineWeight;i.commit("modelStore/setSuportLineWeight",!e),de._viewer.setLineWidth(!e)},V=()=>{f("settings");const e=i.state.menuStore;"settings"==e.menuChoose&&i.commit("menuStore/setMenuChoose","")},U=()=>{if(W(),f("hideshowNote"),i.state.modelStore.nowTag.length>0||i.state.modelStore.nowAnnotation.length>0){o.isOpenTag=i.state.tagStore.tagShow;var e=!o.isOpenTag;i.state.modelStore.nowTag.length>0&&de.setAnnotationsVisibility(e),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(e),i.commit("tagStore/setTagshow",e),o.isOpenTag=e,o.isShowHideSetting=!1,i.commit("menuStore/setMenuChoose","TagVisible"+e)}else i.commit("menuStore/setMenuChoose","");de._viewer.setOperatorByID("OpPan"),B(),Pe.sendCenter(2),Pe.sendCenter(3),Pe.sendCenter(6)};function _(){$(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",(function(e){var t=document.webkitFullscreenElement||document.mozFullScreen||document.msFullscreenEnabled||document.fullscreen;t||i.commit("setFull",!1)}));var e=null;window.addEventListener("resize",()=>{e&&clearTimeout(e),e=setTimeout((function(){window.innerHeight<=ai.unfullHeight&&i.commit("setFull",!1)}),500)})}const P=()=>{W(),i.state.isFull?f("fullout"):(f("full"),ai.unfullHeight=window.innerHeight),ai.callFull(document.body)},F=()=>{$(".pc-alert").hide(),$(".ActiveCoordinate").hide()},R=()=>{const e=document.querySelectorAll(".pc-alert")||[];$(".ActiveCoordinate,.pc-alert").show(),e&&e.forEach(e=>{e&&e.innerText&&e.innerText.trim().length>0?e.style.display="block":e&&(e.style.display="none")})},z=()=>{if(!i.state.modelIsLoaded)return;if(s.$tag.tcStep0||s.$tag.tcStep1||s.$tag.tcChecktag)return;let e=e=>{e?(de.clearSelection(),B(),i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setMenuChoose2",""),i.commit("menuStore/setMenuChoose3",""),Pe.startTagChange(),i.commit("setRtmNeedCover",!1),S(null,"AudioTag")):s.$eventBus.emit("MsgTipEvent3","请前往设置开启麦克风权限")};te(["checkAudioRecord"])?e(!1):nd_viewCtrl.checkAudioRecord(e)},H=()=>{i.state.modelIsLoaded&&(s.$tag.tcStep0||s.$tag.tcStep1||s.$tag.tcChecktag||(de.clearSelection(),B(),i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setMenuChoose2",""),i.commit("menuStore/setMenuChoose3",""),Pe.startTagChange(),S(null,"writeTag"),i.commit("setRtmNeedCover",!1)))},G=(e,t)=>{},W=()=>{t.emit("chengShowMeasureStyle")},q=()=>{de._viewer.setOperatorByID("OpPan"),W(),"addModelview"!=i.state.menuStore.menuChoose?(B(),s.$eventBus.emit("closeCfg"),i.commit("menuStore/setMenuChoose","addModelview")):i.commit("menuStore/setMenuChoose","")},K=Object(n["toRefs"])(o);return{...K,store:i,menuStore:a,modelStore:r,checkBtnExit:w,chooseToTag:S,chooseToMeter:b,chooseToStructureTree:C,chooseZoomwindow:v,chooseUnitChange:O,chooseToBgColor:x,chooseToTextFind:j,chooseToExcelGet:D,chooseToBlockSearch:M,chooseToPaperCompare:k,reset:I,setLineWeight:L,mourseMenu:A,hideTags:U,closeBgColor:V,rightEvent:G,setBgColor:N,chooseFullScreen:P,mourseBigMenu:F,mourseBigMenuLeave:R,writeTag:H,chooseToAddModelview:q,informHideStyle:W,tagBtn:Qi,tagAudioClick:z,chooseToTextGet:y,hideRightBottom:u,hideLeftBottom:g}}};o("1ead");const ta=it()(ea,[["render",lo],["__scopeId","data-v-463cda41"]]);var oa=ta,na=o("eec7"),ia=o.n(na);const aa=["title"],ra={class:"cfg-content"},ca=["onClick"],sa={class:"cfg-list-pic"},la=["src"],da={class:"cfg-bottom"},ma=["title"];function ua(e,t,o,i,a,r){return i.showCfgComp?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,onClick:t[2]||(t[2]=(...e)=>i.exitMeasure&&i.exitMeasure(...e)),class:"ndp2-my-page config-switch",onContextmenu:t[3]||(t[3]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"]))},[Object(n["createElementVNode"])("div",{class:"cfg-top",onClick:t[0]||(t[0]=(...e)=>i.showCfgList&&i.showCfgList(...e))},[Object(n["createElementVNode"])("p",{title:e.configList[e.cfgIdx]&&e.configList[e.cfgIdx].Name},Object(n["toDisplayString"])(e.$t("pcNowConfig"))+"："+Object(n["toDisplayString"])(e.configList[e.cfgIdx]&&e.configList[e.cfgIdx].Name),9,aa),Object(n["createElementVNode"])("img",{class:Object(n["normalizeClass"])(["menu-ctrl-icon",{open:e.showCfgContent}]),src:ia.a,alt:""},null,2)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",ra,[Object(n["createElementVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.configList,(o,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"cfg-list",key:a,onClick:e=>i.chooseCfg(a)},[Object(n["createElementVNode"])("div",sa,[Object(n["createElementVNode"])("img",{class:"cfg-img-cap",src:o.captureImg,onError:t[1]||(t[1]=(...e)=>i.imgLoadError&&i.imgLoadError(...e)),alt:""},null,40,la)]),Object(n["createElementVNode"])("div",da,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(e.cfgIdx==a?"icon-radio-checked":"icon-radio-nocheck")},null,2),Object(n["createElementVNode"])("span",{title:o.Name,class:Object(n["normalizeClass"])({light:e.cfgIdx==a})},Object(n["toDisplayString"])(o.Name),11,ma)])],8,ca))),128))])],512),[[n["vShow"],e.showCfgContent]])],32)):Object(n["createCommentVNode"])("",!0)}var ga={name:"",setup(e,t){const i=Object(n["reactive"])({showCfgContent:!1,configList:[],cfgIdx:0,isStartToChange:!1,timer:null,needUpdateRtm:!1,rtmSwitchTimer:null,rtmSwitchTimer2:null}),a=Object(c["useStore"])(),{proxy:r,appContext:s}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{s.config.globalProperties.$configSwitch=r}),Object(n["watch"])(()=>a.state.modelStore.configs,e=>{i.configList=e}),Object(n["watch"])(()=>a.state.modelStore.nowConfig,e=>{i.cfgIdx!=e&&(i.cfgIdx=e)});const l=Object(n["computed"])(()=>!!(a.state.modelStore.configs.length>1&&w("#ico-multipleSetting")&&a.state.menuStore.showAllMenu&&"paperCompare"!=a.state.menuStore.menuChoose));Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{r.$eventBus.on("loadAndInitSub",p),r.$eventBus.on("loadFail",h),r.$eventBus.on("closeCfg",()=>{i.showCfgContent=!1})});const d=()=>{t.emit("chengShowMeasureStyle")},m=(e,t)=>{de.measureUtil&&de.measureUtil.delMeasureResultAll(),de.measureUtil&&de.measureUtil.setMeasureOpType(""),de.selectObjUtil&&de.selectObjUtil.clearSelectObj();const o=()=>{-1!==i.cfgIdx&&(a.commit("menuStore/setStructMenu",!1),a.commit("menuStore/setShowOneMenu",!0),a.commit("menuStore/setMenuChoose",""),a.commit("menuStore/setMenuChoose2",""),a.commit("menuStore/setMenuChoose3",""),a.commit("tagStore/setTagshow",!0),r.$eventBus.emit("hideSetting"),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),setTimeout(()=>{r.$eventBus.emit("cfgSwitchSub"),r.$eventBus.emit("closeTagSeeSub"),Pe.sendCenter(6),a.commit("modelStore/changeMultipleCfg",i.cfgIdx),i.isStartToChange=!0}))};clearTimeout(i.timer),i.timer=setTimeout(()=>{i.cfgIdx!=e&&(t&&(i.needUpdateRtm=!0),clearTimeout(i.rtmSwitchTimer),clearTimeout(i.rtmSwitchTimer2),i.cfgIdx=e,o())},200)},u=e=>{let t=event.srcElement;"zh"==a.state.language?t.src=o("382f"):t.src=o("bc2f"),t.classList.add("nomsg")},g=()=>{i.showCfgContent=!i.showCfgContent,i.showCfgContent&&(a.commit("menuStore/setStructMenu",!1),"struct"==a.state.menuStore.menuChoose&&a.commit("menuStore/setMenuChoose",""),"addModelview"==a.state.menuStore.menuChoose&&a.commit("menuStore/setMenuChoose","")),Pe.sendCenter(2),Pe.sendCenter(3)},p=()=>{const e=t=>{i.rtmSwitchTimer=setTimeout(()=>{de._viewer.getScreenCapture2((function(o){if(o){let e=a.state.modelStore.configs[t];nd_viewCtrl.configImgUpload&&nd_viewCtrl.configImgUpload(e,o),a.state.modelStore.configs[t].imgURL=o,a.state.modelStore.configs[t].captureImg=o}else i.rtmSwitchTimer2=setTimeout(()=>{e(t)},1e3)}))},1e3)};i.cfgIdx=a.state.modelStore.nowConfig,a.state.modelStore.configs[i.cfgIdx]&&!a.state.modelStore.configs[i.cfgIdx].imgURL&&e(i.cfgIdx),i.isStartToChange=!1,i.needUpdateRtm&&(Pe.receiveAllMsg(null,[8]),i.needUpdateRtm=!1),a.state.modelIsLoaded||Pe.sendCenter(6),Pe.sendCenter(3),Pe.sendCenter(5),Pe.sendCenter(8)},h=()=>{i.isStartToChange=!1},w=e=>T(e),S=Object(n["toRefs"])(i);return{...S,store:a,chooseCfg:m,showCfgList:g,checkBtnExit:w,imgLoadError:u,exitMeasure:d,showCfgComp:l}},methods:{}};o("9283");const pa=it()(ga,[["render",ua],["__scopeId","data-v-6af2cd1a"]]);var ha=pa;const wa=["title"];function Sa(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("tree-node"),s=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{onClick:i.exitMeasure,class:Object(n["normalizeClass"])(["ndp2-my-page structure-tree tree-card",{"struct-top":i.store.state.modelStore.configs.length<2||"explode"==i.menuStore.menuChoose}]),onClose:i.close,canDrag:!0,onSizeDrag:i.structSizeDrag,ref:"structCardRef"},{header:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("structureTree")),1)]),default:Object(n["withCtx"])(()=>[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"struc-content",onScrollPassive:t[4]||(t[4]=(...e)=>i.getTreeScroll&&i.getTreeScroll(...e)),ref:"scrollRef"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["tree-node-item",{select:e.modelTreeData.isHighlight}])},[Object(n["createElementVNode"])("div",{class:"treenode-node-item",onContextmenu:t[3]||(t[3]=Object(n["withModifiers"])(t=>i.rightEvent(t,e.modelTreeData),["right","stop","prevent"]))},[e.modelTreeData.children&&e.modelTreeData.children.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("i",{key:0,class:Object(n["normalizeClass"])({"tree-node-open":e.modelTreeData.isOpenChild,"tree-node-close":!e.modelTreeData.isOpenChild}),onClick:t[0]||(t[0]=(...e)=>i.toggleOpen&&i.toggleOpen(...e))},null,2)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(["tree-node-checkbox",{"ico-tree-checkedbox":e.modelTreeData.isChecked}]),onClick:t[1]||(t[1]=t=>i.toggleVisible(e.modelTreeData))},null,2),Object(n["createElementVNode"])("span",{class:"tree-node-txt",onClick:t[2]||(t[2]=t=>i.selectNode(e.modelTreeData)),title:e.modelTreeData.name},Object(n["toDisplayString"])(e.modelTreeData.name),9,wa)],32),e.modelTreeData.isOpenChild&&e.modelTreeData.children&&e.modelTreeData.children.length?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:Math.random(),treeData:e.modelTreeData,defaulOpen:!0,level:"2"},null,8,["treeData"])):Object(n["createCommentVNode"])("",!0)],2)],512),[[n["vShow"],e.hasData]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.$t("noTreeData2")),513),[[n["vShow"],!e.hasData]])],544),[[n["vShow"],!e.searchMode]])]),_:1},8,["onClick","onClose","onSizeDrag","class"])}const va=["lev","uuid"],ba=["onContextmenu"],fa=["onClick"],Ca={class:"tree-module"},Oa=["onClick"],xa=["onClick","title"];function ya(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("tree-node",!0);return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.treeData.children,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["tree-node-item",{select:e.isHighlight}]),key:t,lev:o.level,uuid:e.uuid},[Object(n["createElementVNode"])("div",{class:"treenode-node-item",onContextmenu:Object(n["withModifiers"])(t=>i.rightEvent(t,e),["right","stop","prevent"])},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.getLevel(e),(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("b",{key:t}))),128)),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])({"tree-node-open":e.isOpenChild,"tree-node-close":!e.isOpenChild}),onClick:t=>i.toggleOpen(e)},null,10,fa),[[n["vShow"],e.children.length>0]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("i",Ca,null,512),[[n["vShow"],!e||!e.children.length]]),Object(n["createElementVNode"])("i",{onClick:t=>i.toggleVisible(e),class:Object(n["normalizeClass"])(["tree-node-checkbox",{"ico-tree-checkedbox":e.isChecked}])},null,10,Oa),Object(n["createElementVNode"])("span",{onClick:t=>i.selectNode(e),class:"tree-node-txt",title:e.name},Object(n["toDisplayString"])(e.name),9,xa)],40,ba),e.children.length&&e.isOpenChild?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:Math.random(),treeData:e,level:o.level+1},null,8,["treeData","level"])):Object(n["createCommentVNode"])("",!0)],10,va))),128))],512)),[[n["vShow"],e.reload]])}var Ta={name:"",props:["treeData","defaulOpen","level"],setup(e,t){const o=Object(n["reactive"])({reload:!0,childDom:[]}),{proxy:i}=Object(n["getCurrentInstance"])(),a=Object(c["useStore"])();Object(n["onMounted"])(()=>{a.state.clickIng||(e.defaulOpen?a.state.modelStore._geometryload&&e.treeData.children&&e.treeData.children.map(t=>{t.parent||(t.parent=e.treeData),!Pe.judgeCanWatch()&&Pe.getTreeData||(t.isRendered=!0,t.isChecked=!de.isObjectOrSomeChildHidden(t))}):e.treeData.children&&e.treeData.children.map(t=>{t.parent||(t.parent=e.treeData),e.treeData.isChecked?t.isChecked=!0:t.isChecked=!de.isObjectOrSomeChildHidden(t),e.treeData.isHighlight&&(t.isHighlight=!0)}))});const r=e=>{var t=0;while(null!==e.parent)t++,e=e.parent;return t},s=e=>{e.isRendered=!0,e.isOpenChild=!e.isOpenChild,Pe.sendCenter(5)},l=e=>{a.commit("setClickIng",!0),e.isChecked=!e.isChecked,e.isChecked?V(e):(L(e),_(e),F(e,!1)),U(e,e.isChecked),de.showObject(e,e.isChecked),de.render(),Pe.sendCenter(5)},d=e=>{let t=a.state.modelStore._highLightNode.indexOf(e.uuid);if(t>-1)return t>-1},m=e=>{e.isChecked&&(de.selectObjUtil&&de.selectObjUtil.clearSelectObj(),"explode"==a.state.menuStore.menuChoose&&i.$eventBus.emit("structSelectSub"),e.isHighlight=!e.isHighlight,window.structflag=!0,e.isHighlight?(P(e),de.selectObject(e)):(_(e),de.deselectObject(e)),F(e,e.isHighlight),de.render(),i.$eventBus.emit("selectChange"),Pe.sendCenter(5))},u=(e,t)=>{t.isChecked&&(t.isHighlight||m(t))},g=Object(n["toRefs"])(o);return{...g,getLevel:r,toggleOpen:s,toggleVisible:l,checkIsHighLight:d,selectNode:m,rightEvent:u}}};o("f731");const ja=it()(Ta,[["render",ya],["__scopeId","data-v-25cf0d56"]]);var Ma=ja,Ea={name:"",components:{card:An,treeNode:Ma},setup(e,t){const o=Object(n["reactive"])({modelTreeData:{},searchMode:!1,keyWord:"",hasData:!0,searchData:[],scrollTimer:null,scrollTop:0,structWidth:null,structHeight:null}),i=Object(c["useStore"])(),{menuStore:a}=i.state,{proxy:r,appContext:s}=Object(n["getCurrentInstance"])(),l=Object(n["ref"])(null),d=Object(n["ref"])(null);Object(n["nextTick"])(()=>{s.config.globalProperties.$structureTree=r}),Object(n["onMounted"])(()=>{r.$eventBus.on("loadBack",()=>{"paperCompare"!=i.state.menuStore.menuChoose&&b()}),r.$eventBus.on("VolumnChange",()=>{if(Pe.judgeCanWatch()&&i.state.menuStore.structMenu){if(window.structflag)return void(window.structflag=!1);g()}}),r.$eventBus.on("structAllShow",()=>{o.modelTreeData.isChecked||v(o.modelTreeData)}),r.$eventBus.on("nodeShowChange",()=>{Pe.judgeCanWatch()&&b()}),r.$eventBus.on("clearSelectionSub",()=>{Pe.judgeCanWatch()&&(i.state.menuStore.structMenu&&b(),Pe.sendCenter(5))}),r.$eventBus.on("apiCreateTagSub",()=>{i.commit("menuStore/setStructMenu",!1)}),r.$eventBus.on("isSelectObjectsBack",()=>{C(),setTimeout(()=>{de.selectObjUtil&&de.selectObjUtil.setSelectObj()},0)})}),Object(n["watch"])(()=>i.state.menuStore.structMenu,e=>{("sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate)&&e&&(g(),o.structWidth=d.value.cardRef.clientWidth,o.structHeight=d.value.cardRef.clientHeight,Pe.sendCenter(7))}),Object(n["watch"])(()=>i.state.menuStore.menuChoose,e=>{"paperCompare"==e&&C()});const m=()=>{t.emit("chengShowMeasureStyle")},u=e=>{e&&"{}"!=JSON.stringify(e)&&(H(e,o.modelTreeData),r.$forceUpdate())},g=()=>{o.modelTreeData.isChecked=!de.isObjectOrSomeChildHidden(o.modelTreeData);let e=de.getSelectedObjects();o.modelTreeData.isHighlight=!1,F(o.modelTreeData,!1),e&&e.length>0&&e.map(e=>{f(e)})},p=()=>{o.keyWord="",w(),C()},h=()=>{o.modelTreeData.isOpenChild=!o.modelTreeData.isOpenChild,Pe.sendCenter(5)},w=()=>{C(),_(o.modelTreeData),F(o.modelTreeData,!1),""==o.keyWord?o.searchMode=!1:(o.searchData=y(o.keyWord,"name",o.modelTreeData),o.searchData.map(e=>{e.isChecked=!de.isObjectOrSomeChildHidden(e)}),o.searchMode=!0)},S=e=>{e.isChecked&&("explode"==i.state.menuStore.menuChoose&&r.$eventBus.emit("structSelectSub"),e.isHighlight=!e.isHighlight,window.structflag=!0,e.isHighlight?(P(e),de.selectObject(e)):(_(e),de.deselectObject(e)),F(e,e.isHighlight),de.render(),r.$eventBus.emit("selectChange"),Pe.sendCenter(5))},v=e=>{i.commit("setClickIng",!0),e.isChecked=!e.isChecked,e.isChecked?V(e):(L(e),_(e),F(e,!1)),U(e,e.isChecked),de.showObject(e,e.isChecked),de.render(),Pe.sendCenter(5)},b=()=>{nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo?o.modelTreeData=de.getModelTree(!0)||{}:o.modelTreeData=de.getModelTree()||{},O(o.modelTreeData),o.modelTreeData&&Object.keys(o.modelTreeData).length>0?o.modelTreeData.isOpenChild=!0:o.hasData=!1,o.modelTreeData.isChecked=!de.isObjectOrSomeChildHidden(o.modelTreeData),o.modelTreeData.isRendered=!0,o.modelTreeData.level=1},f=e=>{R(o.modelTreeData,e)},C=()=>{i.commit("modelStore/setHighLightNode",[]),de.clearSelection()},O=e=>{e.isRendered&&(e.isHighlight=!1),e.children&&e.children.map(e=>{e.children&&e.isRendered&&x(e)})},x=e=>(e&&(e.isChecked=!de.isObjectOrSomeChildHidden(e)),e.isHighlight=!1,e.children.map(t=>{t.parent=e,t.children&&x(t)}),e),T=(e,t)=>{t.isChecked&&(t.isHighlight||S(t))},j=e=>{clearTimeout(o.scrollTimer),o.scrollTimer=setTimeout(()=>{o.scrollTop=e.target.scrollTop,Pe.sendCenter(7)},100)},M=e=>{o.scrollTop=e,Object(n["nextTick"])(()=>{l.value.scrollTop=e})},E=e=>{d.value.cardRef.style.width=e.structWidth||null,d.value.cardRef.style.height=e.structHeight||null},k=e=>{o.structWidth=e.cardWidth,o.structHeight=e.cardHeight,Pe.sendCenter(7)},D=()=>{const e=i.state.menuStore;"struct"==e.menuChoose&&i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setStructMenu",!1),r.$eventBus.emit("structSelectSub")},A=Object(n["toRefs"])(o);return{...A,close:D,exitSearch:p,goToSearch:w,store:i,menuStore:a,toggleVisible:v,selectNode:S,rightEvent:T,toggleOpen:h,coverTreeData:u,getTreeScroll:j,setTreeScroll:M,setTreeSize:E,structSizeDrag:k,scrollRef:l,structCardRef:d,exitMeasure:m}}};o("fb14");const ka=it()(Ea,[["render",Sa],["__scopeId","data-v-c3bf4a7e"]]);var Da=ka,Aa=o("82fc"),Ba=o.n(Aa),Na=o("dd36"),Ia=o.n(Na),La=o("9718"),Va=o.n(La),Ua=o("0a1d"),_a=o.n(Ua),Pa=o("6dd3"),Fa=o.n(Pa),Ra=o("7b11"),za=o.n(Ra),$a=o("1635"),Ha=o.n($a),Ga=o("433e"),Wa=o.n(Ga),qa=o("f04e"),Ka=o.n(qa),Za=o("0410"),Ya=o.n(Za),Ja=o("0e31"),Xa=o.n(Ja);const Qa=e=>(Object(n["pushScopeId"])("data-v-79d51292"),e=e(),Object(n["popScopeId"])(),e),er={key:0,class:"ts-tcCnt dialog_header"},tr={class:"Annotation2"},or={class:"ndp2-textarea-box-SaveAnnotation"},nr={class:"textarea-img-wrap"},ir={class:"textarea-img-box"},ar=["src"],rr=["placeholder"],cr={id:"textarea-num"},sr={class:"ndp2-tool-box ndp2-tool-box-SaveAnnotation"},lr={class:"tool-title"},dr={class:"tool-list"},mr={class:"pen-box"},ur={class:"pathline-img"},gr={class:"arrow-img"},pr={class:"straight-img"},hr={class:"circle-img"},wr={class:"rect-img"},Sr={class:"line-box"},vr={class:"ndp2-line-spread-box"},br={class:"line1-img"},fr={class:"line2-img"},Cr={class:"line3-img"},Or={class:"color-box"},xr={class:"ndp2-color-spread-box"},yr={class:"orange-img"},Tr={class:"blue-img"},jr={class:"green-img"},Mr={class:"grey-img"},Er={class:"add-img-box"},kr=Qa(()=>Object(n["createElementVNode"])("div",{class:"line"},null,-1)),Dr=["idx"],Ar={key:1,class:"save-btn no"},Br={key:1,class:"ts-tcCnt dialog_header"},Nr={class:"Annotation2"},Ir={class:"ndp2-textarea-box-SaveAnnotation"},Lr={class:"audio-wrap"},Vr={key:0,src:_a.a,alt:""},Ur={key:1,style:{width:"40px",margin:"0 auto"},src:Fa.a,alt:""},_r={key:2,style:{width:"40px",margin:"0 auto"},src:za.a,alt:""},Pr={key:0,class:"audio-textarea-box"},Fr={style:{color:"rgba(23, 128, 227, 1)"}},Rr={key:1,class:"audio-textarea-box"},zr=["idx"],$r={key:1,class:"save-btn no"},Hr={class:"anno-box-cont"},Gr={class:"img-box"},Wr=["src"],qr=["title","innerHTML"],Kr={class:"file-markSub",id:"calcAudioShow"},Zr={class:"anno-oper-content"},Yr={class:"file-markSub-main audio"},Jr={class:"main voice-box"},Xr={class:"voice-block",style:{cursor:"pointer"}},Qr={src:Ya.a,width:"12"},ec={src:Xa.a,width:"12"},tc={class:"voice-number"};function oc(e,t,i,a,r,c){const s=Object(n["resolveComponent"])("bigimg"),l=Object(n["resolveComponent"])("confirm"),d=Object(n["resolveDirective"])("drag");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{style:{"z-index":"5"},onContextmenu:t[43]||(t[43]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"]))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("section",{class:"sign-out",onClick:t[0]||(t[0]=(...e)=>c.cancelSave&&c.cancelSave(...e)),onMouseenter:t[1]||(t[1]=(...e)=>c.tagMouseEnter&&c.tagMouseEnter(...e))},Object(n["toDisplayString"])(e.$t("tagExit2")),545),[[n["vShow"],e.tcStep0]]),Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"tc-box_2 ts-tc comment-tc",id:"tcStep1",onMouseenter:t[35]||(t[35]=(...e)=>c.tagMouseEnter&&c.tagMouseEnter(...e))},[e.isNewAudioTag?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Br,[Object(n["createElementVNode"])("div",Nr,[Object(n["createElementVNode"])("section",Ir,[Object(n["createElementVNode"])("div",Lr,[e.ifLimitAudio?e.LimitAudioSrc?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",Ur)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",_r)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",Vr))]),e.audioTimerNum>=50&&!e.ifLimitAudio?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Pr,[Object(n["createElementVNode"])("em",Fr,Object(n["toDisplayString"])(60-e.audioTimerNum)+"秒",1),Object(n["createTextVNode"])("后将停止录音 ")])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Rr,Object(n["toDisplayString"])(e.ifLimitAudio?e.LimitAudioSrc?"停止录音":"未检测到声音":"正在聆听..."),1))]),Object(n["createElementVNode"])("section",{class:"btn-box",idx:e.selectIdx},[Object(n["createElementVNode"])("div",{class:"cancel-btn",onClick:t[33]||(t[33]=(...e)=>c.cancelSaveClick&&c.cancelSaveClick(...e))},Object(n["toDisplayString"])(e.$t("tagCancle")),1),e.saveEnable?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"save-btn",onClick:t[34]||(t[34]=(...e)=>c.sureSave&&c.sureSave(...e))},Object(n["toDisplayString"])(e.$t("tagSave")),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",$r,Object(n["toDisplayString"])(e.$t("tagSave")),1))],8,zr)])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",er,[Object(n["createElementVNode"])("div",tr,[Object(n["createElementVNode"])("section",or,[Object(n["createElementVNode"])("div",{class:"textarea-wrap",onMousedown:t[7]||(t[7]=(...e)=>c.inputMouse&&c.inputMouse(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",nr,[Object(n["createElementVNode"])("div",ir,[Object(n["createElementVNode"])("img",{class:"textarea-img",src:e.imgSrc_add||o("0d85"),alt:"",onClick:t[2]||(t[2]=(...e)=>c.upimgClick&&c.upimgClick(...e))},null,8,ar)]),Object(n["createElementVNode"])("div",{class:"delete-img-btn",onClick:t[3]||(t[3]=(...e)=>c.onDelimg&&c.onDelimg(...e))},Object(n["toDisplayString"])(e.$t("tagDelImg")),1)],512),[[n["vShow"],e.tcTagImg]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{id:"annoText",placeholder:e.$t("tagTips"),maxlength:"50",rows:"4","onUpdate:modelValue":t[4]||(t[4]=t=>e.annoText_add=t),onKeyup:t[5]||(t[5]=(...e)=>c.textChange&&c.textChange(...e)),onKeydown:t[6]||(t[6]=Object(n["withKeys"])((...e)=>c.textareaKeydown&&c.textareaKeydown(...e),["enter","native"]))},null,40,rr),[[n["vModelText"],e.annoText_add]]),Object(n["createElementVNode"])("div",cr,Object(n["toDisplayString"])(e.annoText_add.length)+"/50",1)],32)]),Object(n["createElementVNode"])("section",sr,[Object(n["createElementVNode"])("p",lr,Object(n["toDisplayString"])(e.$t("tagDraw")),1),Object(n["createElementVNode"])("div",dr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",mr,[Object(n["createElementVNode"])("img",{src:Ba.a,alt:"",onClick:t[8]||(t[8]=e=>c.setSpreadType("pen"))})],512),[[n["vShow"],"pen"!=e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"ndp2-pen-spread-box",onClick:t[15]||(t[15]=Object(n["withModifiers"])((...e)=>c.none&&c.none(...e),["stop"]))},[Object(n["createElementVNode"])("img",{src:Ba.a,alt:"",onClick:t[9]||(t[9]=e=>c.setSpreadType(""))}),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",ur,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["pathline",{active:"0"==e.selectIdx}]),onClick:t[10]||(t[10]=Object(n["withModifiers"])(e=>c.tagPenClick(0,"point"),["stop"]))},null,2)],512),[[n["vShow"],"sync"!=e.viewMode]]),Object(n["createElementVNode"])("div",gr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["arrow",{active:"1"==e.selectIdx}]),onClick:t[11]||(t[11]=Object(n["withModifiers"])(e=>c.tagPenClick(1,"arrow"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",pr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["straight",{active:"2"==e.selectIdx}]),onClick:t[12]||(t[12]=Object(n["withModifiers"])(e=>c.tagPenClick(2,"line"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",hr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["circle",{active:"3"==e.selectIdx}]),onClick:t[13]||(t[13]=Object(n["withModifiers"])(e=>c.tagPenClick(3,"circle"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",wr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["rect",{active:"4"==e.selectIdx}]),onClick:t[14]||(t[14]=Object(n["withModifiers"])(e=>c.tagPenClick(4,"rect"),["stop"]))},null,2)])],512),[[n["vShow"],"pen"==e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Sr,[Object(n["createElementVNode"])("img",{src:Ia.a,alt:"",onClick:t[16]||(t[16]=e=>c.setSpreadType("line"))})],512),[[n["vShow"],"line"!=e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",vr,[Object(n["createElementVNode"])("img",{src:Ia.a,alt:"",onClick:t[17]||(t[17]=e=>c.setSpreadType(""))}),Object(n["createElementVNode"])("div",br,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["line1",{active:2==e.strokeWidth}]),onClick:t[18]||(t[18]=Object(n["withModifiers"])(e=>c.tagLineClick(2),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",fr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["line2",{active:4==e.strokeWidth}]),onClick:t[19]||(t[19]=Object(n["withModifiers"])(e=>c.tagLineClick(4),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",Cr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["line3",{active:6==e.strokeWidth}]),onClick:t[20]||(t[20]=Object(n["withModifiers"])(e=>c.tagLineClick(6),["stop"]))},null,2)])],512),[[n["vShow"],"line"==e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Or,[Object(n["createElementVNode"])("img",{src:Va.a,alt:"",onClick:t[21]||(t[21]=e=>c.setSpreadType("color"))})],512),[[n["vShow"],"color"!=e.spreadType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",xr,[Object(n["createElementVNode"])("img",{src:Va.a,alt:"",onClick:t[22]||(t[22]=e=>c.setSpreadType(""))}),Object(n["createElementVNode"])("div",yr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["orange",{active:"rgb(255,99,2)"==e.strokeColor}]),onClick:t[23]||(t[23]=Object(n["withModifiers"])(e=>c.tagColorClick("rgb(255,99,2)"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",Tr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["blue",{active:"rgb(34,131,249)"==e.strokeColor}]),onClick:t[24]||(t[24]=Object(n["withModifiers"])(e=>c.tagColorClick("rgb(34,131,249)"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",jr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["green",{active:"rgb(29,231,96)"==e.strokeColor}]),onClick:t[25]||(t[25]=Object(n["withModifiers"])(e=>c.tagColorClick("rgb(29,231,96)"),["stop"]))},null,2)]),Object(n["createElementVNode"])("div",Mr,[Object(n["createElementVNode"])("a",{class:Object(n["normalizeClass"])(["grey",{active:"rgb(51,51,51)"==e.strokeColor}]),onClick:t[26]||(t[26]=Object(n["withModifiers"])(e=>c.tagColorClick("rgb(51,51,51)"),["stop"]))},null,2)])],512),[[n["vShow"],"color"==e.spreadType]]),Object(n["createElementVNode"])("div",Er,[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["add-img",{active:e.activeImg}]),onClick:t[28]||(t[28]=(...e)=>c.upimgClick&&c.upimgClick(...e))},[Object(n["createElementVNode"])("input",{style:{display:"none"},type:"file",onChange:t[27]||(t[27]=(...e)=>c.onChange&&c.onChange(...e)),ref:"picSelectInput",class:"choosepic",accept:"image/gif,image/jpeg,image/jpg,image/png,image/bmp"},null,544)],2)]),kr,Object(n["createElementVNode"])("div",{class:"revoke-box",onClick:t[29]||(t[29]=(...e)=>c.revokeClick&&c.revokeClick(...e))},[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["revoke",{no:!e.revokeEnable}])},null,2)]),Object(n["createElementVNode"])("div",{class:"empty-box",onClick:t[30]||(t[30]=(...e)=>c.clearClick&&c.clearClick(...e))},[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["empty",{no:!e.emptyEnable}])},null,2)])])]),Object(n["createElementVNode"])("section",{class:"btn-box",idx:e.selectIdx},[Object(n["createElementVNode"])("div",{class:"cancel-btn",onClick:t[31]||(t[31]=(...e)=>c.cancelSaveClick&&c.cancelSaveClick(...e))},Object(n["toDisplayString"])(e.$t("tagCancle")),1),e.saveEnable?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"save-btn",onClick:t[32]||(t[32]=(...e)=>c.sureSave&&c.sureSave(...e))},Object(n["toDisplayString"])(e.$t("tagSave")),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ar,Object(n["toDisplayString"])(e.$t("tagSave")),1))],8,Dr)])]))],32)),[[n["vShow"],e.tcStep1],[d]]),(Object(n["openBlock"])(),Object(n["createBlock"])(n["Teleport"],{to:e.teleportTo},[Object(n["createElementVNode"])("section",{class:Object(n["normalizeClass"])(["Annotation-content",{"only-text":e.annoText_check&&!e.imgSrc_check,"anno-no-preview":!c.c_hasContent,"no-conent":!e.isEditType}]),id:"calcPicTextShow"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["anno-oper-content",{"anno-no-content":!c.c_hasContent}])},[c.checkBtnExit("#tag-can-edit")&&"sync"!=e.viewMode?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"anno-oper-img anno-edit-ico",onClick:t[36]||(t[36]=(...e)=>c.editAnno&&c.editAnno(...e)),src:Ha.a,alt:""})):Object(n["createCommentVNode"])("",!0),c.checkBtnExit("#tag-can-del")?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,class:"anno-oper-img",onClick:t[37]||(t[37]=(...e)=>c.delAnno&&c.delAnno(...e)),src:Wa.a,alt:""})):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("img",{class:"anno-oper-img",onClick:t[38]||(t[38]=(...e)=>c.exitChecktag&&c.exitChecktag(...e)),src:Ka.a,alt:""})],2),[[n["vShow"],e.tcCheckTI&&"checkaudio"!=e.tcType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Hr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Gr,[Object(n["createElementVNode"])("img",{class:"Annotation-img",src:e.imgSrc_check,alt:"",onClick:t[39]||(t[39]=(...e)=>c.checkBigimg&&c.checkBigimg(...e))},null,8,Wr)],512),[[n["vShow"],e.imgSrc_check]]),Object(n["createElementVNode"])("p",{class:Object(n["normalizeClass"])(["Annotation-desc",{mt8:e.imgSrc_check&&e.annoText_check}]),title:e.annoText_check,innerHTML:e.annoText_check},null,10,qr)],512),[[n["vShow"],e.tcCheckTI&&"checkaudio"!=e.tcType&&(e.imgSrc_check||c.judgeTxtEmpty(e.annoText_check))]])],2),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Kr,[Object(n["createElementVNode"])("div",Zr,[c.checkBtnExit("#tag-can-del")?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"anno-oper-img",onClick:t[40]||(t[40]=(...e)=>c.delAnno&&c.delAnno(...e)),src:Wa.a,alt:""})):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("img",{class:"anno-oper-img",onClick:t[41]||(t[41]=(...e)=>c.exitChecktag&&c.exitChecktag(...e)),src:Ka.a,alt:""})]),Object(n["createElementVNode"])("div",Yr,[Object(n["createElementVNode"])("div",Jr,[Object(n["createElementVNode"])("div",{class:"voice",onClick:t[42]||(t[42]=(...e)=>c.audioClick&&c.audioClick(...e))},[Object(n["createElementVNode"])("label",Xr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Qr,null,512),[[n["vShow"],!e.audioPlaying]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",ec,null,512),[[n["vShow"],e.audioPlaying]]),Object(n["createElementVNode"])("span",tc,Object(n["toDisplayString"])(e.audioTime)+' "',1)])])])])],512),[[n["vShow"],e.tcCheckTI&&"checkaudio"==e.tcType]])],8,["to"])),Object(n["withDirectives"])(Object(n["createVNode"])(s,{ref:"bigImg","img-src":e.imgSrc_check,onClose:c.closeBigimg},null,8,["img-src","onClose"]),[[n["vShow"],e.tcCheckBig]]),Object(n["createVNode"])(l,{ref:"msgBox"},null,512)],32)}var nc=o("04b3"),ic=o.n(nc);const ac={class:"tag-my-dialog dialog",style:{}},rc=Object(n["createElementVNode"])("div",{class:"dialog-cover"},null,-1),cc={class:"ndp2-dialog-model",style:{width:"90%",height:"90%"}},sc={class:"dialog-content"},lc={class:"big-viewer-title"},dc={class:"big-title"},mc=["data-tip2"],uc=Object(n["createElementVNode"])("img",{src:ic.a,alt:""},null,-1),gc=[uc],pc={class:"bigimg-content"},hc={class:"drag-div",id:"drag-div",ref:"dragImgRef2"},wc=["src"];function Sc(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ac,[rc,Object(n["createElementVNode"])("div",cc,[Object(n["createElementVNode"])("div",sc,[Object(n["createElementVNode"])("div",lc,[Object(n["createElementVNode"])("div",dc,Object(n["toDisplayString"])(e.$t("tagSeeBigImg")),1),Object(n["createElementVNode"])("div",{"data-tip2":e.$t("tagSeeSmallImg"),onClick:t[0]||(t[0]=(...e)=>i.closeClick&&i.closeClick(...e)),style:{cursor:"pointer"}},gc,8,mc)])]),Object(n["createElementVNode"])("div",pc,[Object(n["createElementVNode"])("div",hc,[Object(n["createElementVNode"])("img",{id:"bigImg",class:"big_img",src:o.imgSrc,onWheel:t[1]||(t[1]=(...e)=>i.handleZoom&&i.handleZoom(...e)),style:Object(n["normalizeStyle"])({transform:"rotateY("+e.overturn+"deg) rotate("+e.rotate+"deg) scale("+e.scale+") translate("+e.translateX+"px, "+e.translateY+"px)"}),onMousedown:t[2]||(t[2]=(...e)=>i.startDrag&&i.startDrag(...e)),onMousemove:t[3]||(t[3]=(...e)=>i.handleDrag&&i.handleDrag(...e)),onMouseup:t[4]||(t[4]=(...e)=>i.endDrag&&i.endDrag(...e)),onMouseleave:t[5]||(t[5]=(...e)=>i.endDrag&&i.endDrag(...e)),alt:"Zoomable Image",ref:"imageRef2"},null,44,wc)],512)])])])}var vc={props:{imgSrc:{type:String,default:""}},setup(e){const{proxy:t}=Object(n["getCurrentInstance"])(),o=(Object(c["useStore"])(),Object(n["reactive"])({showBigModel:!1,rotate:0,overturn:0,scale:1,translateX:0,translateY:0,isDragging:!1,startX:0,startY:0,initialTranslateX:0,initialTranslateY:0})),i=Object(n["ref"])(null);Object(n["watch"])(()=>t.imgSrc,()=>{("sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate)&&a()}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const a=()=>{o.rotate=0,o.overturn=0,o.scale=1,o.rotate=0,o.overturn=0,o.scale=1,o.translateX=0,o.translateY=0,o.isDragging=!1,o.startX=0,o.startY=0,o.initialTranslateX=0,o.initialTranslateY=0,i.value&&i.value.removeAttribute("style"),r()};function r(){var e=new Image;e.src=t.imgSrc,e.onload=function(){i.value&&i.value.removeAttribute("style");var t=e.width,o=e.height,n=1,a=$("#bigImg").parent().width(),r=$("#bigImg").parent().height();o>r||t>a?(n=Math.min(r/o,a/t),$("#bigImg").css("width",n*t)):$("#bigImg").css("width","auto"),$("#bigImg").css("opacity",1)}}const s=()=>{ctx.emit("closeSee")},l=e=>{o.rotate=o.rotate+e},d=()=>{180==o.overturn?o.overturn=0:o.overturn=180},m=e=>{e.wheelDelta>0?o.scale=o.scale+.05:o.scale=o.scale-.05,o.scale<1&&(o.scale=1),o.scale>5&&(o.scale=5)},u=()=>{o.showBigModel=!0,o.scale=1};function g(){t.$emit("close")}function p(e){e.preventDefault();const t=e.deltaY>0?.9:1.1;o.scale*=t,o.scale=Math.max(.5,Math.min(o.scale,8));const n=i.value,a=document.getElementById("bigImg");if(!n||!a)return;const r=n.offsetWidth,c=n.offsetHeight,s=a.offsetWidth*o.scale,l=a.offsetHeight*o.scale;s<=r&&(o.translateX=0),l<=c&&(o.translateY=0)}function h(e){const t=i.value,n=document.getElementById("bigImg");if(!t||!n)return;const a=t.offsetWidth,r=t.offsetHeight,c=n.offsetWidth*o.scale,s=n.offsetHeight*o.scale;c<=a&&s<=r||(o.isDragging=!0,o.startX=e.clientX,o.startY=e.clientY,o.initialTranslateX=o.translateX,o.initialTranslateY=o.translateY)}function w(e){if(o.isDragging){const a=e.clientX,r=e.clientY;var t=a-o.startX,n=r-o.startY;let c=!0,s=!0;const l=i.value,d=document.getElementById("bigImg"),m=l.offsetWidth,u=l.offsetHeight,g=d.offsetWidth*o.scale,p=d.offsetHeight*o.scale;g>m?o.translateX=o.initialTranslateX+t:c=!1,p>u?o.translateY=o.initialTranslateY+n:s=!1,t>0&&c&&o.translateX>(g-l.offsetWidth)/o.scale/2&&(o.translateX=(g-l.offsetWidth)/o.scale/2),t<0&&c&&o.translateX<(l.offsetWidth-g)/o.scale/2&&(o.translateX=(l.offsetWidth-g)/o.scale/2),n>0&&s&&o.translateY>(p-l.offsetHeight)/o.scale/2&&(o.translateY=(p-l.offsetHeight)/o.scale/2),n<0&&s&&o.translateY<(l.offsetHeight-p)/o.scale/2&&(o.translateY=(l.offsetHeight-p)/o.scale/2)}}function S(){o.isDragging=!1}return{...Object(n["toRefs"])(o),closeClick:g,closeSee:s,rotateClick:l,rotateTurnClick:d,rollImg:m,resetModel:u,resetStyle:a,dragImgRef2:i,handleZoom:p,startDrag:h,handleDrag:w,endDrag:S}}};o("f8c3");const bc=it()(vc,[["render",Sc]]);var fc=bc,Cc=o("c7ac"),Oc=o.n(Cc);const xc={key:0,class:"mask-box",style:{display:"flex"}},yc={class:"dialog-box"},Tc={class:"warn-box"},jc=Object(n["createElementVNode"])("img",{class:"warn-img",src:Oc.a,alt:""},null,-1),Mc={class:"btn-box"};function Ec(e,t,o,i,a,r){return e.isShow?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",xc,[Object(n["createElementVNode"])("div",yc,[Object(n["createElementVNode"])("img",{class:"close-img",src:ic.a,alt:"",onClick:t[0]||(t[0]=(...e)=>i.closeClick&&i.closeClick(...e))}),Object(n["createElementVNode"])("div",Tc,[jc,Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.msg),1)]),Object(n["createElementVNode"])("section",Mc,[Object(n["withDirectives"])(Object(n["createElementVNode"])("button",{class:"cancel-btn",onClick:t[1]||(t[1]=(...e)=>i.cancelClick&&i.cancelClick(...e))},Object(n["toDisplayString"])(e.$t("cancel")),513),[[n["vShow"],e.showCancel]]),Object(n["createElementVNode"])("button",{class:"save-btn",onClick:t[2]||(t[2]=(...e)=>i.sureClick&&i.sureClick(...e))},Object(n["toDisplayString"])(e.showCancel?e.$t("save"):e.$t("sure")),1)])])])):Object(n["createCommentVNode"])("",!0)}var kc={setup(){const{proxy:e,appContext:t}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{t.config.globalProperties.$msgBox=e});const o=Object(n["reactive"])({msg:"",isShow:!1,showCancel:!0});var i=()=>{},a=()=>{},r=()=>{};function c(e,t,o,n){this.msg=e,this.isShow=!0,this.showCancel=!0,i=t,a=o,r=n||o}function s(e,t){this.msg=e,this.isShow=!0,this.showCancel=!1,i=t,r=t}function l(){this.isShow=!1,i&&i()}function d(){this.isShow=!1,a&&a()}function m(){this.isShow=!1,r&&r()}return{...Object(n["toRefs"])(o),showMsg:c,showTip:s,cancelClick:d,sureClick:l,closeClick:m}}};const Dc=it()(kc,[["render",Ec]]);var Ac=Dc,Bc={components:{bigimg:fc,confirm:Ac},setup(){const{proxy:e,appContext:t}=Object(n["getCurrentInstance"])(),o=Object(c["useStore"])(),{menuStore:i}=o.state,a=Object(n["reactive"])({interfaceOpenFlag:!1,teleportTo:"body",tagNum:0,tagNum_list:0,svgNum_list:[],ctrlDraw:{tagIdx:0,_openDraw:!1,setPen:function(){}},annoText_add:"",annoText_check:"",imgSrc_check:"",imgSrc_add:"",curUuid:"",viewMode:"",tcChecktag:!1,tcStep0:!1,tcStep1:!1,tcTagImg:!1,tcCheckTI:!1,tcCheckBig:!1,tcCheckVideo:!1,selectIdx:"-1",spreadType:"",colors:["rgb(255,99,2)","rgb(34,131,249)","rgb(29,231,96)","rgb(51,51,51)"],strokeColor:"rgb(255,99,2)",strokeWidth:2,activeImg:!1,saveEnable:!1,emptyEnable:!1,revokeEnable:!1,setTime0:null,audioPlaying:!1,audioTime:0,audioObj:null,isEditType:!1,curTagDrawInfo:null,editHasRecord:!1,showImgTag:!0,tagSaveFlag:!1,selectAnnoTimer:null,isVideo:!1,videoData:{},videoType:"",reading:!1,fileLimitType:"image/gif,image/jpeg,image/jpg,image/png,image/bmp,video/*,video/x-matroska",isNewAudioTag:!1,audioTimer:null,audioTimerNum:0,ifLimitAudio:!1,LimitAudioSrc:""}),r=Object(n["ref"])(null);var s=Object(n["computed"])(()=>o.state.nowTag);return Object(n["nextTick"])(()=>{t.config.globalProperties.$tag=e}),Object(n["watch"])(()=>a.audioTimerNum,e=>{if(e>=60){a.audioTimer&&clearInterval(a.audioTimer);let e=e=>{e?(a.LimitAudioSrc=e,a.ifLimitAudio=!0):(a.LimitAudioSrc="",a.saveEnable=!1,a.ifLimitAudio=!0)};te(["endAudioRecord"])?e(!1):nd_viewCtrl.endAudioRecord(e)}}),Object(n["watch"])(()=>o.state.modelStore.delTagUuid,t=>{("sync"!=nd_viewCtrl.viewMode||nd_viewCtrl.rtmSDK.isRtmOperate||nd_viewCtrl.rtmSDK.isRtmFreeOper)&&a.curUuid&&a.curUuid==t&&e.exitChecktag()}),Object(n["watch"])(()=>a.annoText_add,t=>{t&&e.onCheckSaveEable()}),Object(n["watch"])(()=>a.curUuid,()=>{o.commit("tagStore/setTagCurUuid",a.curUuid)}),{...Object(n["toRefs"])(a),store:o,menuStore:i,tagList:s,picSelectInput:r}},computed:{name(){return this.data},c_hasContent(){return!!this.judgeTxtEmpty(this.annoText_check)||this.imgSrc_check}},mounted(){var e=document.getElementById("viewer");e&&(this.ctrlDraw=new Be(e,this),window.ctrlDraw=this.ctrlDraw),this.viewMode=nd_viewCtrl.viewMode,setTimeout(()=>{this.teleportTo="#vueMain"}),this.$eventBus.on("loadAndInitSub",()=>{this.initListenEvent(),clearTimeout(this.selectAnnoTimer),this.store.state.modelStore.annotationTagId&&(this.selectAnnoTimer=setTimeout(()=>{de.selectAnnotation(this.store.state.modelStore.annotationTagId),de.measureUtil&&de.measureUtil.setMeasureOpType(""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de.measureUtil&&de.measureUtil.setMeasureVisible(!1),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!1),this.store.commit("modelStore/setAnnotationTagId","")},600)),nd_viewCtrl&&nd_viewCtrl.limitTagVideo&&(this.fileLimitType="image/gif,image/jpeg,image/jpg,image/png,image/bmp")}),this.language=nd_viewCtrl.language||"zh",this.viewMode=nd_viewCtrl.viewMode,this.$eventBus.on("addtagEvent",e=>{this.tcChecktag&&("out"==e?this.exitChecktag(e):this.exitChecktag(!0)),"sync"==nd_viewCtrl.viewMode&&(this.showImgTag=!1),this.startDrawTag()}),this.$eventBus.on("addAudioTagEvent",e=>{"sync"==nd_viewCtrl.viewMode&&(this.showImgTag=!1),this.startAudioTag()}),this.$eventBus.on("closeTagSeeSub",e=>{this.tcChecktag&&this.exitChecktag(!0)}),this.$eventBus.on("editTagSub",e=>{this.curUuid=e.tagId||e.state.uuid,this.curTagInfo=e,de.setAnnotationsVisibility(0),setTimeout(()=>{de.setAnnotationsVisibilityByUuid(1,this.curUuid)},100),this.store.commit("menuStore/setShowOneMenu",!1),this.editAnno()}),this.$eventBus.on("delTagSub",e=>{this.delAnno("fromSub",e)})},methods:{initListenEvent(){de._viewer?this.listenered||(this.listenered=!0,this.addViewListen(),this.addAnnoSelectListen()):setTimeout(()=>{this.initListenEvent()},500)},addAnnoSelectListen(){var e=this;de._viewer.addEventListener("annotationSelectedEvent",t=>{if(e.$emit("chengShowMeasureStyle"),de.measureUtil&&de.measureUtil.setMeasureOpType(""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de.measureUtil&&de.measureUtil.setMeasureVisible(!1),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!1),e.tcChecktag&&!e.interfaceOpenFlag)return void(e.interfaceOpenFlag=!1);this.audioObj&&this.audioObj.pause(),de.clearSelection(),e.tcType="",e.tcAnnotext=!1;const o=document.getElementById("tagCancelButton"),n=document.getElementById("tagSaveButton"),i=document.getElementById("tagTooltips");o&&(o.style.display="none"),n&&(n.style.display="none"),i&&(i.style.display="none"),de._viewer.setOperatorByID("OpPan"),de.setMeasureOpType(""),e.store.commit("menuStore/setMenuChoose",""),e.store.commit("menuStore/setMenuChoose2",""),e.store.commit("menuStore/setMenuChoose3",""),e.store.commit("menuStore/setStructMenu",!1),e.store.commit("menuStore/setUnitMenu",!1),e.store.commit("menuStore/setShowAllMenu",!1),e.store.commit("modelStore/setScaleDialog",!1),e.store.commit("menuStore/setShowManyConfig",!1),setTimeout(()=>{NDSWebViewer.SETTING.enableArrowKeyOp=!0},200),e.$eventBus.emit("openTagPointSub"),e.$eventBus.emit("closeShowSetting"),e.$eventBus.emit("closeMultiple"),e.$eventBus.emit("closeAttr"),e.interfaceOpenFlag=!1,e.curUuid=t.userData.uuid;var a=e.store.state.modelStore.nowTag,r=a.filter((function(t){return t.state.uuid==e.curUuid}))[0];r.state.locationObject&&(r.state.locationObject=null),r=JSON.parse(JSON.stringify(r)),r.list||(r.list=[]),e.curTagInfo=r,e.$emit("tagOperate","checkTag"),e.tcCheckTI=!1,e.imgSrc_check="",e.annoText_check="",e.tcCheckBig=!1;var c=r;"AudioAnno"==c.state.type?(e.tcCheckTI=!0,e.checkTag_Audio(c,c.imgURL)):(e.tcType="checkpic",e.imgSrc_check=c.imgURL,e.annoText_check=C(c.text||""),e.tcCheckTI=!0,e.store.state.modelStore.needOpenImg&&(e.checkBigimg(),e.store.commit("modelStore/setNeedOpenImg",!1))),e.tcStep0=!1,e.tcStep1=!1,e.imgSrc_add=!1,e.annoText_add=!1,e.tcTagImg=!1,e.chectTag_Normal(c),nd_viewCtrl&&nd_viewCtrl.beSelectTag&&nd_viewCtrl.beSelectTag(r.state.uuid)})},addViewListen(){var e=this,t=document.querySelector(".canvas2DBIM"),o=function(t){e.tcChecktag&&e.ctrlDraw.resizeTags()},n=function(){t.removeEventListener("mousemove",o),t.removeEventListener("mouseup",n)};t.addEventListener("mousedown",(function(){t.addEventListener("mousemove",o,!1),t.addEventListener("mouseup",n,!1)}),!1),t.removeEventListener("DOMMouseScroll",o),t.removeEventListener("mousewheel",o),t.addEventListener("mousewheel",o,!1),t.addEventListener("DOMMouseScroll",o,!1),document.addEventListener("keydown",(function(e){switch(e.keyCode){case 37:case 39:setTimeout(()=>{o()},200);break}}))},textareaKeydown(){let e=window.event||arguments[0];if("Enter"==e.key||"Enter"==e.code||13==e.keyCode)return e.returnValue=!1,!1},textChange(){setTimeout(()=>{this.onCheckSaveEable()},0)},onCheckSaveEable(){var e=!1;this.annoText_add.trim().length>0&&(e=!0);var t=!1;this.ctrlDraw.drawInfo&&this.ctrlDraw.drawInfo.list&&this.ctrlDraw.drawInfo.list.length>0&&(this.ctrlDraw.drawInfo.list.length>1||"text"!=this.ctrlDraw.drawInfo.list[0].type)&&(e=!0,t=!0),this.imgSrc_add&&(e=!0),this.saveEnable=e,this.revokeEnable=t,this.emptyEnable=t},onShowstep1(){let e=()=>{this.tcStep0=!1,window._this=this,this.selectIdx="-1",this.spreadType="",this.setTime0&&clearTimeout(this.setTime0),this.isVideo=!1,this.tcStep1=!0,NDSWebViewer.SETTING.enableArrowKeyOp=!1,this.ctrlDraw._openDraw=!1,this.setTime0=setTimeout(()=>{$("#annoText").focus(),"sync"==this.viewMode?this.tagPenClick(1,"arrow"):this.tagPenClick(0,"point"),this.ctrlDraw._openDraw=!1},800)},t=t=>{t?(this.audioTimer&&clearInterval(this.audioTimer),this.audioTimerNum=0,this.audioTimer=setInterval(()=>{this.audioTimerNum++},1e3),e(),setTimeout(()=>{this.saveEnable=!0},1e3)):setTimeout(()=>{e(),this.ifLimitAudio=!0,this.LimitAudioSrc=""},10)};this.isNewAudioTag?te(["startAudioRecord"])?t(!1):nd_viewCtrl.startAudioRecord(t):e()},setSpreadType(e){this.spreadType=e,this.activeImg=!1,this.ctrlDraw._openDraw=!!e},checkBigimg(){this.isVideo?(this.tcCheckVideo=!0,this.$refs.videoCom.playVideo(this.curTagInfo)):(this.tcCheckBig=!0,this.$refs.bigImg.resetStyle(),Pe.sendCenter(6,{tcCheckBig:!0,openTagId:this.curTagInfo.state.uuid}))},closeBigimg(){this.tcCheckBig=!1,Pe.sendCenter(6,{tcCheckBig:!1,openTagId:this.curTagInfo.state.uuid})},revokeClick(){this.revokeEnable&&(this.ctrlDraw&&this.ctrlDraw.cancelDraw(),this.onCheckSaveEable())},clearClick(){this.emptyEnable&&(this.ctrlDraw&&this.ctrlDraw.clear(),this.onCheckSaveEable())},upimgClick(){this.activeImg=!0,setTimeout(()=>{this.activeImg=!1},1e3),this.$refs.picSelectInput.value="",this.picSelectInput.dispatchEvent(new MouseEvent("click"))},none(){},onDelimg(){this.imgSrc_add="",this.tcTagImg=!1,this.activeImg=!1,this.onCheckSaveEable()},onChange(e){var t=this,o=e.target.files[0];if(o){var n=o.name.slice(o.name.lastIndexOf(".")+1,o.name.length);if(n=n.toLowerCase(),-1!=["gif","jpeg","jpg","png","bmp"].indexOf(n))if(o.size>5242880)this.$msgBox.showTip(this.$t("tagTip2"));else{var i=new FileReader;i.onload=function(e){t.imgSrc_add=e.target.result,t.tcTagImg=!0,t.onCheckSaveEable()},i.readAsDataURL(o),t.activeImg=!1}else this.$msgBox.showTip(this.$t("tagTip3"))}},chectTag_Normal:function(e){this.ctrlDraw.showTags(e),this.showTag_only(e),this.tcChecktag=!0},resetTagMsg(){this.selectIdx=-1,this.imgSrc_add="",this.annoText_add="",this.tcTagImg=!1,this.saveEnable=!1,this.revokeEnable=!1,this.emptyEnable=!1},startAudioTag(){this.setTime0&&clearTimeout(this.setTime0),this.isNewAudioTag=!0,this.resetTagMsg(),this.showTagTips(),this.tcStep0=!0,this.tcTagImg=!1,this.imgSrc_add="",this.isEditType=!1,this.tcStep1=!1,this.imgSrc_add="",this.annoText_add="",this.isVideo="",this.videoType="",this.videoData={},this.reading=!1,this.tagNum=this.store.state.modelStore.allTag.length+1,this.saveEnable=!1,this.revokeEnable=!1,this.emptyEnable=!1,this.ctrlDraw._openDraw=!1,this.ctrlDraw.setPen("text"),this.ctrlDraw.openDraw(this.tagNum),this.tagNum_list=0},startDrawTag(e){this.setTime0&&clearTimeout(this.setTime0),this.isNewAudioTag=!1,this.resetTagMsg(),this.showTagTips(),this.tcStep0=!0,this.tcTagImg=!1,this.imgSrc_add="",this.isEditType=!1,this.tcStep1=!1,this.imgSrc_add="",this.annoText_add="",this.isVideo="",this.videoType="",this.videoData={},this.reading=!1,this.tagNum=this.store.state.modelStore.allTag.length+1,this.saveEnable=!1,this.revokeEnable=!1,this.emptyEnable=!1,this.ctrlDraw.setPen("text"),this.ctrlDraw.openDraw(this.tagNum),this.tagNum_list=0,setTimeout(()=>{$("#annoText").focus()},500)},showTagTips(){const e=document.getElementById("tagTooltips");e.style.display="block",e.innerHTML=this.$t("choosePoint"),e.style.left="-1000px"},hideTagTips(){const e=document.getElementById("tagTooltips");e.style.display="none"},sureSave:function(){if(this.tagSaveFlag)return;if(1==this.reading)return;var e=this;e.curUuid="",e.ctrlDraw.closeDraw(),e.tagSaveFlag=!0,$(".nd-selector-box").css("display","none");var t=e.ctrlDraw.drawInfo;e.isEditType&&(t&&t.list&&(e.curTagInfo.list=t.list),t=e.curTagInfo),t.text=encodeURIComponent(this.annoText_add);const o=()=>{e.tcStep0=!1,e.tcStep1=!1,e.tcTagImg=!1,e.annoText_add="",e.imgSrc_add="",e.tagSaveFlag=!1,e.curTagInfo=!1,e.tcChecktag=!1,e.annoText_check="",e.imgSrc_check="",e.ctrlDraw&&e.ctrlDraw.destroy(),NDSWebViewer.SETTING.enableArrowKeyOp=!0,NDSWebViewer.SETTING.enableSelect=!0,this.$eventBus.emit("openTagPointSub"),e.store.commit("tagStore/setTagshow",!0),e.store.commit("tagStore/setTagdrawing",!1),e.store.commit("menuStore/setMenuChoose","tag"),e.store.commit("menuStore/setMenuChoose2",""),e.store.commit("menuStore/setShowOneMenu",!1),e.store.commit("menuStore/setShowManyConfig",!0),e.store.commit("menuStore/setShowAllMenu",!0),e.exitDrawtag(),de.selectObjUtil&&de.selectObjUtil.setOpSelectType(!0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),"sync"==nd_viewCtrl.viewMode&&setTimeout(()=>{window.nd_rtmReceiveAllMsg()});let t=e.store.state.modelStore.rotationAngle[e.store.state.modelStore.nowConfig]||0;de.storeViewUtil&&de.storeViewUtil.setCameraRotate(t)};if(e.isNewAudioTag){if(e.audioTimer&&(clearInterval(e.audioTimer),e.audioTimer=null),e.LimitAudioSrc&&e.ifLimitAudio)return o(),t.src=e.LimitAudioSrc,t.imgURL=e.LimitAudioSrc,t.time=e.audioTimerNum,e.addSoundTag(t,e.LimitAudioSrc,"AudioAnno"),!1;e.ifLimitAudio&&e.cancelSaveClick();let n=n=>{n?(o(),t.src=n,t.imgURL=n,t.time=e.audioTimerNum,e.addSoundTag(t,n,"AudioAnno")):(e.LimitAudioSrc="",e.saveEnable=!1,e.ifLimitAudio=!0)};te(["endAudioRecord"])?n(!1):nd_viewCtrl.endAudioRecord(n)}else e.tcTagImg&&e.imgSrc_add?this.isEditType?e.editTag(t,this.imgSrc_add,"",o):e.addTag(t,this.imgSrc_add,"",o):this.isEditType?e.editTag(t,"","",o):e.addTag(t,"","",o)},addSoundTag:function(e,t,o){var n=this,i=Ce(e.cx,e.cy,e.cz),a=xe(i.x,i.y);a.version="5",a.uuid=I(),a.stime=e.time,e.tagId=a.uuid,o&&(a.type=o,a.origiType=o),e.state=a,e.modelName=this.store.state.modelStore.nowConfigName,ze({tagType:e.state.origiType,tagInfo:e,tagUuid:e.state.uuid,audioFile:t},(function(t){t&&(e.src=t,e.imgURL=t),a.index=n.tagNum,de.annotationUtil&&de.annotationUtil.addAnnotation(e),de.setAnnotationsVisibility(1),n.store.commit("modelStore/addTag",e),"sync"==nd_viewCtrl.viewMode&&window.nd_rtmReceiveAllMsg(),n.ctrlDraw&&n.ctrlDraw.destroy(),setTimeout(()=>{Pe.sendCenter(1),Pe.sendCenter(2),Pe.sendCenter(3),Pe.sendCenter(6)},300),Pe.endTagChange()}))},cancelSaveClick(){var e=this;e.audioTimer&&clearInterval(e.audioTimer),e.audioTimerNum=0,e.ifLimitAudio=!1,e.LimitAudioSrc="",e.isNewAudioTag=!1,this.compareEditTag(),this.onCheckSaveEable(),this.saveEnable?this.isEditType&&!this.editHasRecord?this.cancelSave("tagClick"):this.$msgBox.showMsg(this.$t("tagSaveConfirm2"),(function(){e.sureSave()}),(function(){e.cancelSave("tagClick")})):this.cancelSave("tagClick");let t=e.store.state.modelStore.rotationAngle[e.store.state.modelStore.nowConfig]||0;de.storeViewUtil&&de.storeViewUtil.setCameraRotate(t)},cancelSave(e,t){de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0),this.$emit("tagOperate","cancel"),this.hideTagTips(),this.ctrlDraw&&this.ctrlDraw.destroy(),this.tcChecktag=!1,this.tagSaveFlag=!1,this.curTagInfo=null,this.curUuid="",this.store.commit("tagStore/setTagdrawing",!1),this.store.commit("menuStore/setMenuChoose","tag"),this.store.commit("menuStore/setMenuChoose2",""),this.store.commit("menuStore/setShowOneMenu",!1);try{"tagClick"==e&&this.curTagInfo&&(this.curTagInfo.list=this.curTagDrawInfo)}catch(o){}this.saveEnable=!1,this.tcStep1=!1,this.tcStep0=!1,this.selectIdx=-1,this.tcType="",this.imgSrc_check="",this.imgSrc_add="",1!=e&&(this.store.state.printMode||(this.store.commit("menuStore/setShowManyConfig",!0),this.store.commit("menuStore/setShowAllMenu",!0),setTimeout(()=>{Pe.sendCenter(2),Pe.sendCenter(3),Pe.endTagChange()},200),"sync"==nd_viewCtrl.viewMode&&this.$eventBus.emit("openTagPointSub"))),NDSWebViewer.SETTING.enableArrowKeyOp=!0},exitChecktag(e){this.tcCheckBig=!1,this.tcChecktag=!1,this.tcCheckTI=!1,this.annoText_check="",this.imgSrc_check="",this.imgSrc_add="",this.curUuid="",de.annotationUtil&&de.annotationUtil.resetSelectAnnotation(),NDSWebViewer.SETTING.enableSelect=!0,this.ctrlDraw&&this.ctrlDraw.destroy(),this.audioObj&&this.audioObj.pause();try{this.ctrlDraw&&this.ctrlDraw.destroy(),this.store.commit("tagStore/setTagdrawing",!1),this.cancelSave(e)}catch(n){}if(1!=e){this.showTag();var t=document.querySelector(".imgAnnotationLogoSelected"),o=document.querySelectorAll(".imgAnnotationLogo");for(let e=0;e<o.length;e++){let n=o[e].getAttribute("uuid");t&&!n&&(n=t.getAttribute("uuid")),n&&de.annotationUtil&&de.annotationUtil.setAnnotationType("annotationLogo",n)}this.store.commit("setShowAreaTips",!0),this.store.commit("menuStore/setShowAllMenu",!0),this.store.commit("menuStore/setShowManyConfig",!0),this.$eventBus.emit("openTagPointSub")}nd_viewCtrl&&nd_viewCtrl.exitTag&&nd_viewCtrl.exitTag(),e&&"click"==e&&Pe.sendCenter(6,{closeTag:!0,tcCheckBig:!1})},showTag_only:function(e){this.hideTag(),de.annotationUtil&&de.annotationUtil.setAnnotationsVisibilityByUuid(1,e.state.uuid),Pe.sendCenter(6,{openTagId:e.state.uuid})},hideTag:function(){this.store.state.modelStore.nowTag.length>0&&(de.setAnnotationsVisibility(0),this.store.commit("tagStore/setTagshow",!1))},showTag:function(){this.store.state.modelStore.nowTag.length>0&&(this.store.state.printMode||setTimeout(()=>{de.setAnnotationsVisibility(1)},200),this.store.commit("tagStore/setTagshow",!0))},checkTag_Audio:function(e,t){let o=this;this.tcType="checkaudio",this.audioPlaying=!1,this.tcChecktag&&(this.tcChecktag=!1,this.curTagInfo=!1,this.tcType="",this.store.commit("tagStore/setTagdrawing",!1));try{this.audioTime=0,e.state.stime&&(this.audioTime=e.state.stime);var n=document.createElement("audio");n.pause(),n.src=t||e.src,n.load(),n.oncanplay=function(){},n.onloadedmetadata=function(){n.play(),n.paused||(o.audioPlaying=!0),n.paused&&document.querySelector(".voice").click()},n.addEventListener("ended",(function(){o.audioPlaying=!1}),!1),this.audioObj=n}catch(i){}},checkTag_base(e){this.tcType="checkpic",this.imgSrc_check=e.imgURL||e.state.imgURL,this.annoText_check=C(e.text||""),"VideoAnno"!=e.state.type&&"VideoAnno"!=e.state.origiType||(this.isVideo=!0,this.$refs.videoCom.preVideoSource(e)),this.store.state.modelStore.needOpenImg&&(this.checkBigimg(),this.store.commit("modelStore/setNeedOpenImg",!1))},audioClick:function(){try{this.audioObj.currentTime=0,this.audioPlaying=!0,this.audioObj.play().catch(e=>{this.audioPlaying=!1})}catch(e){this.audioPlaying=!1}},tagPenClick(e,t){this.selectIdx=e,this.ctrlDraw&&(this.ctrlDraw._openDraw=!0,this.ctrlDraw.setPen(t))},tagLineClick(e){this.strokeWidth=e,this.ctrlDraw&&(this.ctrlDraw._openDraw=!0,this.ctrlDraw.setLineWidth(e))},tagColorClick(e){this.strokeColor=e,this.ctrlDraw&&(this.ctrlDraw._openDraw=!0,this.ctrlDraw.setColor(e))},forceExit:function(){this.$msgBox.isShow&&(this.$msgBox.isShow=!1),this.tcCheckBig&&(this.tcCheckBig=!1),this.tcChecktag&&this.exitChecktag(),(this.tcStep0||this.tcStep1)&&this.cancelSave()},addTag:function(e,t,o,n){var i=this,a=i.store.state.modelStore.allTag.length+1,r=Ce(e.cx,e.cy,e.cz),c=xe(r.x,r.y);function s(){n&&n(),e.index=a,de.annotationUtil&&de.annotationUtil.addAnnotation(e),de.setAnnotationsVisibility(1),i.store.commit("modelStore/addTag",e),"sync"==nd_viewCtrl.viewMode&&window.nd_rtmReceiveAllMsg(),i.ctrlDraw&&i.ctrlDraw.destroy(),setTimeout(()=>{Pe.sendCenter(1),Pe.sendCenter(2),Pe.sendCenter(3),Pe.sendCenter(6)},300),Pe.endTagChange()}c=Object.assign({},c),c.version="5",c.uuid=I(),c.origiType="ImageAnno",e.state=c,e.modelName=this.store.state.modelStore.nowConfigName,e.tagId=c.uuid,"yzp"==nd_viewCtrl.viewMode&&(e.screenShotImg=o||""),ze({tagType:c.origiType,tagInfo:e,tagUuid:c.uuid,imageFile:t},t?function(t){c.index=a,e.imgURL=t,s()}:function(e){c.index=a,s()})},editTag(e,t,o,n){var i=this;function a(){n&&n(),de.setAnnotationsVisibility(1),i.store.commit("tagStore/setTagshow",!0)}"yzp"!=nd_viewCtrl.viewMode&&"sync"!=nd_viewCtrl.viewMode||(e.screenShotImg=o||""),e.imgURL=t,e.state.origiType="ImageAnno",$e({tagType:e.state.origiType,tagInfo:e,tagUuid:e.state.uuid,imageFile:t},(function(t){t&&(e.imgURL=t),nd_viewCtrl.userInfo&&nd_viewCtrl.userInfo.userName&&(e.userInfo={userName:nd_viewCtrl.userInfo.userName}),i.store.commit("modelStore/editTag",e),a()}))},updateTagText(e,t){e==this.curUuid&&(this.annoText_check=t)},exitDrawtag(){de._viewer.displayViewBox(!0),this.ctrlDraw&&this.ctrlDraw.destroy(),this.curTagInfo=!1,this.store.commit("menuStore/setShowManyConfig",!0)},inputMouse(e){e.stopPropagation()},tagMouseEnter(){const e=document.getElementById("tagTooltips");e&&(e.style.left="-1000px")},judgeTxtEmpty(e){return!e.match(/^[ ]*$/)},delAnno(e,t){let o=this,n=o.curUuid;t&&(n=t.tagId),nd_viewCtrl&&nd_viewCtrl.beDelTag&&nd_viewCtrl.beDelTag(n,(function(){de.annotationUtil&&de.annotationUtil.resetSelectAnnotation(),de.annotationUtil&&de.annotationUtil.removeAnnotation(n),o.store.commit("modelStore/delTagByuuid",n),"fromSub"!=e&&o.exitChecktag(),Ve()}))},editAnno(){const e=this.curTagInfo;e.list||(e.list=[]),this.curTagDrawInfo=JSON.parse(JSON.stringify(e.list||[])),this.tagNum_list=e.list&&e.list.length,this.editHasRecord=!1,this.tcChecktag=!1,this.isEditType=!0,this.tcStep1=!0,this.tcCheckTI=!1,this.tcType="",this.annoText_add=C(e.text||""),this.imgSrc_add=e.imgURL,e.imgURL&&(this.tcTagImg=!0),"VideoAnno"==e.state.type||"VideoAnno"==e.state.origiType?(this.isVideo=!0,this.videoData=new FormData,this.videoData.append("type","src"),this.videoData.append("src",e.videoURL)):this.isVideo=!1,this.ctrlDraw.editDraw(e),this.ctrlDraw.closeDraw(),this.selectIdx=0,this.spreadType="",this.ctrlDraw.setPen("point"),this.onCheckSaveEable(),nd_viewCtrl&&nd_viewCtrl.exitTag&&nd_viewCtrl.exitTag(),setTimeout(()=>{$("#annoText").focus()},500)},compareEditTag(){try{C(this.curTagInfo.text||"")!=this.annoText_add&&(this.editHasRecord=!0,this.curTagInfo.text||this.annoText_add||(this.editHasRecord=!1)),this.curTagInfo.imgURL!=this.imgSrc_add&&(this.editHasRecord=!0),JSON.stringify(this.curTagInfo.list)!=JSON.stringify(this.curTagDrawInfo)&&(this.editHasRecord=!0)}catch(e){}},checkBtnExit(e){return T(e)},clearFlag(){this.tagSaveFlag=!1},apiCreateTag(e,t){let o=this.store.state.modelStore.allTag.length+1,n=Oe(e.x,e.y),i=I(),a={text:e.text,imgURL:e.imgURL,state:{},tagId:i,modelName:this.store.state.modelStore.nowConfigName,cx:n.cx,cy:n.cy,cz:n.cz,index:o};a.state=xe(e.x,e.y),a.state.uuid=i,a.state.origiType="ImageAnno",a.state.index=o;let r=JSON.parse(JSON.stringify(a));t&&t(r,()=>{de.annotationUtil&&de.annotationUtil.addAnnotation(a),de.setAnnotationsVisibility(1),this.store.commit("modelStore/addTag",a),this.store.commit("tagStore/setTagshow",!0)})}}};o("6c08");const Nc=it()(Bc,[["render",oc],["__scopeId","data-v-79d51292"]]);var Ic=Nc,Lc=o("7143"),Vc=o.n(Lc),Uc=o("25a4"),_c=o.n(Uc);const Pc={class:"header"},Fc={class:"unit-content"},Rc={src:Vc.a,alt:""},zc={src:_c.a,alt:""},$c={src:Vc.a,alt:""},Hc={src:_c.a,alt:""},Gc={src:Vc.a,alt:""},Wc={src:_c.a,alt:""};function qc(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])(c,{class:"ndp2-my-page unit-card",onClose:i.close},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Pc,Object(n["toDisplayString"])(e.$t("pcUnitIcon")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Fc,[Object(n["createElementVNode"])("div",{onClick:t[0]||(t[0]=e=>i.unitChange("")),class:"uni-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Rc,null,512),[[n["vShow"],""==i.modelStore.unit]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",zc,null,512),[[n["vShow"],""!=i.modelStore.unit]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("pcUnitType1")),1)]),Object(n["createElementVNode"])("div",{onClick:t[1]||(t[1]=e=>i.unitChange("mm")),class:"uni-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",$c,null,512),[[n["vShow"],"mm"==i.modelStore.unit]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Hc,null,512),[[n["vShow"],"mm"!=i.modelStore.unit]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("pcUnitType2")),1)]),Object(n["createElementVNode"])("div",{onClick:t[2]||(t[2]=e=>i.unitChange("in")),class:"uni-flex flex-start-radio"},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Gc,null,512),[[n["vShow"],"in"==i.modelStore.unit]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Wc,null,512),[[n["vShow"],"in"!=i.modelStore.unit]]),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("pcUnitType3")),1)])])]),_:1},8,["onClose"])}var Kc={name:"",components:{card:An},setup(){const e=Object(n["reactive"])({}),t=Object(c["useStore"])(),{modelStore:o}=t.state,{proxy:i}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const a=()=>{t.commit("menuStore/setUnitMenu",!1),t.commit("menuStore/setMenuChoose","")},r=e=>{switch(t.commit("modelStore/setUnitType",e),de&&de._viewer.setDispalyModelUnit(e),e){case"":f("pcUnitType1");break;case"mm":f("pcUnitType2");break;case"in":f("pcUnitType3");break;default:break}Pe.sendCenter(4)},s=Object(n["toRefs"])(e);return{...s,modelStore:o,unitChange:r,close:a}}};o("1cb3");const Zc=it()(Kc,[["render",qc],["__scopeId","data-v-51c06731"]]);var Yc=Zc;const Jc={class:"ndp2-my-page excel-get-wrap"};function Xc(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Jc,[Object(n["createElementVNode"])("div",{class:"excel-get-btn re-select",onClick:t[0]||(t[0]=(...e)=>i.reSelectHandler&&i.reSelectHandler(...e))},Object(n["toDisplayString"])(e.$t("excelReselect")),1),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["excel-get-btn excel-download",{no:!e.canUseExport}]),onClick:t[1]||(t[1]=(...e)=>i.excelDownload&&i.excelDownload(...e))},Object(n["toDisplayString"])(e.$t("excelDownload")),3)])}var Qc={name:"",components:{},setup(){const e=Object(n["reactive"])({canUseExport:!0}),t=Object(c["useStore"])(),{modelStore:o,menuStore:i}=t.state,{proxy:a}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{a.$eventBus.on("ExcelEnd",()=>{e.canUseExport=!0})});const r=()=>{e.canUseExport=!1,de.reDrawExcel()},s=async()=>{if(!e.canUseExport)return;t.commit("setMsgLoadingPopShow",!0),t.commit("setMsgLoadingContent",a.$t("excelLoading"));const o=de.getFileName(),n=await de.extendExcel();if(!n)return t.commit("setMsgLoadingPopShow",!1),void a.$eventBus.emit("MsgTipEvent",a.$t("excelErrorTips"));if(1==n)return;const i=()=>{t.commit("setMsgLoadingPopShow",!1),t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setExcelGetShow",!1),de._viewer.setOperatorByID("OpPan"),de.exitExcel()};te(["exportExcel"])&&a.$eventBus.emit("MsgTipEvent",a.$t("addInterfaceTips")),te(["exportExcel"])?i():nd_viewCtrl.exportExcel(n,o,i)},l=Object(n["toRefs"])(e);return{...l,modelStore:o,menuStore:i,reSelectHandler:r,excelDownload:s}}};o("adb4");const es=it()(Qc,[["render",Xc],["__scopeId","data-v-df0a3a8c"]]);var ts=es,os=o("f18e"),ns=o.n(os),is=o("59ce"),as=o.n(is),rs=o("397f"),cs=o.n(rs),ss=o("d84c"),ls=o.n(ss);const ds={class:"header"},ms={class:"flex-start"},us=["placeholder"],gs={class:"search-radio",src:ns.a,alt:""},ps={class:"search-radio",src:as.a,alt:""},hs={class:"search-type-txt"},ws={class:"search-radio",src:ns.a,alt:""},Ss={class:"search-radio",src:as.a,alt:""},vs={class:"search-type-txt"},bs={class:"area-ico",src:cs.a,alt:""},fs={class:"area-ico",src:ls.a,alt:""},Cs={class:"search-type-txt"},Os={key:0,style:{height:"calc(100% - 125px)"}},xs=["onClick","id"],ys={class:"result-index"},Ts=["title"],js={class:"flex-between"},Ms={class:"no-result"};function Es(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("card");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(c,{class:"textFind-card",onClick:i.exitMeasure,onClose:i.close,style:Object(n["normalizeStyle"])({"width:":e.textFindWidth+"px"})},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",ds,Object(n["toDisplayString"])(e.$t("textFind")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",ms,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("textFindTxt1")),1),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"search-inp",onKeyup:t[0]||(t[0]=Object(n["withKeys"])((...e)=>i.searchList&&i.searchList(...e),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=t=>e.keyword=t),type:"text",placeholder:e.$t("textFindTxt9"),maxlength:"50"},null,40,us),[[n["vModelText"],e.keyword,void 0,{trim:!0}]]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["search-btn",{disable:!e.keyword}]),onClick:t[2]||(t[2]=(...e)=>i.searchList&&i.searchList(...e))},Object(n["toDisplayString"])(e.$t("search2")),3)]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["flex-start",{en:e.isEn}])},[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("textFindTxt2")),1),Object(n["createElementVNode"])("div",{class:"flex-start radio-list",onClick:t[3]||(t[3]=(...e)=>i.chooseAll&&i.chooseAll(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",gs,null,512),[[n["vShow"],1!=e.findType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",ps,null,512),[[n["vShow"],1==e.findType]]),Object(n["createElementVNode"])("div",hs,Object(n["toDisplayString"])(e.$t("textFindTxt3")),1)]),Object(n["createElementVNode"])("div",{class:"flex-start radio-list",onClick:t[4]||(t[4]=(...e)=>i.chooseArea&&i.chooseArea(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",ws,null,512),[[n["vShow"],2!=e.findType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Ss,null,512),[[n["vShow"],2==e.findType]]),Object(n["createElementVNode"])("div",vs,Object(n["toDisplayString"])(e.$t("textFindTxt4")),1)]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["flex-start area-btn",{hasArea:2==e.findType}]),onClick:t[5]||(t[5]=(...e)=>i.toChooseArea&&i.toChooseArea(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",bs,null,512),[[n["vShow"],2!=e.findType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",fs,null,512),[[n["vShow"],2==e.findType]]),Object(n["createElementVNode"])("div",Cs,Object(n["toDisplayString"])(e.$t("textFindTxt5")),1)],2)],2),e.findList.length>0||e.hasSearch?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Os,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.$t("textFindTxt6"))+"("+Object(n["toDisplayString"])(e.findList.length)+")",1),Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",{class:Object(n["normalizeClass"])(["result-content",{"small-data":e.findList.length<8}]),id:"ndFindScrollRef"},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.findList,t=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["result-item",{active:t.index==e.chooseItem}]),onClick:e=>i.chooseText(t),key:t.index,id:"finlist-"+t.index},[Object(n["createElementVNode"])("div",ys,Object(n["toDisplayString"])(t.index),1),Object(n["createElementVNode"])("div",{class:"result-text",title:t.content},Object(n["toDisplayString"])(t.content),9,Ts)],10,xs))),128))],2),[[n["vShow"],e.findList.length>0]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",js,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["foot-btn",{disable:1==e.chooseItem}]),onClick:t[6]||(t[6]=(...e)=>i.preClick&&i.preClick(...e))},Object(n["toDisplayString"])(e.$t("textFindTxt7")),3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["foot-btn",{disable:e.chooseItem==e.findList.length}]),onClick:t[7]||(t[7]=(...e)=>i.nextClick&&i.nextClick(...e))},Object(n["toDisplayString"])(e.$t("textFindTxt8")),3)],512),[[n["vShow"],e.findList.length>1]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("ul",{class:Object(n["normalizeClass"])(["result-content",{"small-data":e.findList.length<4}])},[Object(n["createElementVNode"])("li",Ms,Object(n["toDisplayString"])(e.$t("textFindNoResult")),1)],2),[[n["vShow"],0==e.findList.length]])])):Object(n["createCommentVNode"])("",!0)]),_:1},8,["onClick","onClose","style"])),[[n["vShow"],i.menuStore.textFindMenu]])}var ks={name:"",components:{card:An},setup(e,t){const o=Object(n["reactive"])({isEn:!1,findType:1,openChooseArea:!1,chooseArea:!1,chooseAreaPoint:{},chooseItem:0,findList:[],keyword:"",hasSearch:!1,textFindWidth:0}),i=Object(c["useStore"])(),{proxy:a}=Object(n["getCurrentInstance"])(),{menuStore:r}=i.state;Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{o.isEn="en"==a.$i18n.locale,o.textFindWidth=document.querySelector(".textFind-card").width}),Object(n["watch"])(()=>r.menuChoose,(e,t)=>{"textFind"!=e&&"textFind"==t&&(de.setAnnotationsVisibility(i.state.tagStore.tagShow),v(),de.textUtil&&de.textUtil.exitTextFind(),de.textUtil&&de.textUtil.clearSelectArea())}),a.$eventBus.on("apiCreateTagSub",()=>{s()}),a.$eventBus.on("endChooseAreaSub",e=>{o.chooseAreaPoint=e,i.commit("menuStore/setTextFindMenu",!0),i.commit("menuStore/setShowOneMenu",!0),o.chooseArea=!0,de.textUtil&&de.textUtil.selectArea(e.pointStart,e.pointEnd)});const s=()=>{i.commit("menuStore/setMenuChoose",""),i.commit("menuStore/setTextFindMenu",!1)},l=()=>{t.emit("chengShowMeasureStyle")},d=()=>{o.findType=1,de.textUtil&&de.textUtil.clearSelectArea(),S()},m=()=>{o.findType=2,S()},u=()=>{o.keyword&&(o.hasSearch=!0,de.textUtil&&de.textUtil.exitTextFind(),o.keyword?(o.findList=de.textUtil&&de.textUtil.findText(o.keyword,2==o.findType),o.findList[0]&&p(o.findList[0])):o.findList=[])},g=()=>{1!=o.findType&&(i.commit("menuStore/setTextFindMenu",!1),i.commit("menuStore/setShowOneMenu",!1),a.$eventBus.emit("startChooseAreaSub"),o.openChooseArea=!0,de.textUtil&&de.textUtil.clearSelectArea(),S())},p=e=>{o.chooseItem=e.index;let t="finlist-"+e.index;setTimeout(()=>{let e=document.getElementById(t),o=document.getElementById("ndFindScrollRef"),n=e.offsetTop;n-260>0?o.scrollTo({top:n-260,behavior:"smooth"}):o.scrollTo({top:0,behavior:"smooth"})}),de.textUtil&&de.textUtil.textLocation(e.index)},h=()=>{if(o.chooseItem<=1)return;let e=o.chooseItem-2;p(o.findList[e])},w=()=>{if(o.chooseItem>=o.findList.length)return;let e=o.chooseItem;p(o.findList[e])},S=()=>{o.hasSearch=!1,o.findList=[],de.textUtil&&de.textUtil.exitTextFind()},v=()=>{o.findType=1,o.chooseArea=!1,o.chooseAreaPoint={},o.findList=[],o.keyword="",o.hasSearch=!1},b=Object(n["toRefs"])(o);return{...b,close:s,searchList:u,menuStore:r,chooseText:p,preClick:h,nextClick:w,toChooseArea:g,chooseAll:d,chooseArea:m,exitMeasure:l}}};o("85e5");const Ds=it()(ks,[["render",Es],["__scopeId","data-v-6a9f758e"]]);var As=Ds,Bs=o("3566"),Ns=o.n(Bs),Is=o("134f"),Ls=o.n(Is),Vs=o("3bb8"),Us=o.n(Vs),_s=o("68dd"),Ps=o.n(_s);const Fs={class:"ndp2-my-page text-get-wrap"},Rs={key:0,src:Ns.a,alt:""},zs={key:1,src:Ls.a,alt:""},$s={key:0,src:Us.a,alt:""},Hs={key:1,src:Ps.a,alt:""};function Gs(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Fs,[Object(n["createElementVNode"])("div",{class:"text-get-btn re-select",onClick:t[0]||(t[0]=(...e)=>i.reSelectHandler&&i.reSelectHandler(...e))},[e.btnDisable?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",zs)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",Rs))]),Object(n["createElementVNode"])("div",{class:"text-get-btn text-result",onClick:t[1]||(t[1]=(...e)=>i.extractTextResultGet&&i.extractTextResultGet(...e))},[e.btnDisable?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",Hs)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",$s))])])}var Ws={name:"",components:{},setup(){const e=Object(n["reactive"])({btnDisable:!0}),t=Object(c["useStore"])(),{modelStore:o,menuStore:i}=t.state,{proxy:a}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{a.$eventBus.on("ExtractTextDrawSub",()=>{e.btnDisable=!1}),a.$eventBus.on("exitExtractTextDrawSub",()=>{e.btnDisable=!0})});const r=()=>{de.textGetExtensionUtil.clearRect(),e.btnDisable=!0},s=()=>{e.btnDisable||(de.textGetExtensionUtil.extract(),t.commit("setMsgLoadingPopShow",!0),t.commit("setMsgLoadingContent",a.$t("textGetting")))},l=Object(n["toRefs"])(e);return{...l,modelStore:o,menuStore:i,reSelectHandler:r,extractTextResultGet:s}}};o("4faa");const qs=it()(Ws,[["render",Gs],["__scopeId","data-v-51f40086"]]);var Ks=qs;const Zs={class:"header"},Ys={class:"text-get-result"};function Js(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("card");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(c,{class:"textGet-card",onClose:i.close,style:Object(n["normalizeStyle"])({"width:":e.textGetWidth+"px"})},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Zs,Object(n["toDisplayString"])(e.$t("pcMtxtTextGet")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Ys,[Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{id:"text-get-area","onUpdate:modelValue":t[0]||(t[0]=t=>e.textGetResult=t),disabled:""},null,512),[[n["vModelText"],e.textGetResult]])]),Object(n["createElementVNode"])("div",{class:"copy-btn",onClick:t[1]||(t[1]=(...e)=>i.copyText&&i.copyText(...e))},Object(n["toDisplayString"])(e.$t("copyBtn")),1)]),_:1},8,["onClose","style"])),[[n["vShow"],i.menuStore.textGetResultMenu]])}var Xs={name:"",components:{card:An},setup(){const e=Object(n["reactive"])({textGetWidth:0,textGetResult:""}),t=Object(c["useStore"])(),{modelStore:o,menuStore:i}=t.state,{proxy:a}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{a.$eventBus.on("ExtractTextEndSub",()=>{r()}),e.textGetWidth=document.querySelector(".textGet-card").width});const r=()=>{e.textGetResult="",t.commit("setMsgLoadingPopShow",!1);const o=de.textGetExtensionUtil.getResult();t.commit("menuStore/setTextGetMenu",!1),t.commit("menuStore/setTextGetResultMenu",!0);let n="";o.forEach(e=>{n=n+e+"\n"}),e.textGetResult=n},s=()=>{e.textGetResult="",document.getElementById("text-get-area").scrollTop=0,t.commit("menuStore/setTextGetResultMenu",!1),de.textGetExtensionUtil.clearRect(),t.commit("menuStore/setMenuChoose",""),t.commit("menuStore/setTextGetMenu",!1),t.commit("menuStore/setTextGetResultMenu",!1),de.textGetExtensionUtil.deInitText(),a.$eventBus.emit("exitExtractTextDrawSub")},l=()=>{const t=()=>{var t=document.createElement("textarea");t.setAttribute("id","cp_hgz_input"),t.value=e.textGetResult,document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("cp_hgz_input").select();let o=document.execCommand("copy");document.getElementById("cp_hgz_input").remove(),o?a.$eventBus.emit("MsgTipEvent",a.$t("copySuccess")):a.$eventBus.emit("MsgTipEvent",a.$t("copyFail"))};try{navigator.clipboard.writeText(e.textGetResult).then(()=>{a.$eventBus.emit("MsgTipEvent",a.$t("copySuccess"))}).catch(()=>{t()})}catch(o){t()}},d=Object(n["toRefs"])(e);return{...d,modelStore:o,menuStore:i,extractTextResultGet:r,close:s,copyText:l}}};o("af25");const Qs=it()(Xs,[["render",Js],["__scopeId","data-v-0b5fe0dd"]]);var el=Qs;function tl(e,t,o,i,a,r){return e.startDraw?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"text-draw",id:"textFindDraw",onMousedown:t[0]||(t[0]=(...e)=>i.mousedown&&i.mousedown(...e)),onMouseup:t[1]||(t[1]=(...e)=>i.mouseup&&i.mouseup(...e)),onMousemove:t[2]||(t[2]=(...e)=>i.mousemove&&i.mousemove(...e))},[Object(n["createElementVNode"])("div",{class:"frame",style:Object(n["normalizeStyle"])(e.frameStyle)},null,4),Object(n["createElementVNode"])("div",{class:"tips",style:Object(n["normalizeStyle"])(e.tipStyle)},Object(n["toDisplayString"])(e.$t("textFindCursor")),5)],32)):Object(n["createCommentVNode"])("",!0)}var ol={name:"",setup(){const e=Object(n["reactive"])({startDraw:!1,pointStart:{},pointEnd:{},frameStyle:{width:"0",height:"0",left:"-2px",top:"-2px"},tipStyle:{left:"-100px",top:"-100px"}}),{proxy:t}=(Object(c["useStore"])(),Object(n["getCurrentInstance"])());t.$eventBus.on("startChooseAreaSub",()=>{r(),e.startDraw=!0});const o=t=>{e.pointStart={x:t.x,y:t.y},e.frameStyle.left=t.x+"px",e.frameStyle.top=t.y+"px"},i=o=>{e.pointEnd={x:o.x,y:o.y},e.startDraw=!1,t.$eventBus.emit("endChooseAreaSub",{pointStart:e.pointStart,pointEnd:e.pointEnd})},a=t=>{let o=t.x-e.pointStart.x,n=t.y-e.pointStart.y;o<0&&(e.frameStyle.left=t.x+"px"),n<0&&(e.frameStyle.top=t.y+"px"),e.frameStyle.width=Math.abs(o)+"px",e.frameStyle.height=Math.abs(n)+"px",e.tipStyle.left=t.x+24+"px",e.tipStyle.top=t.y+26+"px"},r=()=>{e.startDraw=!1,e.pointStart={},e.pointEnd={},e.frameStyle={width:"0",height:"0",left:"-2px",top:"-2px"},e.tipStyle={left:"-100px",top:"-100px"}},s=Object(n["toRefs"])(e);return{...s,mousedown:o,mouseup:i,mousemove:a}}};o("3d28");const nl=it()(ol,[["render",tl],["__scopeId","data-v-6eefb1cc"]]);var il=nl;function al(e,t,o,i,a,r){return e.startDraw?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"text-draw",id:"textFindDraw",onMousedown:t[0]||(t[0]=(...e)=>i.mousedown&&i.mousedown(...e)),onMouseup:t[1]||(t[1]=(...e)=>i.mouseup&&i.mouseup(...e)),onMousemove:t[2]||(t[2]=(...e)=>i.mousemove&&i.mousemove(...e))},[Object(n["createElementVNode"])("div",{class:"frame",style:Object(n["normalizeStyle"])(e.frameStyle)},null,4),Object(n["createElementVNode"])("div",{class:"tips",style:Object(n["normalizeStyle"])(e.tipStyle)},Object(n["toDisplayString"])(e.$t("blockSearchCursor")),5)],32)):Object(n["createCommentVNode"])("",!0)}var rl={name:"",setup(){const e=Object(n["reactive"])({startDraw:!1,pointStart:{},pointEnd:{},frameStyle:{width:"0",height:"0",left:"-2px",top:"-2px"},tipStyle:{left:"-100px",top:"-100px"}}),{proxy:t}=(Object(c["useStore"])(),Object(n["getCurrentInstance"])());t.$eventBus.on("startChooseBlockAreaSub",()=>{r(),e.startDraw=!0});const o=t=>{e.pointStart={x:t.x,y:t.y},e.frameStyle.left=t.x+"px",e.frameStyle.top=t.y+"px"},i=o=>{e.pointEnd={x:o.x,y:o.y},e.startDraw=!1,t.$eventBus.emit("endChooseBlockAreaSub",{pointStart:e.pointStart,pointEnd:e.pointEnd})},a=t=>{let o=t.x-e.pointStart.x,n=t.y-e.pointStart.y;o<0&&(e.frameStyle.left=t.x+"px"),n<0&&(e.frameStyle.top=t.y+"px"),e.frameStyle.width=Math.abs(o)+"px",e.frameStyle.height=Math.abs(n)+"px",e.tipStyle.left=t.x+24+"px",e.tipStyle.top=t.y+26+"px"},r=()=>{e.startDraw=!1,e.pointStart={},e.pointEnd={},e.frameStyle={width:"0",height:"0",left:"-2px",top:"-2px"},e.tipStyle={left:"-100px",top:"-100px"}},s=Object(n["toRefs"])(e);return{...s,mousedown:o,mouseup:i,mousemove:a}}};o("7273");const cl=it()(rl,[["render",al],["__scopeId","data-v-8f57842e"]]);var sl=cl,ll=o("4c22"),dl=o.n(ll),ml=o("e60e"),ul=o.n(ml),gl=o("b4b5"),pl=o.n(gl),hl=o("9afc"),wl=o.n(hl),Sl=o("3642"),vl=o.n(Sl);const bl=e=>(Object(n["pushScopeId"])("data-v-4a3d5aa9"),e=e(),Object(n["popScopeId"])(),e),fl={class:"header"},Cl={class:"flex-start"},Ol={class:"overhiden"},xl={class:"input-wrap"},yl=["placeholder"],Tl={key:2,class:"choose-bloce-list-wrap"},jl={class:"choose-bloce-list"},Ml=["onMouseenter","onMouseleave","onClick"],El={class:"search-content"},kl={class:"search-content-left"},Dl=["src"],Al={key:1,class:"no-img"},Bl=bl(()=>Object(n["createElementVNode"])("img",{src:pl.a},null,-1)),Nl=[Bl],Il={class:"search-content-right"},Ll={class:"search-word"},Vl={key:0,src:wl.a,alt:""},Ul={key:1,src:vl.a,alt:""},_l={class:"overhiden"},Pl={class:"select-area-paper"},Fl={key:0,src:wl.a,alt:""},Rl={key:1,src:vl.a,alt:""},zl={class:"overhiden"},$l={class:"area-ico",src:cs.a,alt:""},Hl={class:"area-ico",src:ls.a,alt:""},Gl={class:"overhiden"},Wl={class:"search-result"},ql={class:"search-result-title"},Kl={key:0},Zl=["onClick"],Yl={class:"index"},Jl={class:"word"},Xl={class:"bottom"},Ql={key:1,class:"result-content"},ed={class:"no-result"};function td(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("card");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(c,{class:"blockSearch-card",onClose:i.closeHandler},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",fl,Object(n["toDisplayString"])(e.$t("blockSearch")),1)]),default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",Cl,[Object(n["createElementVNode"])("div",Ol,Object(n["toDisplayString"])(e.$t("blockName")),1),Object(n["createElementVNode"])("div",xl,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"search-inp",onKeyup:t[0]||(t[0]=Object(n["withKeys"])((...e)=>i.searchList&&i.searchList(...e),["enter"])),onInput:t[1]||(t[1]=(...e)=>i.searchListInputHandler&&i.searchListInputHandler(...e)),"onUpdate:modelValue":t[2]||(t[2]=t=>e.keyword=t),type:"text",placeholder:e.$t("inputOrSelectSearchContent"),maxlength:"50"},null,40,yl),[[n["vModelText"],e.keyword,void 0,{trim:!0}]]),e.showChooseList?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,class:"ico-arrow",src:ul.a,alt:"",onClick:t[4]||(t[4]=e=>i.showChooseListHandler(!1))})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"ico-arrow",src:dl.a,alt:"",onClick:t[3]||(t[3]=e=>i.showChooseListHandler(!0))})),e.showChooseList?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Tl,[Object(n["createElementVNode"])("div",jl,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.chooseBlockListComp,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:o,class:Object(n["normalizeClass"])({focus:o==e.chooseMouseIndex}),onMouseenter:e=>i.chooseBlockMouseEnterHandler(o),onMouseleave:e=>i.chooseBlockMouseLeaveHandler(o),onClick:e=>i.chooseBlockClickHandler(t,o)},Object(n["toDisplayString"])(t),43,Ml))),128))])])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["search-btn overhiden",{disable:!e.searchClickCanUse}]),onClick:t[5]||(t[5]=(...e)=>i.searchList&&i.searchList(...e))},Object(n["toDisplayString"])(e.$t("blockSearchQuery")),3)]),Object(n["createElementVNode"])("div",El,[Object(n["createElementVNode"])("div",kl,[e.searchImg?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,src:e.searchImg,alt:""},null,8,Dl)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Al,Nl))]),Object(n["createElementVNode"])("div",Il,[Object(n["createElementVNode"])("div",Ll,Object(n["toDisplayString"])(e.$t("searchArea")),1),Object(n["createElementVNode"])("div",{class:"all-paper",onClick:t[6]||(t[6]=e=>i.searchTypeChange(1))},[1==e.searchType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",Vl)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",Ul)),Object(n["createElementVNode"])("span",_l,Object(n["toDisplayString"])(e.$t("allPaper")),1)]),Object(n["createElementVNode"])("div",Pl,[Object(n["createElementVNode"])("div",{class:"select-area-wrap",onClick:t[7]||(t[7]=e=>i.searchTypeChange(2))},[2==e.searchType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",Fl)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",Rl)),Object(n["createElementVNode"])("span",zl,Object(n["toDisplayString"])(e.$t("frameSelectArea")),1)]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["select-area",{"can-use":2==e.searchType}]),onClick:t[8]||(t[8]=(...e)=>i.selectAreaHandler&&i.selectAreaHandler(...e))},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",$l,null,512),[[n["vShow"],2!=e.searchType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("img",Hl,null,512),[[n["vShow"],2==e.searchType]]),Object(n["createElementVNode"])("span",Gl,Object(n["toDisplayString"])(e.$t("selectArea")),1)],2)])])]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Wl,[Object(n["createElementVNode"])("div",ql,Object(n["toDisplayString"])(`${e.$t("searchResult")}(${e.searchResultNum})`),1),e.searchResultList.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Kl,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["search-result-content",{"small-data":e.searchResultList.length<8}]),ref:"searchResultContent"},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.searchResultList,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["content-item",{active:e.selectResultIndex==o}]),key:t.id,onClick:e=>i.searchResultListClick(t,o)},[Object(n["createElementVNode"])("span",Yl,Object(n["toDisplayString"])(o+1),1),Object(n["createElementVNode"])("span",Jl,Object(n["toDisplayString"])(t.content||""),1)],10,Zl))),128))],2),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Xl,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["pre-view",{disable:e.selectResultIndex<=0}]),onClick:t[9]||(t[9]=t=>i.otherViewClick(e.selectResultIndex<=0,-1))},Object(n["toDisplayString"])(e.$t("viewPreOne")),3),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["next-view",{disable:e.selectResultIndex==e.searchResultList.length-1}]),onClick:t[10]||(t[10]=t=>i.otherViewClick(e.selectResultIndex==e.searchResultList.length-1,1))},Object(n["toDisplayString"])(e.$t("viewNextOne")),3)],512),[[n["vShow"],e.searchResultList.length>1]])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ql,[Object(n["createElementVNode"])("span",ed,Object(n["toDisplayString"])(e.$t("textFindNoResult")),1)]))],512),[[n["vShow"],e.searchResultShow]])]),_:1},8,["onClose"])),[[n["vShow"],i.menuStore.blockSearchMenu]])}var od={name:"",components:{card:An},setup(e,t){const o=Object(n["reactive"])({keyword:"",searchClickCanUse:!1,searchType:1,showChooseList:!1,chooseBlockList:[],chooseMouseIndex:-1,chooseSelectIndex:-1,searchImg:"",searchResultShow:!1,searchResultNum:0,chooseAreaPoint:{},searchResultList:[],selectResultIndex:-1,lastSearch:""}),i=Object(n["ref"])(),a=Object(c["useStore"])(),{proxy:r}=Object(n["getCurrentInstance"])(),{menuStore:s}=a.state,l=Object(n["computed"])(()=>o.chooseBlockList.filter(e=>e.includes(o.keyword)));Object(n["onMounted"])(()=>{r.$eventBus.on("endChooseBlockAreaSub",e=>{o.chooseAreaPoint=e,a.commit("menuStore/setBlockSearchMenu",!0),a.commit("menuStore/setShowOneMenu",!0),de.drawSearchRect(e.pointStart,e.pointEnd)}),r.$eventBus.on("getChooseBlock",()=>{m()}),Object(n["watch"])(()=>s.menuChoose,(e,t)=>{"blockSearch"!=e&&"blockSearch"==t&&(de.setAnnotationsVisibility(a.state.tagStore.tagShow),x(),de.blockUtil&&de.blockUtil.exitBlock(),de.blockUtil&&de.blockUtil.clearSearchRect())})});const d=()=>{o.searchClickCanUse=!1,o.showChooseList=!0},m=()=>{o.chooseBlockList=de.getBlocks()},u=e=>{o.showChooseList=e},g=e=>{o.chooseMouseIndex=e},p=e=>{o.chooseMouseIndex=-1},h=(e,t)=>{o.searchClickCanUse=!0,o.chooseSelectIndex=t,o.keyword=e,o.showChooseList=!1,o.searchImg=de.getBlocksPicture(e)},w=e=>{o.searchType!=e&&(de.clearSearchRect(),o.searchType=e,O())},S=()=>{2===o.searchType&&(a.commit("menuStore/setBlockSearchMenu",!1),a.commit("menuStore/setShowOneMenu",!1),r.$eventBus.emit("startChooseBlockAreaSub"),de.clearSearchRect(),O())},v=()=>{if(!o.searchClickCanUse)return;let e=[];o.lastSearch=o.keyword,e=de.findBlocksByName(o.keyword,2==o.searchType),o.searchResultShow=!0,o.searchResultList=e.map(e=>{const t=e.center||[],o=`X=${t[0]||0}, Y=${t[1]||0}`;return{id:e.index,content:o}}),o.searchResultNum=o.searchResultList.length||0,o.searchResultList&&o.searchResultList.length>0?o.selectResultIndex=0:o.selectResultIndex=-1,Object(n["nextTick"])(()=>{i.value&&(i.value.scrollTop=0)})},b=(e,t)=>{e||(o.selectResultIndex=o.selectResultIndex+t,i.value.scrollTop=24*o.selectResultIndex,de.showBlocks(o.lastSearch,o.searchResultList[o.selectResultIndex].id))},f=(e,t)=>{o.selectResultIndex=t,de.showBlocks(o.lastSearch,e.id)},C=()=>{x(),a.commit("menuStore/setMenuChoose",""),a.commit("menuStore/setShowOneMenu",!0),a.commit("menuStore/setBlockSearchMenu",!1)},O=()=>{o.searchResultShow=!1,o.searchResultNum=0,o.selectResultIndex=-1,o.searchResultList=[]},x=()=>{o.searchType=1,o.chooseAreaPoint={},o.findList=[],o.searchResultShow=!1,o.keyword="",o.lastSearch="",o.showChooseList=!1,o.searchResultNum=0,o.chooseMouseIndex=-1,o.chooseSelectIndex=-1,o.searchImg="",o.selectResultIndex=-1,o.searchClickCanUse=!1},y=Object(n["toRefs"])(o);return{...y,searchResultContent:i,chooseBlockListComp:l,menuStore:s,chooseBlockMouseEnterHandler:g,chooseBlockMouseLeaveHandler:p,chooseBlockClickHandler:h,showChooseListHandler:u,searchTypeChange:w,selectAreaHandler:S,searchList:v,closeHandler:C,otherViewClick:b,searchResultListClick:f,searchListInputHandler:d}}};o("d9fb");const nd=it()(od,[["render",td],["__scopeId","data-v-4a3d5aa9"]]);var id=nd;function ad(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("Bottom"),s=Object(n["resolveComponent"])("leftOrTop"),l=Object(n["resolveComponent"])("rightOrBottom");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,["paperCompare"==e.store.state.menuStore.menuChoose?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(s,{leftOrTopActive:e.compareModelStore.compareAddPosition},null,8,["leftOrTopActive"]),Object(n["createVNode"])(l,{leftOrTopActive:e.compareModelStore.compareAddPosition},null,8,["leftOrTopActive"])],512)),[[n["vShow"],"paperCompare"==e.store.state.menuStore.menuChoose]])}var rd=o("dbe8"),cd=o.n(rd),sd=o("b25b"),ld=o.n(sd),dd=o("d3d4"),md=o.n(dd);const ud=e=>(Object(n["pushScopeId"])("data-v-07e6132c"),e=e(),Object(n["popScopeId"])(),e),gd={class:"paper-compare-bottom"},pd=ud(()=>Object(n["createElementVNode"])("img",{src:cd.a,alt:""},null,-1)),hd=[pd],wd={class:"bottom-content"},Sd={key:0,src:ld.a},vd=["title"],bd={key:2,src:md.a},fd=["title"],Cd={class:"comparDiv"},Od={class:"compare-switch-text"},xd={key:0,class:"compare-div-wrap"},yd=["title"],Td={key:0,class:"compare-div-wrap"},jd=["title"],Md={key:0,class:"compare-div-wrap"},Ed=["title"];function kd(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("xd-switch"),s=Object(n["resolveComponent"])("compare-color");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",gd,[Object(n["createElementVNode"])("div",{class:"returen-btn",onClick:t[0]||(t[0]=(...t)=>e.closeHandler&&e.closeHandler(...t))},hd),Object(n["createElementVNode"])("div",wd,[Object(n["createElementVNode"])("div",{class:"comparDiv",onClick:t[1]||(t[1]=t=>e.positionChange("left"==e.leftOrTopActive?"top":"left")),style:{cursor:"pointer"}},["left"!=e.leftOrTopActive?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",Sd)):Object(n["createCommentVNode"])("",!0),"left"!=e.leftOrTopActive?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:1,class:"compare-switch-text",title:e.$t("layoutLeftAndRight")},Object(n["toDisplayString"])(e.$t("layoutLeftAndRight")),9,vd)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",bd)),"left"==e.leftOrTopActive?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:3,class:"compare-switch-text",title:e.$t("layoutTopAndBottom")},Object(n["toDisplayString"])(e.$t("layoutTopAndBottom")),9,fd)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",Cd,[Object(n["createVNode"])(c,{class:"switch compare-switch no-color",modelValue:e.angleViewSync,"onUpdate:modelValue":t[2]||(t[2]=t=>e.angleViewSync=t),onChange:e.angleViewSyncChange,title:e.$t("angleViewSync")},null,8,["modelValue","onChange","title"]),Object(n["createElementVNode"])("div",Od,Object(n["toDisplayString"])(e.$t("angleViewSync")),1)]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["comparDiv",{disable:!e.isCompared}])},[e.isCompared?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",xd)),Object(n["createVNode"])(c,{class:"switch compare-switch has-color",modelValue:e.sameArea,"onUpdate:modelValue":t[3]||(t[3]=t=>e.sameArea=t),onChange:e.sameAreaChange},null,8,["modelValue","onChange"]),Object(n["createElementVNode"])("span",{class:"comparDiv-color",style:Object(n["normalizeStyle"])({background:e.sameAreaColorVal}),onClick:t[4]||(t[4]=(...t)=>e.sameAreaColorToggle&&e.sameAreaColorToggle(...t))},null,4),Object(n["withDirectives"])(Object(n["createVNode"])(s,{ref:"sameAreaColorRef",onChooseColor:e.sameChooseColor,class:"comparDiv-color-set1"},null,8,["onChooseColor"]),[[n["vShow"],e.sameAreaColorShow]]),Object(n["createElementVNode"])("div",{class:"compare-switch-text",title:e.$t("sameArea")},Object(n["toDisplayString"])(e.$t("sameArea")),9,yd)],2),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["comparDiv",{disable:!e.isCompared}])},[e.isCompared?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Td)),Object(n["createVNode"])(c,{class:"switch compare-switch has-color",modelValue:e.excessArea,"onUpdate:modelValue":t[5]||(t[5]=t=>e.excessArea=t),onChange:e.excessAreaChange},null,8,["modelValue","onChange"]),Object(n["createElementVNode"])("span",{class:"comparDiv-color",style:Object(n["normalizeStyle"])({background:e.excessAreaColorVal}),onClick:t[6]||(t[6]=(...t)=>e.excessAreaColorToggle&&e.excessAreaColorToggle(...t))},null,4),Object(n["withDirectives"])(Object(n["createVNode"])(s,{ref:"excessAreaColorRef",onChooseColor:e.excessChooseColor,class:"comparDiv-color-set2"},null,8,["onChooseColor"]),[[n["vShow"],e.excessAreaColorShow]]),Object(n["createElementVNode"])("div",{class:"compare-switch-text",title:e.$t("excessArea")},Object(n["toDisplayString"])(e.$t("excessArea")),9,jd)],2),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["comparDiv",{disable:!e.isCompared}])},[e.isCompared?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Md)),Object(n["createVNode"])(c,{class:"switch compare-switch has-color",modelValue:e.lackArea,"onUpdate:modelValue":t[7]||(t[7]=t=>e.lackArea=t),onChange:e.lackAreaChange},null,8,["modelValue","onChange"]),Object(n["createElementVNode"])("span",{class:"comparDiv-color",style:Object(n["normalizeStyle"])({background:e.lackAreaColorVal}),onClick:t[8]||(t[8]=(...t)=>e.lackAreaColorToggle&&e.lackAreaColorToggle(...t))},null,4),Object(n["withDirectives"])(Object(n["createVNode"])(s,{ref:"lackAreaColorRef",onChooseColor:e.lackChooseColor,class:"comparDiv-color-set3"},null,8,["onChooseColor"]),[[n["vShow"],e.lackAreaColorShow]]),Object(n["createElementVNode"])("div",{class:"compare-switch-text",title:e.$t("lackArea")},Object(n["toDisplayString"])(e.$t("lackArea")),9,Ed)],2),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["start-compare",{disable:!e.compareModelStore.hasOtherModel}]),onClick:t[9]||(t[9]=(...t)=>e.startCompareModel&&e.startCompareModel(...t))},Object(n["toDisplayString"])(e.$t("startCompare")),3)])])}function Dd(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t[0]||(t[0]=(...e)=>i.switchVal&&i.switchVal(...e)),class:Object(n["normalizeClass"])(["my-switch",o.modelValue?"open":"close"])},null,2)}var Ad={name:"",props:{modelValue:{type:Boolean}},setup(e,t){const o=Object(n["reactive"])({}),{proxy:i}=Object(n["getCurrentInstance"])();Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const a=()=>{i.$emit("update:modelValue",!e.modelValue),t.emit("change",!e.modelValue)},r=Object(n["toRefs"])(o);return{...r,switchVal:a}},methods:{}};o("de5a");const Bd=it()(Ad,[["render",Dd],["__scopeId","data-v-fcab537c"]]);var Nd=Bd;function Id(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("color-picker");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"c-color-content",onMousedown:t[2]||(t[2]=Object(n["withModifiers"])(()=>{},["stop"]))},[Object(n["createVNode"])(c,{onPureColorChange:i.colorChange,pickerType:"chrome",pureColor:e.selectColor,"onUpdate:pureColor":t[0]||(t[0]=t=>e.selectColor=t),isWidget:!0,disableHistory:!0,roundHistory:!0,disableAlpha:!0,format:"rgb"},null,8,["onPureColorChange","pureColor"]),Object(n["createElementVNode"])("div",{class:"confrim_btn",onClick:t[1]||(t[1]=Object(n["withModifiers"])((...e)=>i.chooseColor&&i.chooseColor(...e),["stop"]))},Object(n["toDisplayString"])(e.$t("sure")),1)],32)}var Ld=o("b4f6"),Vd=(o("839c"),{name:"",components:{ColorPicker:Ld["a"]},setup(e,{emit:t}){const o=Object(n["reactive"])({selectColor:"rgb(0, 0, 0)"}),i=()=>{t("chooseColor",o.selectColor)},a=e=>{},r=e=>{o.selectColor=e},c=Object(n["toRefs"])(o);return{chooseColor:i,colorChange:a,changeSelectColor:r,...c}}});o("fdd5");const Ud=it()(Vd,[["render",Id],["__scopeId","data-v-8bb27224"]]);var _d=Ud,Pd=Object(n["defineComponent"])({components:{xdSwitch:Nd,compareColor:_d},setup(e,{emit:t}){const{proxy:o,appContext:i}=Object(n["getCurrentInstance"])(),a=Object(n["ref"])(),r=Object(n["ref"])(),s=Object(n["ref"])(),l=Object(n["reactive"])({leftOrTopActive:"left",angleViewSync:!0,sameArea:!0,sameAreaColorVal:"rgb(153, 153, 153)",sameAreaColorShow:!1,excessArea:!0,excessAreaColorVal:"rgb(212, 48, 48)",excessAreaColorShow:!1,lackArea:!0,lackAreaColorVal:"rgb(0, 186, 130)",lackAreaColorShow:!1,isCompared:!1,strictMode:!1}),d=Object(c["useStore"])(),{compareModelStore:m,tagStore:u,modelStore:g}=d.state;Object(n["nextTick"])(()=>{"left"==l.leftOrTopActive?de.compareUtil&&de.compareUtil.setModelViewport(!0):de.compareUtil&&de.compareUtil.setModelViewport(!1),D()}),o.$eventBus.on("beginCompareBack",e=>{d.commit("setMsgLoadingPopShow",!0),d.commit("setMsgLoadingContent",o.$t("compareLoading"))}),o.$eventBus.on("endCompareBack",e=>{d.commit("setMsgLoadingPopShow",!1),l.isCompared=!0}),o.$eventBus.on("rigthClickEvent",e=>{e.showPop||k()});const p=()=>{d.commit("menuStore/setShowManyConfig",!0),d.commit("menuStore/setShowOneMenu",!0),d.commit("menuStore/setMenuChoose",""),d.commit("compareModelStore/setCompareAddPosition","left");let e=g.suportLineWeight;e&&de._viewer.setLineWidth(e),u.tagShow&&(de.setAnnotationsVisibility(1),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0)),de.selectObjUtil&&de.selectObjUtil.setOpSelectType(!0),de.measureUtil&&de.measureUtil.setMeasureVisible(!0),de.compareUtil&&de.compareUtil.clearCompare(),de.compareUtil&&de.compareUtil.deInitModelCompare(),nd_viewCtrl&&nd_viewCtrl.exitModelCompare&&nd_viewCtrl.exitModelCompare();let t=g.rotationAngle[g.nowConfig]||0;de.storeViewUtil&&de.storeViewUtil.setCameraRotate(t)},h=e=>{l.leftOrTopActive!=e&&(l.leftOrTopActive=e,d.commit("compareModelStore/setCompareAddPosition",e),"left"==l.leftOrTopActive?de.compareUtil&&de.compareUtil.setModelViewport(!0):de.compareUtil&&de.compareUtil.setModelViewport(!1))},w=e=>{de.compareUtil&&de.compareUtil.setModelSyncView(e)},S=e=>{de.compareUtil&&de.compareUtil.setUseStrict(e)},v=()=>{l.sameAreaColorShow=!l.sameAreaColorShow,l.excessAreaColorShow=!1,l.lackAreaColorShow=!1},b=()=>{l.excessAreaColorShow=!l.excessAreaColorShow,l.sameAreaColorShow=!1,l.lackAreaColorShow=!1},f=()=>{l.lackAreaColorShow=!l.lackAreaColorShow,l.sameAreaColorShow=!1,l.excessAreaColorShow=!1},C=e=>{l.sameAreaColorVal=e,k(),de.compareUtil&&de.compareUtil.setSameAreaInfo(!!l.sameArea,j(l.sameAreaColorVal),!0)},O=e=>{l.excessAreaColorVal=e,k(),de.compareUtil&&de.compareUtil.setMoreAreaInfo(!!l.excessArea,j(l.excessAreaColorVal))},x=e=>{l.lackAreaColorVal=e,k(),de.compareUtil&&de.compareUtil.setLessAreaInfo(!!l.lackArea,j(l.lackAreaColorVal))},y=e=>{de.compareUtil&&de.compareUtil.setSameAreaInfo(e,j(l.sameAreaColorVal),!0)},T=e=>{de.compareUtil&&de.compareUtil.setMoreAreaInfo(e,j(l.excessAreaColorVal))},M=e=>{de.compareUtil&&de.compareUtil.setLessAreaInfo(e,j(l.lackAreaColorVal))},E=()=>{if(!m.hasOtherModel)return!1;de.compareUtil&&de.compareUtil.processCompare()},k=()=>{l.sameAreaColorShow=!1,l.excessAreaColorShow=!1,l.lackAreaColorShow=!1},D=()=>{a&&a.value&&a.value.changeSelectColor("rgb(212, 48, 48)"),r&&r.value&&r.value.changeSelectColor("rgb(0, 186, 130)"),s&&s.value&&s.value.changeSelectColor("rgb(153, 153, 153)")},A=Object(n["toRefs"])(l);return{...A,closeHandler:p,positionChange:h,angleViewSyncChange:w,sameAreaColorToggle:v,excessAreaColorToggle:b,lackAreaColorToggle:f,sameChooseColor:C,excessChooseColor:O,lackChooseColor:x,sameAreaChange:y,excessAreaChange:T,lackAreaChange:M,startCompareModel:E,compareModelStore:m,tagStore:u,modelStore:g,strictModeChange:S,resetData:D,excessAreaColorRef:a,lackAreaColorRef:r,sameAreaColorRef:s}}});o("caef");const Fd=it()(Pd,[["render",kd],["__scopeId","data-v-07e6132c"]]);var Rd=Fd;const zd=["title"],$d=["title"],Hd={class:"cfg-content"},Gd=["onClick"],Wd={class:"cfg-bottom"},qd=["title"];function Kd(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["paper-compare-left-or-top",{"is-top":"top"===e.leftOrTopActive}])},[Object(n["createElementVNode"])("div",{class:"title",title:e.compareModelStore.compareModelTitle[0]},Object(n["toDisplayString"])(e.compareModelStore.compareModelTitle[0]),9,zd),e.store.state.modelStore.configs.length>1&&e.compareModelStore.hasOtherModel?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"ndp2-my-page config-switch",onContextmenu:t[1]||(t[1]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"]))},[Object(n["createElementVNode"])("div",{class:"cfg-top",onClick:t[0]||(t[0]=(...t)=>e.showCfgList&&e.showCfgList(...t))},[Object(n["createElementVNode"])("p",{title:e.configList[e.store.state.modelStore.nowConfig]&&e.configList[e.store.state.modelStore.nowConfig].Name},Object(n["toDisplayString"])(e.$t("pcNowConfig"))+"："+Object(n["toDisplayString"])(e.configList[e.store.state.modelStore.nowConfig]&&e.configList[e.store.state.modelStore.nowConfig].Name),9,$d),Object(n["createElementVNode"])("img",{class:Object(n["normalizeClass"])(["menu-ctrl-icon",{open:e.showCfgContent}]),src:ia.a,alt:""},null,2)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Hd,[Object(n["createElementVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.configList,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"cfg-list",key:o,onClick:t=>e.chooseCfg(o)},[Object(n["createElementVNode"])("div",Wd,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(e.store.state.modelStore.nowConfig==o?"icon-radio-checked":"icon-radio-nocheck")},null,2),Object(n["createElementVNode"])("span",{title:t.Name,class:Object(n["normalizeClass"])({light:e.store.state.modelStore.nowConfig==o})},Object(n["toDisplayString"])(t.Name),11,qd)])],8,Gd))),128))])],512),[[n["vShow"],e.showCfgContent]])],32)):Object(n["createCommentVNode"])("",!0)],2)}var Zd=Object(n["defineComponent"])({props:{leftOrTopActive:{type:String,default:"left"}},setup(e){const{proxy:t,appContext:o}=Object(n["getCurrentInstance"])(),i=Object(c["useStore"])(),{compareModelStore:a}=i.state,r=Object(n["reactive"])({showCfgContent:!1,configList:[]});Object(n["watch"])(()=>i.state.modelStore.configs,e=>{r.configList=e});const s=()=>{r.showCfgContent=!r.showCfgContent},l=e=>{if(e==i.state.modelStore.nowConfig)return!1;i.commit("modelStore/changeNewMultipleCfg",e),i.commit("setMsgLoadingPopShow",!0),i.commit("setMsgLoadingContent",t.$t("compareLoading")),de.compareUtil&&de.compareUtil.loadModel(r.configList[e].modejsPath,{},0),r.showCfgContent=!1};return{...Object(n["toRefs"])(r),store:i,compareModelStore:a,showCfgList:s,chooseCfg:l}}});o("3c0a");const Yd=it()(Zd,[["render",Kd],["__scopeId","data-v-36ecb010"]]);var Jd=Yd,Xd=o("766e"),Qd=o.n(Xd),em=o("11e5"),tm=o.n(em),om=o("8030"),nm=o.n(om),im=o("7de0"),am=o.n(im);const rm=e=>(Object(n["pushScopeId"])("data-v-392f6cc1"),e=e(),Object(n["popScopeId"])(),e),cm=rm(()=>Object(n["createElementVNode"])("img",{class:"paper",src:Qd.a,alt:""},null,-1)),sm=rm(()=>Object(n["createElementVNode"])("img",{class:"paper-add",src:tm.a,alt:""},null,-1)),lm={class:"add-paper-txt"},dm={key:0,class:"title_2 title_common"},mm=["title"],um={class:"other-model-btns"},gm=rm(()=>Object(n["createElementVNode"])("img",{src:nm.a,alt:""},null,-1)),pm=["title"],hm={class:"cfg-content"},wm=["onClick"],Sm={class:"cfg-bottom"},vm=["title"];function bm(e,t,o,i,a,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["paper-compare-right-or-bottom",{"is-top":"top"===e.leftOrTopActive}])},[Object(n["createElementVNode"])("div",{class:"content-wrap",onClick:t[0]||(t[0]=(...t)=>e.addPaper&&e.addPaper(...t))},[cm,sm,Object(n["createElementVNode"])("span",lm,Object(n["toDisplayString"])(e.$t("compareAddModel")),1)])],2),[[n["vShow"],!e.compareModelStore.hasOtherModel]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["compare-model-title",{"is-top-title":"top"===e.leftOrTopActive}])},[e.compareModelStore.compareModelTitle[1]?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",dm,[Object(n["createElementVNode"])("span",{title:e.compareModelStore.compareModelTitle[1]},Object(n["toDisplayString"])(e.compareModelStore.compareModelTitle[1]),9,mm),Object(n["createElementVNode"])("div",um,[Object(n["createElementVNode"])("div",{class:"add-model-btn",onClick:t[1]||(t[1]=(...t)=>e.addPaper&&e.addPaper(...t))},[gm,Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$t("compareAddModel")),1)]),Object(n["createElementVNode"])("img",{onClick:t[2]||(t[2]=(...t)=>e.cancelOtherCompare&&e.cancelOtherCompare(...t)),src:am.a,alt:""})])])):Object(n["createCommentVNode"])("",!0),e.compareModelStore.configs.length>1&&e.compareModelStore.hasOtherModel?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:1,class:"ndp2-my-page config-switch",onContextmenu:t[4]||(t[4]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"]))},[Object(n["createElementVNode"])("div",{class:"cfg-top",onClick:t[3]||(t[3]=(...t)=>e.showCfgList&&e.showCfgList(...t))},[Object(n["createElementVNode"])("p",{title:e.configList[e.compareModelStore.nowConfig]&&e.configList[e.compareModelStore.nowConfig].Name},Object(n["toDisplayString"])(e.$t("pcNowConfig"))+"："+Object(n["toDisplayString"])(e.configList[e.compareModelStore.nowConfig]&&e.configList[e.compareModelStore.nowConfig].Name),9,pm),Object(n["createElementVNode"])("img",{class:Object(n["normalizeClass"])(["menu-ctrl-icon",{open:e.showCfgContent}]),src:ia.a,alt:""},null,2)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",hm,[Object(n["createElementVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.configList,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"cfg-list",key:o,onClick:t=>e.chooseCfg(o)},[Object(n["createElementVNode"])("div",Sm,[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(e.compareModelStore.nowConfig==o?"icon-radio-checked":"icon-radio-nocheck")},null,2),Object(n["createElementVNode"])("span",{title:t.Name,class:Object(n["normalizeClass"])({light:e.compareModelStore.nowConfig==o})},Object(n["toDisplayString"])(t.Name),11,vm)])],8,wm))),128))])],512),[[n["vShow"],e.showCfgContent]])],32)):Object(n["createCommentVNode"])("",!0)],2),[[n["vShow"],e.compareModelStore.hasOtherModel]])],64)}var fm=Object(n["defineComponent"])({props:{leftOrTopActive:{type:String,default:"left"}},setup(){const{proxy:e,appContext:t}=Object(n["getCurrentInstance"])(),o=Object(c["useStore"])(),{compareModelStore:i}=o.state,a=Object(n["reactive"])({showCfgContent:!1,configList:[]});Object(n["watch"])(()=>i.configs,e=>{a.configList=e});const r=()=>{a.showCfgContent=!a.showCfgContent},s=t=>{if(t==i.nowConfig)return!1;o.commit("setMsgLoadingPopShow",!0),o.commit("setMsgLoadingContent",e.$t("compareLoading")),o.commit("compareModelStore/changeMultipleCfg",t),de.compareUtil&&de.compareUtil.loadModel(a.configList[t].mPath,{},1),a.showCfgContent=!1},l=()=>{te(["compareInsertModel"])&&e.$eventBus.emit("MsgTipEvent",e.$t("addInterfaceTips")),nd_viewCtrl&&nd_viewCtrl.compareInsertModel&&nd_viewCtrl.compareInsertModel()},d=()=>{de.compareUtil&&de.compareUtil.clearCompare(),o.commit("compareModelStore/setHasOtherModel",!1),o.commit("compareModelStore/setCompareModelUrl","")};return e.$eventBus.on("addModelCallback",t=>{if(!t)return e.$eventBus.emit("MsgTipEvent",e.$t("compareErrorTips")),!1;o.commit("setMsgLoadingPopShow",!0),o.commit("setMsgLoadingContent",e.$t("compareLoading")),de.compareUtil&&de.compareUtil.loadModel(t,{},1),o.commit("compareModelStore/setCompareModelUrl",t)}),e.$eventBus.on("initPreConfigs",e=>{let t=x(e);o.commit("compareModelStore/initModelInfo",t)}),e.$eventBus.on("loadSuccessBack",()=>{o.commit("setMsgLoadingPopShow",!1),o.commit("compareModelStore/setHasOtherModel",!0);let e=de.compareUtil&&de.compareUtil.getModelNames();o.commit("compareModelStore/setCompareModelTitle",e||[])}),e.$eventBus.on("modelVersionErrorBack",()=>{o.commit("setMsgLoadingPopShow",!1),e.$eventBus.emit("MsgTipEvent",e.$t("compareVersionErrorTips")),o.commit("compareModelStore/setHasOtherModel",!1),o.commit("compareModelStore/setCompareModelUrl","")}),{...Object(n["toRefs"])(a),addPaper:l,compareModelStore:i,cancelOtherCompare:d,showCfgList:r,chooseCfg:s}}});o("f57a");const Cm=it()(fm,[["render",bm],["__scopeId","data-v-392f6cc1"]]);var Om=Cm,xm=Object(n["defineComponent"])({components:{Bottom:Rd,leftOrTop:Jd,rightOrBottom:Om},setup(){const e=Object(c["useStore"])(),{proxy:t,appContext:o}=Object(n["getCurrentInstance"])(),{compareModelStore:i}=e.state;return{store:e,compareModelStore:i}}});o("28d0");const ym=it()(xm,[["render",ad],["__scopeId","data-v-7b636c26"]]);var Tm=ym,jm=o("e316"),Mm=o.n(jm),Em=o("83be"),km=o.n(Em),Dm=o("cd9a"),Am=o.n(Dm),Bm=o("8a1e"),Nm=o.n(Bm),Im=o("0d1c"),Lm=o.n(Im),Vm=o("6f39"),Um=o.n(Vm),_m=o("4856"),Pm=o.n(_m),Fm=o("dd86"),Rm=o.n(Fm),zm=o("b02b"),$m=o.n(zm),Hm=o("f181"),Gm=o.n(Hm),Wm=o("b9ac"),qm=o.n(Wm),Km=o("e281"),Zm=o.n(Km),Ym=o("769d"),Jm=o.n(Ym),Xm=o("65e8"),Qm=o.n(Xm),eu=o("43ea"),tu=o.n(eu),ou=o("f54c"),nu=o.n(ou),iu=o("ed03"),au=o.n(iu),ru=o("244a"),cu=o.n(ru),su=o("9289"),lu=o.n(su),du=o("0eca"),mu=o.n(du),uu=o("82e8"),gu=o.n(uu),pu=o("5e4d"),hu=o.n(pu),wu=o("ca8f"),Su=o.n(wu),vu=o("ec63"),bu=o.n(vu),fu=o("4e53"),Cu=o.n(fu),Ou=o("4919"),xu=o.n(Ou),yu=o("905c"),Tu=o.n(yu),ju=o("26d4"),Mu=o.n(ju);const Eu=e=>(Object(n["pushScopeId"])("data-v-271cdf50"),e=e(),Object(n["popScopeId"])(),e),ku=["src","title"],Du=["src","title"],Au=["src","title"],Bu=["src","title"],Nu=Eu(()=>Object(n["createElementVNode"])("div",{class:"measureS-line"},null,-1)),Iu={class:"measureS-r-img"},Lu=["src"],Vu={key:0,class:"measureS-r2-img"},Uu=["src"],_u={key:3,class:"measureSetting-right"},Pu=Eu(()=>Object(n["createElementVNode"])("div",{class:"measureS-line"},null,-1)),Fu={class:"measureS-r-img"},Ru=["src"],zu={class:"measureS-r2-img"},$u=["src"],Hu={key:0,class:"selFontSize"},Gu={class:"selF_left setting-bo-customNum",style:{"margin-left":"8px",width:"86px"}},Wu={key:1,class:"selitem",style:{height:"41px",padding:"5px 12px"}},qu=["onClick"],Ku=["src"],Zu={key:2,class:"selitem"},Yu=["onClick"],Ju={key:3,class:"selitem",style:{height:"41px",padding:"5px 12px"}},Xu=["onClick"],Qu=["src"];var eg={__name:"measureSetting",props:{measureUuid:{type:String,default:""}},setup(e,{expose:t}){const o=Object(n["getCurrentInstance"])(),i=Object(c["useStore"])(),a=e,r=Object(n["reactive"])({isLoadSetting:!1,isInChoose:!1,measureType:"",selectSettingType:0,measureStyle:{editString:"",fontSacleType:1,fontSize:"",color:1540323,width:2,arrow:1,type:"",isBlack:!0},lineWidthList:[{imgUrl:Rm.a,selImgUrl:hu.a,width:1},{imgUrl:$m.a,selImgUrl:Su.a,width:2},{imgUrl:Gm.a,selImgUrl:bu.a,width:3}],arrowsList:[{imgUrl:Lm.a,selImgUrl:lu.a,arrowTxt:1},{imgUrl:Pm.a,selImgUrl:gu.a,arrowTxt:2},{imgUrl:Um.a,selImgUrl:mu.a,arrowTxt:3}],colorList:[{color:"1780E3",index:parseInt("1780E3",16)},{color:"FFD900",index:parseInt("FFD900",16)},{color:"D43030",index:parseInt("D43030",16)},{color:"43CF7C",index:parseInt("43CF7C",16)},{color:"AC33C1",index:parseInt("AC33C1",16)},{color:"FFFFFF",index:parseInt("FFFFFF",16)},{color:"000000",index:parseInt("000000",16)}],editString:"",showLastStep:!1,showAccomplish:!1,showContinuous:!1,isShowRadius:!1,inFacade:!1,isRadius:!1}),s=()=>{setTimeout(()=>{r.isLoadSetting=!0},100)};s();const l=()=>{const e=document.querySelector("#mea_prompt");e&&(e.style.display="none"),$(".ActiveCoordinate").hide()},d=()=>{a.measureUuid?de.measureUtil&&de.measureUtil.setMeasureRadiusType(a.measureUuid,!r.isRadius):de.measureUtil&&de.measureUtil.setMeasureRadiusType("",!r.isRadius),r.isRadius=!r.isRadius},m=e=>{if(r.selectSettingType==e)return r.selectSettingType=0,!1;if(r.selectSettingType=e,a.measureUuid){let e=de.measureUtil&&de.measureUtil.getMeasureStyle(a.measureUuid);r.measureStyle={},r.measureStyle=e,r.measureStyle.fontSize=parseFloat(r.measureStyle.fontSize);let t=JSON.parse(JSON.stringify(e));r.editString=t.editString}else{let e=de.measureUtil&&de.measureUtil.getMeasureStyle();r.measureStyle={},r.measureStyle=e,1==r.measureStyle.fontSacleType&&(r.measureStyle.fontSize="")}1==e&&1!=r.measureStyle.fontSacleType&&setTimeout(()=>{let e=document.getElementById("newMeasureInput");e.focus()},50)},u=e=>{1!=e&&2!=e||(r.measureStyle.fontSacleType=e,1==e&&(r.measureStyle.fontSize="")),r.selectSettingType="";let t=JSON.parse(JSON.stringify(r.measureStyle));t.editString!=r.editString&&r.editString||(t.editString=""),2==e&&(t.fontSize=parseFloat(t.fontSize)&&parseFloat(t.fontSize)>0?parseFloat(t.fontSize):18),a.measureUuid?de.measureUtil&&de.measureUtil.setMeasureStyle(a.measureUuid,t):de.measureUtil&&de.measureUtil.setMeasureStyle("",t,!0)},g=()=>{r.selectSettingType=""},p=e=>{r.measureStyle.color=e.index,u(3)},h=e=>{r.measureStyle.width=e.width,u(4)},w=e=>{r.measureStyle.arrow=e.arrowTxt,u(5)},S=()=>{r.showLastStep&&de.measureUtil&&de.measureUtil.lastStepContinuous()},v=()=>{r.showAccomplish&&de.measureUtil&&de.measureUtil.continuousAccomplish()};return o.proxy.$eventBus.on("showRadiusType",e=>{}),o.proxy.$eventBus.on("selMeasureType",e=>{r.measureType=e.measureType}),o.proxy.$eventBus.on("MeasureEscapeBack",()=>{r.selectSettingType="",r.measureType="",de.measureUtil&&de.measureUtil.setMeasureOpType("")}),o.proxy.$eventBus.on("deSelMeasureBack",()=>{r.selectSettingType="",r.measureType=""}),o.proxy.$eventBus.on("AddMeasureFinishBack",e=>{let t=!1,o=de.measureUtil&&de.measureUtil.getMeasureData(e.data.uuid);const n=i.state.modelStore.allMeasure;n.forEach(o=>{o.uuid==e.data.uuid&&(t=!0)}),t?(i.commit("modelStore/revampMeasure",o),nd_viewCtrl.measureChange&&nd_viewCtrl.measureChange({type:"edit",data:o})):(i.commit("modelStore/setAddMeasure",o),nd_viewCtrl.measureChange&&nd_viewCtrl.measureChange({type:"add",data:o}))}),o.proxy.$eventBus.on("AddContinuousFinishBack",e=>{let t=de.measureUtil&&de.measureUtil.getMeasureDataArray(e.data.uuids);t.forEach(e=>{i.commit("modelStore/setAddMeasure",e)}),nd_viewCtrl.measureChange&&nd_viewCtrl.measureChange({type:"addContinuous",data:t})}),o.proxy.$eventBus.on("changeMeasureDataLengthBack",e=>{r.showContinuous=e.isShowButton,0!=e.length?r.showLastStep=!0:r.showLastStep=!1,"contourarea"==e.type?e.length>=3?r.showAccomplish=!0:r.showAccomplish=!1:e.length>=2?r.showAccomplish=!0:r.showAccomplish=!1}),o.proxy.$eventBus.on("MeasureRadiusTypeBack",e=>{r.isRadius=e.data.isRadius,r.isShowRadius=e.data.isShowRadius}),o.proxy.$eventBus.on("showRadiusType",e=>{r.isRadius=e.data.style.isRadius,r.isShowRadius=!0}),Object(n["watch"])(()=>i.state.menuStore.menuChoose2,(e,t)=>{r.selectSettingType="",e?(r.isInChoose=!0,r.measureType=e):(r.isInChoose=!1,r.measureType=""),r.inFacade="facade"==e}),Object(n["watch"])(()=>i.state.menuStore.menuChoose3,(e,t)=>{r.selectSettingType="",e?(r.isInChoose=!0,r.measureType=e):(r.isInChoose=!1,r.measureType="")}),Object(n["watch"])(()=>a.measureUuid,(e,t)=>{e||r.isInChoose||(r.measureType="",r.isShowRadius=!1),"-1"==e&&(r.measureType="",r.isShowRadius=!1)}),Object(n["onUnmounted"])(()=>{o.proxy.$eventBus.off("MeasureRadiusTypeBack"),o.proxy.$eventBus.off("showRadiusType"),o.proxy.$eventBus.off("selMeasureType"),o.proxy.$eventBus.off("MeasureEscapeBack"),o.proxy.$eventBus.off("deSelMeasureBack"),o.proxy.$eventBus.off("AddMeasureFinishBack"),o.proxy.$eventBus.off("AddContinuousFinishBack"),o.proxy.$eventBus.off("changeMeasureDataLengthBack")}),t({reset:g}),(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"measureSetting",onMouseenter:l},[Object(n["createElementVNode"])("img",{src:1==r.selectSettingType?Object(n["unref"])(au.a):Object(n["unref"])(Am.a),title:e.$t("measureFontSize"),class:"measureSimg",onClick:t[0]||(t[0]=e=>m(1))},null,8,ku),"coordinate"!=r.measureType&&"contourarea"!=r.measureType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,src:2==r.selectSettingType?Object(n["unref"])(cu.a):Object(n["unref"])(Nm.a),alt:"",title:e.$t("measureLineWidth"),class:"measureSimg lf",onClick:t[1]||(t[1]=e=>m(2))},null,8,Du)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("img",{src:3==r.selectSettingType?Object(n["unref"])(nu.a):Object(n["unref"])(km.a),alt:"",title:e.$t("measureColor"),class:"measureSimg lf",onClick:t[2]||(t[2]=e=>m(3))},null,8,Au),"coordinate"!=r.measureType&&"radius"!=r.measureType&&"LineAngle"!=r.measureType&&"contourarea"!=r.measureType&&"facade"!=r.measureType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,src:4==r.selectSettingType?Object(n["unref"])(tu.a):Object(n["unref"])(Mm.a),alt:"",title:e.$t("measureArrowStyle"),class:"measureSimg lf",onClick:t[3]||(t[3]=e=>m(4))},null,8,Bu)):Object(n["createCommentVNode"])("",!0),(r.inFacade||r.showContinuous)&&(r.measureType||a.measureUuid)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:2,class:"measureSetting-right",style:Object(n["normalizeStyle"])({width:r.inFacade?"40px":"80px"})},[Nu,Object(n["createElementVNode"])("div",Iu,[Object(n["createElementVNode"])("img",{onClick:t[4]||(t[4]=e=>S()),src:r.showLastStep?Object(n["unref"])(Jm.a):Object(n["unref"])(qm.a),alt:""},null,8,Lu)]),r.inFacade?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Vu,[Object(n["createElementVNode"])("img",{onClick:t[5]||(t[5]=e=>v()),src:r.showAccomplish?Object(n["unref"])(Qm.a):Object(n["unref"])(Zm.a),alt:""},null,8,Uu)]))],4)):Object(n["createCommentVNode"])("",!0),r.isShowRadius&&(r.measureType||a.measureUuid)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",_u,[Pu,Object(n["createElementVNode"])("div",Fu,[Object(n["createElementVNode"])("img",{onClick:d,src:r.isRadius?Object(n["unref"])(Mu.a):Object(n["unref"])(Tu.a),alt:""},null,8,Ru)]),Object(n["createElementVNode"])("div",zu,[Object(n["createElementVNode"])("img",{onClick:d,src:r.isRadius?Object(n["unref"])(Cu.a):Object(n["unref"])(xu.a),alt:""},null,8,$u)])])):Object(n["createCommentVNode"])("",!0)],544),[[n["vShow"],r.isLoadSetting]]),1==r.selectSettingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Hu,[Object(n["createElementVNode"])("div",{onClick:t[6]||(t[6]=e=>u(1)),style:{padding:"0 4px"},class:Object(n["normalizeClass"])(1==r.measureStyle.fontSacleType?"selF_left pointer":"selF_left_no pointer")},Object(n["toDisplayString"])(e.$t("measureAdaptive")),3),Object(n["createElementVNode"])("div",Gu,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"newMeasureInput",onFocus:t[7]||(t[7]=e=>r.measureStyle.fontSacleType=2),"onUpdate:modelValue":t[8]||(t[8]=e=>r.measureStyle.fontSize=e),onKeyup:t[9]||(t[9]=Object(n["withKeys"])(e=>u(2),["enter"])),type:"number"},null,544),[[n["vModelText"],r.measureStyle.fontSize]])])])):Object(n["createCommentVNode"])("",!0),2==r.selectSettingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Wu,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.lineWidthList,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t=>h(e),class:"selitem-lineWidth"},[Object(n["createElementVNode"])("img",{src:r.measureStyle.width==e.width?e.selImgUrl:e.imgUrl,alt:""},null,8,Ku)],8,qu))),256))])):Object(n["createCommentVNode"])("",!0),3==r.selectSettingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Zu,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.colorList,(e,t)=>Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t=>p(e),class:"setting-bos-style",style:Object(n["normalizeStyle"])({border:"16777215"==e.index?"1px solid #ccc":"none"})},[Object(n["createElementVNode"])("span",{class:"setting-bos-item",style:Object(n["normalizeStyle"])({background:"#"+e.color})},[r.measureStyle.color==e.index?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,style:Object(n["normalizeStyle"])({border:"16777215"==e.index?"1px solid #ccc":"1px solid #fff"}),class:"setting-bosi-loop"},null,4)):Object(n["createCommentVNode"])("",!0)],4)],12,Yu)),[[n["vShow"],r.measureStyle.isBlack&&6!=t||!r.measureStyle.isBlack&&5!=t]])),256))])):Object(n["createCommentVNode"])("",!0),4==r.selectSettingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ju,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.arrowsList,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t=>w(e),class:"selitem-lineWidth"},[Object(n["createElementVNode"])("img",{src:r.measureStyle.arrow==e.arrowTxt?e.selImgUrl:e.imgUrl,alt:""},null,8,Qu)],8,Xu))),256))])):Object(n["createCommentVNode"])("",!0)],64))}};o("798d");const tg=it()(eg,[["__scopeId","data-v-271cdf50"]]);var og=tg,ng=o("02df"),ig=o.n(ng);const ag=e=>(Object(n["pushScopeId"])("data-v-7ac9ef1b"),e=e(),Object(n["popScopeId"])(),e),rg={class:"modelview-save-top"},cg=ag(()=>Object(n["createElementVNode"])("div",{style:{"background-color":"#f1f1f1",width:"100%",height:"1px","margin-bottom":"10px"}},null,-1)),sg=ag(()=>Object(n["createElementVNode"])("img",{class:"add-modelview-icon",src:ig.a,alt:""},null,-1)),lg=ag(()=>Object(n["createElementVNode"])("div",{style:{"background-color":"#f1f1f1",width:"100%",height:"1px","margin-top":"10px"}},null,-1)),dg=["id","onUpdate:modelValue","onBlur","onKeyup"],mg=["onDblclick"],ug={key:2,class:"img-icon"},gg=["onMousedown"],pg=ag(()=>Object(n["createElementVNode"])("i",{alt:""},null,-1)),hg=[pg],wg=["onClick"],Sg=ag(()=>Object(n["createElementVNode"])("i",{alt:""},null,-1)),vg=[Sg],bg={key:3},fg=["onClick"],Cg=["title","onClick"],Og=["onClick","onMousedown","onMouseup"],xg=["src"];function yg(e,t,o,i,a,r){const c=Object(n["resolveComponent"])("modelviewConfirm");return"addModelview"==i.store.state.menuStore.menuChoose?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,onClick:t[3]||(t[3]=(...e)=>i.exitMeasure&&i.exitMeasure(...e)),class:Object(n["normalizeClass"])(["ndp2-my-page modelview-save",{"modelview-top":i.store.state.modelStore.configs.length<2,"no-data":i.store.state.modelStore.nowMVData.length<3}]),onContextmenu:t[4]||(t[4]=Object(n["withModifiers"])(()=>{},["right","stop","prevent"]))},[Object(n["createElementVNode"])("div",rg,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.$t("modelview")),1),Object(n["createElementVNode"])("img",{class:"close-modelview-icon",src:yn.a,alt:"",onClick:t[0]||(t[0]=e=>i.closeModelview())})]),cg,Object(n["createElementVNode"])("div",{class:"modelview-add-btn",onClick:t[1]||(t[1]=e=>i.addModelview())},[sg,Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.$t("addModelview")),1)]),lg,Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["modelview-content",{"no-data":i.store.state.modelStore.nowMVData.length<3}]),ref:"scrollRef"},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i.store.state.modelStore.nowMVData,(o,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["modelview-card",{"modelview-card-left":a%2==0,"modelview-card-right":a%2!=0,"modelview-card-selected":i.store.state.modelStore.selectIndexMV==a}]),key:a},[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(o.edit?"modelview-card-top-edit":"modelview-card-top")},[o.edit?Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("input",{key:0,id:o.uuid,type:"text","onUpdate:modelValue":e=>o.rename=e,maxlength:"15",onBlur:e=>i.editModelviewRight(a),onKeyup:Object(n["withKeys"])(e=>i.handleEnter(a),["enter"])},null,40,dg)),[[n["vModelText"],o.rename]]):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:1,class:"dbclick-layer",onDblclick:e=>i.editModelview(a)},Object(n["toDisplayString"])(o.rename||""),41,mg)),o.edit?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",ug,[Object(n["createElementVNode"])("span",{class:"img-icon-cancle",onMousedown:e=>i.editModelviewCancle(a)},hg,40,gg),Object(n["createElementVNode"])("span",{class:"img-icon-right",onClick:e=>i.editModelviewRight(a)},vg,8,wg)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",bg,[Object(n["createElementVNode"])("i",{class:"img-icon-delete",onClick:e=>i.deleteModelview(a)},null,8,fg),Object(n["createElementVNode"])("i",{title:e.$t("settingModelview"),class:Object(n["normalizeClass"])(o.isLock?"modelview-isLock":"modelview-noLock"),alt:"",onClick:e=>i.lockModelview(a)},null,10,Cg)]))],2),Object(n["createElementVNode"])("div",{class:"modelview-list-pic",onClick:e=>i.chooseModelview(a),onMousedown:e=>i.touchDown(a),onMouseup:e=>i.touchUp(a)},[Object(n["createElementVNode"])("img",{src:o.modelviewImg,onError:t[2]||(t[2]=(...e)=>i.imgLoadError&&i.imgLoadError(...e)),alt:"text"},null,40,xg)],40,Og)],2))),128))],2),[[n["vShow"],i.store.state.modelStore.nowMVData.length>0]]),Object(n["createVNode"])(c)],34)):Object(n["createCommentVNode"])("",!0)}var Tg=o("5761"),jg=o.n(Tg),Mg=o("ba00"),Eg=o.n(Mg);const kg=e=>(Object(n["pushScopeId"])("data-v-88a1f882"),e=e(),Object(n["popScopeId"])(),e),Dg={key:0,class:"confirme-page"},Ag=kg(()=>Object(n["createElementVNode"])("div",{class:"cover-page"},null,-1)),Bg={class:"confirme-content"},Ng={class:"header"},Ig=kg(()=>Object(n["createElementVNode"])("img",{class:"header-ico",src:jg.a,alt:""},null,-1)),Lg={class:"header-title"},Vg={class:"foot"};function Ug(e,t,o,i,a,r){return e.isShow?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Dg,[Ag,Object(n["createElementVNode"])("div",Bg,[Object(n["createElementVNode"])("div",Ng,[Ig,Object(n["createElementVNode"])("span",Lg,Object(n["toDisplayString"])(e.msg),1),Object(n["createElementVNode"])("img",{class:"header-del",onClick:t[0]||(t[0]=(...e)=>i.closeClick&&i.closeClick(...e)),src:Eg.a,alt:""})]),Object(n["createElementVNode"])("div",Vg,[Object(n["createElementVNode"])("div",{style:{background:"rgb(255, 77, 79)"},class:"ft-btn ft-sure",onClick:t[1]||(t[1]=(...e)=>i.sureClick&&i.sureClick(...e))},Object(n["toDisplayString"])(e.$t("del")),1),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",{class:"ft-btn ft-cancel",onClick:t[2]||(t[2]=(...e)=>i.cancelClick&&i.cancelClick(...e))},Object(n["toDisplayString"])(e.$t("cancel")),513),[[n["vShow"],!e.hideCancleBtn]])])])])):Object(n["createCommentVNode"])("",!0)}var _g={name:"",setup(){const e=Object(n["reactive"])({msg:"删除模型？",isShow:!1,sureString:"删除",hideCancleBtn:!0}),{proxy:t,appContext:o}=(Object(c["useStore"])(),Object(n["getCurrentInstance"])());Object(n["nextTick"])(()=>{o.config.globalProperties.$confirme=t});let i=()=>{},a=()=>{},r=()=>{};Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{});const s=(t,o,n,c,s,l)=>{e.msg=t,e.isShow=!0,i=o,a=n,r=c||n,s&&(e.sureString=s),e.hideCancleBtn=l},l=()=>{e.isShow=!1,i&&i()},d=()=>{e.isShow=!1,a&&a()},m=()=>{e.isShow=!1,r&&r()},u=Object(n["toRefs"])(e);return{...u,showMsg:s,sureClick:l,cancelClick:d,closeClick:m}}};o("2667");const Pg=it()(_g,[["render",Ug],["__scopeId","data-v-88a1f882"]]);var Fg=Pg;const Rg={getSaveData(e,t,o){var n=se.state.modelStore.nowConfigName,i=se.state.modelStore.nowConfig;window.nd_screenshot((function(a){o&&o({modelviewImg:a,modelviewData:Rg.getCameraViewInfo(),addTime:(new Date).getTime(),configNum:i,num:++e,configName:n,rename:t+e,isLock:!1,uuid:I()})}))},getCameraViewInfo(){let e=de.storeViewUtil&&de.storeViewUtil.getCameraViewInfo();return e},getModelviewImg(){window.nd_screenTagCap()}};var zg=Rg,$g={name:"",setup(e,t){const i=Object(n["reactive"])({modelviewList:[],lastName:"",isOping:!1}),a=Object(c["useStore"])(),r=Object(n["ref"])(null),{proxy:s,appContext:l}=Object(n["getCurrentInstance"])();Object(n["nextTick"])(()=>{l.config.globalProperties.$modelviewSave=s}),Object(n["watch"])(()=>a.state.modelStore.configs,e=>{i.configList=e}),Object(n["watch"])(()=>a.state.menuStore.menuChoose,e=>{"addModelview"!=e&&a.commit("modelStore/setSelectIndexMV",-1)}),Object(n["onBeforeMount"])(()=>{}),Object(n["onMounted"])(()=>{s.$eventBus.on("loadAndInitSub",m)});const d=()=>{t.emit("chengShowMeasureStyle")},m=()=>{de.storeViewUtil&&de.storeViewUtil.fixCameraViewInfo(null),a.commit("modelStore/setSelectIndexMV",-1);let e=!0;if(a.state.modelStore.nowMVData.forEach(t=>{t.isLock&&t.modelviewData&&t.modelviewData.length>0&&(e=!1,a.commit("modelStore/setRotationAngle",t.rotationAngle||0),a.commit("modelStore/setDefaultRAngle",t.rotationAngle||0),de.storeViewUtil&&de.storeViewUtil.setCameraViewInfo(t.modelviewData),de.storeViewUtil&&de.storeViewUtil.fixCameraViewInfo(t.modelviewData))}),e){let e=a.state.modelStore.rotationAngle[a.state.modelStore.nowConfig]||0;e&&de.storeViewUtil&&de.storeViewUtil.setCameraRotate(e)}},u=()=>{a.commit("menuStore/setMenuChoose","")},g=()=>{if(i.isOping)return;i.isOping=!0,setTimeout(()=>{i.isOping=!1},300);var e=a.state.modelStore.allMVData[a.state.modelStore.allMVData.length-1];let t=0;e&&(t=parseInt(e.num)),zg.getSaveData(t,s.$t("modelview"),(function(e){e.rotationAngle=a.state.modelStore.rotationAngle[a.state.modelStore.nowConfig]||0;const t=t=>{t&&(e.modelviewImg=t),a.commit("modelStore/addModelview",e),setTimeout(()=>{r.value.scrollTop=r.value.scrollHeight},50),a.commit("modelStore/setSelectIndexMV",a.state.modelStore.nowMVData.length-1)};te(["addModelview"])?t():nd_viewCtrl.addModelview(e,e.modelviewImg,t)}))},p=e=>{var t=a.state.modelStore.nowMVData[e];if(t.modelviewData&&t.modelviewData.length>0)return de.storeViewUtil&&de.storeViewUtil.setCameraViewInfo(t.modelviewData),void a.commit("modelStore/setRotationAngle",t.rotationAngle||0)},h=e=>{i.isOping||(i.isOping=!0,setTimeout(()=>{i.isOping=!1},300),s.$confirme.showMsg(s.$t("deleteModelview"),(function(){var t=a.state.modelStore.nowMVData[e];a.state.modelStore.selectIndexMV==e&&a.commit("modelStore/setSelectIndexMV",-1);let o=()=>{t.isLock&&de.storeViewUtil&&de.storeViewUtil.fixCameraViewInfo(null),a.commit("modelStore/deleteModelviewByuuid",t.uuid)};te(["delModelview"])?o():nd_viewCtrl.delModelview(t.uuid,o)}),(function(){})))},w=e=>{if(!i.isOping){i.isOping=!0,setTimeout(()=>{i.isOping=!1},300);var t=a.state.modelStore.nowMVData[e];t.isLock||(t.lockTime=(new Date).getTime()),t.isLock?(nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.rotationAngle?a.commit("modelStore/setDefaultRAngle",nd_viewCtrl.shareInfo.rotationAngle[a.state.modelStore.nowConfig]||0):a.commit("modelStore/setDefaultRAngle",0),nd_viewCtrl&&nd_viewCtrl.lockModelview&&nd_viewCtrl.lockModelview(t.uuid,!0),de.storeViewUtil&&de.storeViewUtil.fixCameraViewInfo(null)):(nd_viewCtrl&&nd_viewCtrl.lockModelview&&nd_viewCtrl.lockModelview(t.uuid),de.storeViewUtil&&de.storeViewUtil.fixCameraViewInfo(t.modelviewData),a.commit("modelStore/setRotationAngle",t.rotationAngle||0),a.commit("modelStore/setDefaultRAngle",t.rotationAngle||0)),a.commit("modelStore/updateModelviewLock",t)}},S=e=>{var t=a.state.modelStore.nowMVData[e];t.edit=!0,i.lastName=t.rename,Object(n["nextTick"])(()=>{var t=a.state.modelStore.nowMVData[e];document.getElementById(t.uuid).focus()})},v=e=>{var t=a.state.modelStore.nowMVData[e];t.edit=!1,""!=t.rename?t.rename!=i.lastName&&(nd_viewCtrl&&nd_viewCtrl.renameModelview&&nd_viewCtrl.renameModelview(t.uuid,t),a.commit("modelStore/updateModelviewName",t)):t.rename=i.lastName},b=e=>{var t=a.state.modelStore.nowMVData[e];t.edit=!1,t.rename=i.lastName},f=e=>{let t=event.srcElement;"en"==a.state.language?t.src=o("bc2f"):t.src=o("382f"),t.classList.add("nomsg")},C=e=>{var t=a.state.modelStore.nowMVData[e];document.getElementById(t.uuid).blur()},O=e=>T(e),x=e=>{a.commit("modelStore/setSelectIndexMV",e)},y=e=>{},j=Object(n["toRefs"])(i);return{...j,store:a,closeModelview:u,chooseModelview:p,checkBtnExit:O,imgLoadError:f,addModelview:g,deleteModelview:h,lockModelview:w,editModelview:S,editModelviewRight:v,editModelviewCancle:b,handleEnter:C,scrollRef:r,touchDown:x,touchUp:y,exitMeasure:d}},components:{modelviewConfirm:Fg},methods:{}};o("4dfd");const Hg=it()($g,[["render",yg],["__scopeId","data-v-7ac9ef1b"]]);var Gg=Hg,Wg=o("fa9e"),qg=o.n(Wg);const Kg={class:"measureEdit"},Zg={class:"measureEdit-content"},Yg={class:"measureEdit-c-title"},Jg=["src"],Xg={class:"measureEdit-c-input"},Qg={class:"measureEdit-c-button"};var ep={__name:"measureEdit",props:{measureData:{type:Object,default:{}},defaultValue:{type:String,default:""}},emits:["closeSelf"],setup(e,{emit:t}){Object(n["getCurrentInstance"])(),Object(c["useStore"])();const o=t,i=e,a=()=>{o("closeSelf")},r=()=>{let e=de.measureUtil&&de.measureUtil.getMeasureStyle(i.measureData.uuid);i.measureData.textString!=i.defaultValue&&i.measureData.textString?e.editString=i.measureData.textString.trim():e.editString="",de.measureUtil&&de.measureUtil.setMeasureStyle(i.measureData.uuid,e),a()};return(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Kg,[Object(n["createElementVNode"])("div",Zg,[Object(n["createElementVNode"])("div",Yg,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("EditmResults"))+" ",1),Object(n["createElementVNode"])("img",{src:Object(n["unref"])(qg.a),alt:"",onClick:a},null,8,Jg)]),Object(n["createElementVNode"])("div",Xg,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"newMeasureInput",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.measureData.textString=e)},null,512),[[n["vModelText"],i.measureData.textString]])]),Object(n["createElementVNode"])("div",Qg,[Object(n["createElementVNode"])("div",{class:"measureEdit-c-b-confirm",onClick:r},Object(n["toDisplayString"])(e.$t("sure")),1),Object(n["createElementVNode"])("div",{class:"measureEdit-c-b-cancel",onClick:a},Object(n["toDisplayString"])(e.$t("cancel")),1)])])]))}};o("67aa");const tp=it()(ep,[["__scopeId","data-v-668c6e27"]]);var op=tp;const np={class:"measureFacade-content"},ip={class:"measureFacade-c-title"},ap=["src"],rp={class:"measureFacade-length"},cp={class:"measureFacade-length-span"},sp=["placeholder"],lp={class:"facade-unit"},dp={class:"measureFacade-height"},mp={class:"measureFacade-height-span"},up=["placeholder"],gp={class:"facade-unit"},pp={class:"measureFacade-c-button"};var hp={__name:"measureFacade",setup(e){const t=Object(n["getCurrentInstance"])(),o=Object(c["useStore"])(),{proxy:i}=Object(n["getCurrentInstance"])(),a=Object(n["reactive"])({measureUuid:null,timerControl:!1,isStraightLine:!0,totalLength:"",height:"",curUnit:"mm",isShowFacade:!1}),r=()=>{a.isShowFacade=!1,"facade"==o.state.menuStore.menuChoose2&&t.proxy.$eventBus.emit("closeEditFacade")};t.proxy.$eventBus.on("AddMeasureFacadeLength",e=>{let t=Number(e.data.length)?Number(e.data.length):"";a.totalLength=t}),t.proxy.$eventBus.on("AddFacadeFinishBack",e=>{let t=de._viewer.getExtension("Measure2DPCExtension").getMeasureData(e.data.uuid);o.commit("modelStore/setAddMeasure",t),nd_viewCtrl.measureChange&&nd_viewCtrl.measureChange({type:"add",data:t}),a.measureUuid=null}),t.proxy.$eventBus.on("showFacadeType",e=>{a.isStraightLine=e.data.style.isStraightLine,a.totalLength=e.data.length?e.data.length:"",a.height=e.data.height?e.data.height:"",a.curUnit=o.state.modelStore.measureSetting.curUnit,a.isShowFacade=!0}),t.proxy.$eventBus.on("hideFacadeType",e=>{a.totalLength="",a.height="",a.isShowFacade=!1}),t.proxy.$eventBus.on("hideFacadeBack",()=>{a.totalLength="",a.height="",a.isShowFacade=!1});const s=()=>{if(parseFloat(a.totalLength)>0&&parseFloat(a.height)>0){if(a.timerControl)return!1;a.timerControl=!0,setTimeout(()=>{a.timerControl=!1},600),a.measureUuid?de._viewer.getExtension("Measure2DPCExtension").facadeAccomplish(a.measureUuid,a.height,a.totalLength):de._viewer.getExtension("Measure2DPCExtension").facadeAccomplish("",a.height,a.totalLength),a.totalLength="",a.height="",a.measureUuid=null}},l=()=>{let e=a.totalLength;e&&(e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e.length>=20&&(e=e.substring(0,20))),a.totalLength=e},d=()=>{let e=a.height;e&&(e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e.length>=20&&(e=e.substring(0,20))),a.height=e};return Object(n["watch"])(()=>o.state.menuStore.menuChoose2,(e,t)=>{"facade"==e?(a.curUnit=o.state.modelStore.measureSetting.curUnit||"mm",a.totalLength="",a.height="",a.isShowFacade=!0):a.isShowFacade=!1}),Object(n["watch"])(()=>o.state.menuStore.menuChoose,(e,t)=>{a.isShowFacade=!1}),(e,t)=>Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",np,[Object(n["createElementVNode"])("div",ip,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("facade"))+" ",1),Object(n["createElementVNode"])("img",{src:Object(n["unref"])(Ka.a),alt:"",onClick:r},null,8,ap)]),Object(n["createElementVNode"])("div",rp,[Object(n["createElementVNode"])("span",cp,Object(n["toDisplayString"])(e.$t("length")),1),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{onInput:l,type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.totalLength=e),placeholder:e.$t("length")},null,40,sp),[[n["vModelText"],a.totalLength]]),Object(n["createElementVNode"])("span",lp,Object(n["toDisplayString"])(a.curUnit),1)]),Object(n["createElementVNode"])("div",dp,[Object(n["createElementVNode"])("span",mp,Object(n["toDisplayString"])(e.$t("height")),1),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{onInput:d,type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.height=e),placeholder:e.$t("height")},null,40,up),[[n["vModelText"],a.height]]),Object(n["createElementVNode"])("span",gp,Object(n["toDisplayString"])(a.curUnit),1)]),Object(n["createElementVNode"])("div",pp,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["measureFacade-c-b-confirm",parseFloat(a.totalLength)&&parseFloat(a.height)?"facadeFinish":"facadeNoFinish"]),onClick:s},Object(n["toDisplayString"])(e.$t("sure")),3)])],512)),[[n["vShow"],a.isShowFacade]])}};o("a050");const wp=it()(hp,[["__scopeId","data-v-0006ee94"]]);var Sp=wp,vp=o("032e"),bp=o.n(vp),fp=o("0b64"),Cp=o.n(fp),Op=o("edd5"),xp=o.n(Op),yp=o("28b2"),Tp=o.n(yp),jp=o("96af"),Mp=o.n(jp);const Ep=e=>(Object(n["pushScopeId"])("data-v-fb75b6d4"),e=e(),Object(n["popScopeId"])(),e),kp={class:"scaleSetting"},Dp={class:"close-title"},Ap=["src"],Bp={class:"s-scaleSetting"},Np={class:"s-scaleS-input"},Ip=["placeholder"],Lp=Ep(()=>Object(n["createElementVNode"])("div",null,":",-1)),Vp=["placeholder"],Up={class:"s-scaleSetting"},_p={class:"s-scale-select"},Pp={class:"s-scale-select-left"},Fp={class:"s-scale-select-right"},Rp=["src"],zp={key:0,class:"s-s-selUnit"},$p={class:"oneTitle"},Hp={class:"oneTitle"},Gp=["src"],Wp={style:{width:"100%"}},qp=["onClick"],Kp={class:"oneTitle"},Zp=["src"],Yp={style:{width:"100%"}},Jp=["onClick"],Xp={class:"s-scale-select"},Qp={class:"s-scale-select-left"},eh={class:"s-scale-select-right"},th=["src"],oh={key:0,class:"s-s-selUnit"},nh=["onClick"],ih={class:"oneTitle"},ah={class:"s-scale-select"},rh={class:"s-s-spanOne",style:{width:"120px"}},ch={class:"s-number-spanTwo"},sh=["src"],lh={class:"spanTwoDiv"},dh=["src"],mh={class:"s-scale-select",style:{width:"100%",height:"44px","line-height":"44px","border-top":"1px solid rgba(0, 0, 0, 0.1)"}},uh={class:"style-scale-center"},gh={class:"style-sc-title",style:{"margin-top":"4px"}},ph={class:"style-sc-title",style:{"margin-top":"14px"}},hh={class:"ssc-title-left"},wh={class:"ssc-title-right"},Sh={class:"style-sc-title",style:{"margin-top":"14px"}},vh={class:"ssc-title-left"},bh={class:"ssc-title-right"},fh=["placeholder"],Ch={class:"style-sc-title",style:{"margin-top":"14px"}},Oh={class:"ssc-title-left"},xh={class:"ssc-title-right"},yh={class:"s-scale-select",style:{"margin-top":"8px",width:"100%",height:"44px","line-height":"44px","border-top":"1px solid rgba(0, 0, 0, 0.1)"}};var Th={__name:"scaleSetting",props:{isInScaleMeasure:{type:Boolean,default:!1}},emits:["showScaleSetting","chengShowMeasureStyle"],setup(e,{emit:t}){const o=Object(n["getCurrentInstance"])(),i=t,a=Object(c["useStore"])(),r=e,s=Object(n["reactive"])({scaleMObj:{uuid:"",curUnit:"",length:0,lengthStr:"",actualLength:0,min:0,max:0},isSetScale:!1,selUnitType:0,metricUnit:[{unit:"nm"},{unit:"mm"},{unit:"cm"},{unit:"m"}],imperialUnit:[{unit:"in"},{unit:"ft"},{unit:"yd"},{unit:"mile"}],PrecisionSetting:[{type:3,unit:o.proxy.$t("Scientific")},{type:1,unit:o.proxy.$t("Decimal")},{type:4,unit:o.proxy.$t("Engineering")},{type:5,unit:o.proxy.$t("Architectural")},{type:2,unit:o.proxy.$t("Fractional")}],isSelUnit:0,isSelPrecision:!1,scale:{min:1,max:1,curUnit:"",precisionType:1,precisionValue:"",precision:4},defaultScale:{min:1,max:1,curUnit:"",precisionType:1,precisionValue:"",precision:4},scaleMObj:{uuid:"",curUnit:"",length:0,lengthStr:"",actualLength:0,min:0,max:0},timeCalculate:null}),l=()=>{a.commit("menuStore/setMenuChoose","meter"),a.commit("menuStore/setMenuChoose2",""),a.commit("modelStore/setScaleDialog",!1),de.measureUtil&&de.measureUtil.setMeasureOpType("")},d=()=>{if(!s.scaleMObj.min)return o.proxy.$eventBus.emit("MsgTipEvent",o.proxy.$t("rightScaleTips")),!1;s.scaleMObj.uuid&&de.measureUtil&&de.measureUtil.delMeasureResult(s.scaleMObj.uuid),s.scaleMObj.min&&s.scaleMObj.max&&(s.scale.min=s.scaleMObj.min,s.scale.max=s.scaleMObj.max),s.isSetScale=!1},m=()=>{s.scaleMObj.uuid&&de.measureUtil&&de.measureUtil.delMeasureResult(s.scaleMObj.uuid),s.isSetScale=!1},u=()=>{let e=s.scaleMObj.actualLength;e&&(e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$",".")),s.scaleMObj.actualLength=e},g=()=>{let e=p(s.scaleMObj.length,s.scaleMObj.actualLength);s.scaleMObj.min=e.min.toString(),s.scaleMObj.max=e.max.toString()},p=(e,t)=>{let o=e.toString().split(".")[1]||"",n=t.toString().split(".")[1]||"",i=o.toString().length>n.toString().length?o.toString().length:n.toString().length,a=Math.round(t*Math.pow(10,i)),r=Math.round(e*Math.pow(10,i));function c(e,t){while(e!=t)e>t?e-=t:t-=e;return e}let s=c(parseFloat(r),parseFloat(a)),l={min:0,max:0};return l.min=r/s,l.max=a/s,l},h=e=>{s.scale.curUnit=e.unit,s.isSelUnit=0},w=e=>{s.isSelUnit=0,s.scale.precisionType=e.type,s.scale.precisionValue=e.unit},S=()=>{de.measureUtil&&de.measureUtil.setMeasureOpType("isScale")},v=()=>{if(s.scale.precision>=8)return s.scale.precision=8,!1;s.scale.precision=s.scale.precision+1},b=()=>{if(s.scale.precision<=2)return s.scale.precision=2,!1;s.scale.precision=s.scale.precision-1},f=e=>{0==e?(s.scale.curUnit="",s.selUnitType=0,s.isSelUnit=0):s.selUnitType==e?s.selUnitType=0:s.selUnitType=e},C=()=>{const e=/^(0|[1-9]\d*)(\s|$|\.\d{1,2}\b)/,t=s.scale.min,n=s.scale.max;if(0==Number(t)||0==Number(n)||!e.test(t)||!e.test(n))return void o.proxy.$eventBus.emit("MsgTipEvent",o.proxy.$t("rightScaleTips"));i("showScaleSetting",!1),a.commit("modelStore/setMeasureScale",`${t}:${n}`),a.commit("modelStore/setMeasureSetting",s.scale),de.measureUtil&&de.measureUtil.setMeasureAnnoScale(t,n,!0),de.measureUtil&&de.measureUtil.setMeasurePrecisionType(s.scale.precisionType,!0),de.measureUtil&&de.measureUtil.setMeasureUnit(s.scale.curUnit,!0),de.measureUtil&&de.measureUtil.setMeasurePrecision(s.scale.precision);let r=a.state.modelStore,c=r.measureScale,l=[];c.forEach((e,t)=>{let o={};e?(o.minScale=e.split(":")[0]||1,o.maxScale=e.split(":")[1]||1):(o.minScale=1,o.maxScale=1),o.configNum=t,l[t]=o});let d=r.measureSetting,m=JSON.parse(JSON.stringify(d));m.scaleList=l,a.commit("modelStore/measureSettingChange",m),nd_viewCtrl.settingsChange&&nd_viewCtrl.settingsChange({type:"measureSettings",data:{...r.measureSetting,scaleList:r.measureScale}})},O=()=>{let e=a.state.modelStore,t=e.defaultMeasureSetting;s.scale=JSON.parse(JSON.stringify(t)),s.PrecisionSetting.forEach(e=>{e.type==s.scale.precisionType&&(s.scale.precisionValue=e.unit)}),"nm"!=s.scale.curUnit&&"mm"!=s.scale.curUnit&&"cm"!=s.scale.curUnit&&"m"!=s.scale.curUnit||(s.selUnitType=1),"in"!=s.scale.curUnit&&"ft"!=s.scale.curUnit&&"yd"!=s.scale.curUnit&&"mile"!=s.scale.curUnit||(s.selUnitType=2),C()},x=e=>{s.isSelUnit==e?s.isSelUnit=0:s.isSelUnit=e},y=()=>{let e=a.state.modelStore,t=e.nowConfig,o=e.measureScale[t]||"";s.scale.min=o.split(":")[0]||1,s.scale.max=o.split(":")[1]||1;let n=e.measureSetting;s.scale.curUnit=n.curUnit,s.scale.precisionType=n.precisionType,s.scale.precision=n.precision,s.PrecisionSetting.forEach(e=>{e.type==s.scale.precisionType&&(s.scale.precisionValue=e.unit)}),"nm"!=s.scale.curUnit&&"mm"!=s.scale.curUnit&&"cm"!=s.scale.curUnit&&"m"!=s.scale.curUnit||(s.selUnitType=1),"in"!=s.scale.curUnit&&"ft"!=s.scale.curUnit&&"yd"!=s.scale.curUnit&&"mile"!=s.scale.curUnit||(s.selUnitType=2),s.defaultScale=JSON.parse(JSON.stringify(s.scale))};return y(),o.proxy.$eventBus.on("setScaleDataBack",e=>{s.isSetScale=!0,s.scaleMObj=e.data,s.scaleMObj.actualLength=void 0,de.measureUtil&&de.measureUtil.setMeasureOpType("setSetting")}),Object(n["watch"])(()=>s.scaleMObj.actualLength,(e,t)=>{e&&parseFloat(e)?(s.timeCalculate&&clearTimeout(s.timeCalculate),s.timeCalculate=setTimeout(()=>{g()},500)):(s.timeCalculate&&clearTimeout(s.timeCalculate),s.scaleMObj.min=0,s.scaleMObj.max=0)}),(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",kp,[Object(n["createElementVNode"])("div",Dp,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("MeasurementSetting"))+" ",1),Object(n["createElementVNode"])("img",{onClick:l,src:Object(n["unref"])(bp.a),alt:""},null,8,Ap)]),Object(n["createElementVNode"])("div",Bp,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("scaleTitle"))+" ",1),Object(n["createElementVNode"])("span",{onClick:S},Object(n["toDisplayString"])(e.$t("scalemeasureOut")),1)]),Object(n["createElementVNode"])("div",Np,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.scale.min=e),maxlength:10,placeholder:e.$t("measureCustom")},null,8,Ip),[[n["vModelText"],s.scale.min]]),Lp,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.scale.max=e),maxlength:10,placeholder:e.$t("measureCustom")},null,8,Vp),[[n["vModelText"],s.scale.max]])]),Object(n["createElementVNode"])("div",Up,Object(n["toDisplayString"])(e.$t("UnitOrAccuracySettings")),1),Object(n["createElementVNode"])("div",_p,[Object(n["createElementVNode"])("div",Pp,Object(n["toDisplayString"])(e.$t("scaleUnits")),1),Object(n["createElementVNode"])("div",Fp,[Object(n["createElementVNode"])("div",{class:"right-title",onClick:t[2]||(t[2]=e=>x(1))},Object(n["toDisplayString"])(s.scale.curUnit?s.scale.curUnit:e.$t("pcUnitType1")),1),Object(n["createElementVNode"])("img",{src:1==s.isSelUnit?Object(n["unref"])(xp.a):Object(n["unref"])(Cp.a),alt:"",onClick:t[3]||(t[3]=e=>x(1))},null,8,Rp),1==s.isSelUnit?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",zp,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["selUnit-one selUnitHover",{isSelState:""==s.scale.curUnit}]),onClick:t[4]||(t[4]=e=>f(0))},[Object(n["createElementVNode"])("div",$p,Object(n["toDisplayString"])(e.$t("pcUnitType1")),1)],2),Object(n["createElementVNode"])("div",{class:"selUnit-one selUnitHover",onClick:t[5]||(t[5]=e=>f(1))},[Object(n["createElementVNode"])("div",Hp,Object(n["toDisplayString"])(e.$t("metricUnits")),1),Object(n["createElementVNode"])("img",{src:1==s.selUnitType?Object(n["unref"])(xp.a):Object(n["unref"])(Cp.a),alt:""},null,8,Gp)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Wp,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(s.metricUnit,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t=>h(e),class:Object(n["normalizeClass"])(["selUnit-two selUnitHover",{isSelState:s.scale.curUnit==e.unit}])},Object(n["toDisplayString"])(e.unit),11,qp))),256))],512),[[n["vShow"],1==s.selUnitType]]),Object(n["createElementVNode"])("div",{class:"selUnit-one selUnitHover",onClick:t[6]||(t[6]=e=>f(2))},[Object(n["createElementVNode"])("div",Kp,Object(n["toDisplayString"])(e.$t("imperialUnits")),1),Object(n["createElementVNode"])("img",{src:2==s.selUnitType?Object(n["unref"])(xp.a):Object(n["unref"])(Cp.a),alt:""},null,8,Zp)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Yp,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(s.imperialUnit,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t=>h(e),class:Object(n["normalizeClass"])(["selUnit-two selUnitHover",{isSelState:s.scale.curUnit==e.unit}])},Object(n["toDisplayString"])(e.unit),11,Jp))),256))],512),[[n["vShow"],2==s.selUnitType]])])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",Xp,[Object(n["createElementVNode"])("div",Qp,Object(n["toDisplayString"])(e.$t("accuracySettings")),1),Object(n["createElementVNode"])("div",eh,[Object(n["createElementVNode"])("div",{class:"right-title",onClick:t[7]||(t[7]=e=>x(2))},Object(n["toDisplayString"])(s.scale.precisionValue),1),Object(n["createElementVNode"])("img",{src:2==s.isSelUnit?Object(n["unref"])(xp.a):Object(n["unref"])(Cp.a),alt:"",onClick:t[8]||(t[8]=e=>x(2))},null,8,th),2==s.isSelUnit?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",oh,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(s.PrecisionSetting,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["selUnit-one selUnitHover",{isSelState:s.scale.precisionType==e.type}]),onClick:t=>w(e)},[Object(n["createElementVNode"])("div",ih,Object(n["toDisplayString"])(e.unit),1)],10,nh))),256))])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",ah,[Object(n["createElementVNode"])("span",rh,Object(n["toDisplayString"])(e.$t("digitsOfPrecision")),1),Object(n["createElementVNode"])("span",ch,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["spanTwoSubtract",{noSpanTwoSubtract:2==s.scale.precision}]),onClick:b},[Object(n["createElementVNode"])("img",{src:Object(n["unref"])(Tp.a),alt:""},null,8,sh)],2),Object(n["createElementVNode"])("div",lh,Object(n["toDisplayString"])(s.scale.precision),1),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["spanTwoAdd",{noSpanTwoAdd:8==s.scale.precision}]),onClick:v},[Object(n["createElementVNode"])("img",{src:Object(n["unref"])(Mp.a),alt:""},null,8,dh)],2)])]),Object(n["createElementVNode"])("div",mh,[Object(n["createElementVNode"])("span",{class:"s-r-spanOne",onClick:C},Object(n["toDisplayString"])(e.$t("sure")),1),Object(n["createElementVNode"])("span",{class:"s-r-spanTwo",onClick:O},Object(n["toDisplayString"])(e.$t("scaleReset")),1)])],512),[[n["vShow"],!s.isSetScale&&!r.isInScaleMeasure]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",uh,[Object(n["createElementVNode"])("div",gh,Object(n["toDisplayString"])(e.$t("scalemeasureOut")),1),Object(n["createElementVNode"])("div",ph,[Object(n["createElementVNode"])("div",hh,Object(n["toDisplayString"])(e.$t("gageLength")),1),Object(n["createElementVNode"])("div",wh,Object(n["toDisplayString"])(s.scaleMObj.lengthStr),1)]),Object(n["createElementVNode"])("div",Sh,[Object(n["createElementVNode"])("div",vh,Object(n["toDisplayString"])(e.$t("physicalLength")),1),Object(n["createElementVNode"])("div",bh,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",onInput:u,"onUpdate:modelValue":t[9]||(t[9]=e=>s.scaleMObj.actualLength=e),maxlength:11,placeholder:e.$t("measureCustom")},null,40,fh),[[n["vModelText"],s.scaleMObj.actualLength]]),Object(n["createTextVNode"])(Object(n["toDisplayString"])(s.scaleMObj.curUnit),1)])]),Object(n["createElementVNode"])("div",Ch,[Object(n["createElementVNode"])("div",Oh,Object(n["toDisplayString"])(e.$t("newRatio")),1),Object(n["createElementVNode"])("div",xh,Object(n["toDisplayString"])(s.scaleMObj.min?s.scaleMObj.min:"")+" "+Object(n["toDisplayString"])(s.scaleMObj.min?":":"")+" "+Object(n["toDisplayString"])(s.scaleMObj.max?s.scaleMObj.max:""),1)]),Object(n["createElementVNode"])("div",yh,[Object(n["createElementVNode"])("span",{class:"s-r-spanOne",onClick:d},Object(n["toDisplayString"])(e.$t("sure")),1),Object(n["createElementVNode"])("span",{class:"s-r-spanTwo",onClick:m},Object(n["toDisplayString"])(e.$t("cancel")),1)])],512),[[n["vShow"],s.isSetScale]])],64))}};o("196c");const jh=it()(Th,[["__scopeId","data-v-fb75b6d4"]]);var Mh=jh,Eh=o("b20c"),kh=o.n(Eh),Dh=o("1025"),Ah=o.n(Dh),Bh=o("9c5a"),Nh=o.n(Bh),Ih=o("226f"),Lh=o.n(Ih),Vh=o("79ba"),Uh=o.n(Vh),_h=o("db2d"),Ph=o.n(_h),Fh=o("48a8"),Rh=o.n(Fh);const zh=e=>(Object(n["pushScopeId"])("data-v-766559af"),e=e(),Object(n["popScopeId"])(),e),$h={class:"close-title"},Hh=["src"],Gh={class:"result-selColor"},Wh={class:"clearfix result-selColor-div"},qh=["onClick"],Kh=zh(()=>Object(n["createElementVNode"])("div",{class:"result-line"},null,-1)),Zh={class:"result-selColor"},Yh={class:"clearfix result-selColor-div",style:{height:"30px",width:"116%"}},Jh=["onClick"],Xh={key:0,class:"result-list"},Qh=["onClick"],ew={key:1},tw=["src"],ow=["onClick"],nw={class:"result-li-color"},iw=["title"],aw=["title"],rw=["onClick"],cw=["src"],sw=["onClick"],lw=["src"],dw={key:1,class:"result-list",style:{"margin-bottom":"24px","text-align":"center","line-height":"24px",color:"rgba(51, 51, 51, 0.6)","font-size":"14px",height:"24px",overflow:"hidden"}},mw={key:2,class:"result-bottom"},uw=["src"],gw=["src"];var pw={__name:"resultGather",emits:["showScaleResult"],setup(e,{emit:t}){const o=Object(n["getCurrentInstance"])(),i=Object(c["useStore"])(),a=Object(n["reactive"])({bgColorBlack:!0,colorList:[{color:"1780e3"},{color:"ffd900"},{color:"d43030"},{color:"43cf7c"},{color:"ac33c1"},{color:"ffffff"},{color:"000000"}],typeList:[{value:o.proxy.$t("Whole"),type:0},{value:o.proxy.$t("coordinateMeter"),type:1},{value:o.proxy.$t("length"),type:2},{value:o.proxy.$t("area"),type:3},{value:o.proxy.$t("facade"),type:4},{value:o.proxy.$t("radius"),type:5},{value:o.proxy.$t("angle"),type:6}],queryObj:{type:0,color:0},resultList:[],selUuidList:[],isInAll:!1,curSelUuid:""}),r=()=>{i.commit("menuStore/setMenuChoose","meter"),i.commit("menuStore/setMenuChoose2",""),i.commit("modelStore/setScaleDialog",!1),de.measureUtil&&de.measureUtil.setMeasureOpType("")},s=e=>a.bgColorBlack?e?e.toString(16):"ffffff":e&&"ffffff"!=e.toString(16)?e.toString(16):"000000",l=()=>{a.isInAll=!0,a.selUuidList=[],a.curSelUuid=""},d=()=>{a.isInAll=!1,a.selUuidList=[],a.curSelUuid=""},m=()=>{0!=a.resultList.length&&a.selUuidList.length!=a.resultList.length?(a.selUuidList=[],a.resultList.forEach(e=>{a.selUuidList.push(e.uuid)})):a.selUuidList=[]},u=()=>{if(0==a.selUuidList.length)return!1;let e=e=>{if(e){let e=[];a.selUuidList.forEach(t=>{de.measureUtil&&de.measureUtil.delMeasureResult(t),e.push(t)}),e.forEach(e=>{a.resultList.forEach((t,o)=>{t.uuid==e&&a.resultList.splice(o,1)})}),i.commit("modelStore/setDelMeasures",e),nd_viewCtrl.measureChange&&nd_viewCtrl.measureChange({type:"deletes",data:e}),a.selUuidList=[],i.commit("modelStore/setNowMeasure")}};te(["checkEvent"])?e(!0):nd_viewCtrl.checkEvent&&nd_viewCtrl.checkEvent("ico-MeasureDelAll",e)},g=()=>{if(0==a.selUuidList.length)return!1;let e=!1;a.resultList.forEach(t=>{a.selUuidList.indexOf(t.uuid)>-1&&(t.isHide||(e=!0))});let t=[],o=[];a.selUuidList.forEach(n=>{a.resultList.forEach(i=>{i.uuid==n&&(o.push(n),i.isHide=e,t.push(i))}),de.measureUtil&&de.measureUtil.setMeasureVisibleByUUid(n,!e)}),i.commit("modelStore/revampMeasures",{uuids:o,val:e}),nd_viewCtrl.measureChange&&nd_viewCtrl.measureChange({type:"editList",data:t}),a.selUuidList=[],i.commit("modelStore/setNowMeasure")},p=e=>{if(a.isInAll)return!1;a.curSelUuid=e.uuid,de.measureUtil&&de.measureUtil.moveCameraTo(a.curSelUuid),de.measureUtil&&de.measureUtil.setMeasureVisibleByUUid(e.uuid,e.isHide),e.isHide=!e.isHide,i.commit("modelStore/revampMeasure",e),nd_viewCtrl.measureChange&&nd_viewCtrl.measureChange({type:"edit",data:e}),i.commit("modelStore/setNowMeasure")},h=e=>{if(a.isInAll)return!1;let t=t=>{t&&(de.measureUtil&&de.measureUtil.delMeasureResult(e.uuid),i.commit("modelStore/setDelMeasure",e),a.resultList.forEach((t,o)=>{t.uuid==e.uuid&&a.resultList.splice(o,1)}),nd_viewCtrl.measureChange&&nd_viewCtrl.measureChange({type:"delete",data:e}),a.curSelUuid="",a.selUuidList.splice(a.selUuidList.indexOf(e.uuid),1),i.commit("modelStore/setNowMeasure"))};te(["checkEvent"])?t(!0):nd_viewCtrl.checkEvent&&nd_viewCtrl.checkEvent("ico-MeasureDelUuid",t)},w=e=>{if(document.getElementsByClassName("result-list")[0].scrollTop=0,a.queryObj.color===e)return!1;a.queryObj.color=e,a.selUuidList=[],a.curSelUuid="";let t=i.state.modelStore,o=t.nowMeasure;o.sort((function(e,t){return t.createTime-e.createTime})),a.resultList=[],a.queryObj.color?o.forEach(e=>{"000000"!==a.queryObj.color&&"ffffff"!=a.queryObj.color||0!=e.style.color&&"ffffff"!=e.style.color.toString(16)?e.style.color.toString(16)==a.queryObj.color&&(a.queryObj.type&&e.typeNum==a.queryObj.type?a.resultList.push(e):a.queryObj.type||a.resultList.push(e)):a.queryObj.type&&e.typeNum==a.queryObj.type?a.resultList.push(e):a.queryObj.type||a.resultList.push(e)}):o.forEach(e=>{a.queryObj.type&&e.typeNum==a.queryObj.type?a.resultList.push(e):a.queryObj.type||a.resultList.push(e)})},S=e=>{if(document.getElementsByClassName("result-list")[0].scrollTop=0,a.queryObj.type==e)return!1;a.queryObj.type=e,a.selUuidList=[],a.curSelUuid="",i.commit("modelStore/setNowMeasure");let t=i.state.modelStore,o=t.nowMeasure;o.sort((function(e,t){return t.createTime-e.createTime})),a.resultList=[],a.queryObj.type?o.forEach(e=>{e.typeNum==a.queryObj.type&&((!a.queryObj.color||("000000"!==a.queryObj.color&&"ffffff"!=a.queryObj.color||0!=e.style.color&&"ffffff"!=e.style.color.toString(16))&&e.style.color.toString(16)!=a.queryObj.color)&&a.queryObj.color||a.resultList.push(e))}):o.forEach(e=>{(!a.queryObj.color||("000000"!==a.queryObj.color&&"ffffff"!=a.queryObj.color||0!=e.style.color&&"ffffff"!=e.style.color.toString(16))&&e.style.color.toString(16)!=a.queryObj.color)&&a.queryObj.color||a.resultList.push(e)})},v=e=>{if(a.isInAll)a.selUuidList.indexOf(e.uuid)>-1?(a.curSelUuid="",a.selUuidList.splice(a.selUuidList.indexOf(e.uuid),1)):(a.selUuidList.push(e.uuid),a.curSelUuid=e.uuid,de.measureUtil&&de.measureUtil.moveCameraTo(a.curSelUuid));else{if(a.curSelUuid==e.uuid)return!1;a.curSelUuid=e.uuid,de.measureUtil&&de.measureUtil.moveCameraTo(a.curSelUuid)}},b=e=>{let t="";return a.typeList.forEach(o=>{o.type==e&&(t=o.value)}),t},f=()=>{let e=de.measureUtil&&de.measureUtil.getAllMeasureData();i.commit("modelStore/setAllMeasure",e),i.commit("modelStore/setNowMeasure");let t=i.state.modelStore;a.bgColorBlack=1==t.colorIdx,setTimeout(()=>{a.resultList=t.nowMeasure,a.resultList.sort((function(e,t){return t.createTime-e.createTime}))},100)};return f(),(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["result-center",{"no-data":a.resultList.length<7}])},[Object(n["createElementVNode"])("div",$h,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("ResultStatistics"))+" ",1),Object(n["createElementVNode"])("img",{onClick:r,src:Object(n["unref"])(bp.a),alt:""},null,8,Hh)]),Object(n["createElementVNode"])("div",Gh,[Object(n["createElementVNode"])("div",Wh,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["result-selColor-all",{"show-selType":0===a.queryObj.color}]),onClick:t[0]||(t[0]=e=>w(0))},Object(n["toDisplayString"])(e.$t("WholeColor")),3),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(a.colorList,(e,t)=>Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t=>w(e.color),class:"setting-bos-style",style:Object(n["normalizeStyle"])({border:"ffffff"==e.color?"1px solid #ccc":"none"})},[Object(n["createElementVNode"])("span",{class:"setting-bos-item",style:Object(n["normalizeStyle"])({background:"#"+e.color})},[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",{style:Object(n["normalizeStyle"])({border:"ffffff"==e.color?"1px solid #ccc":"1px solid #fff"}),class:"setting-bosi-loop"},null,4),[[n["vShow"],0!==a.queryObj.color&&a.queryObj.color==e.color]])],4)],12,qh)),[[n["vShow"],a.bgColorBlack&&6!=t||!a.bgColorBlack&&5!=t]])),256))])]),Kh,Object(n["createElementVNode"])("div",Zh,[Object(n["createElementVNode"])("div",Yh,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(a.typeList,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t=>S(e.type),class:Object(n["normalizeClass"])(["result-selColor-type",{"show-selType":a.queryObj.type==e.type}])},Object(n["toDisplayString"])(e.value),11,Jh))),256))])]),a.resultList.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Xh,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(a.resultList,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"result-list-li clearfix",style:Object(n["normalizeStyle"])({background:e.uuid==a.curSelUuid?"rgba(23, 128, 227, 0.3)":"none"})},[Object(n["createElementVNode"])("div",{class:"result-li-serial",onClick:t=>v(e)},[a.isInAll?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",ew,[Object(n["createElementVNode"])("img",{src:a.selUuidList.indexOf(e.uuid)>=0?Object(n["unref"])(Uh.a):Object(n["unref"])(Ph.a),alt:""},null,8,tw)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,style:Object(n["normalizeStyle"])({opacity:e.isHide?.4:1})},Object(n["toDisplayString"])(t+1),5))],8,Qh),Object(n["createElementVNode"])("div",{class:"result-list-liSon",onClick:t=>v(e),style:Object(n["normalizeStyle"])({opacity:e.isHide?.4:1})},[Object(n["createElementVNode"])("div",nw,[Object(n["createElementVNode"])("div",{style:Object(n["normalizeStyle"])({"background-color":"#"+s(e.style.color),border:"ffffff"==s(e.style.color)?"1px solid #ccc":"1px solid #fff"})},null,4)]),Object(n["createElementVNode"])("div",{class:"result-li-type",title:b(e.typeNum)},Object(n["toDisplayString"])(b(e.typeNum)),9,iw),Object(n["createElementVNode"])("div",{class:"result-li-text",title:e.textString},Object(n["toDisplayString"])(e.textString),9,aw)],12,ow),Object(n["createElementVNode"])("div",{class:"result-li-operate",style:Object(n["normalizeStyle"])({opacity:a.isInAll?.4:1})},[Object(n["createElementVNode"])("div",{onClick:t=>p(e),class:"result-operate-eye result-operate-img"},[Object(n["createElementVNode"])("img",{src:e.isHide?Object(n["unref"])(Ah.a):Object(n["unref"])(Nh.a),alt:""},null,8,cw)],8,rw),Object(n["createElementVNode"])("div",{onClick:t=>h(e),class:"result-operate-del result-operate-img"},[Object(n["createElementVNode"])("img",{src:Object(n["unref"])(kh.a),alt:""},null,8,lw)],8,sw)],4)],4))),256))])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",dw,Object(n["toDisplayString"])(e.$t("noData")),1)),a.resultList.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",mw,[a.isInAll?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,onClick:d,class:"result-b-back",style:{"margin-right":"14px"}},[Object(n["createElementVNode"])("img",{src:Object(n["unref"])(Rh.a),alt:""},null,8,uw)])):Object(n["createCommentVNode"])("",!0),a.isInAll?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:1,onClick:l,class:"result-b-inAll"},Object(n["toDisplayString"])(e.$t("multipleChoice")),1)),a.isInAll?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:2,onClick:m,class:"result-b-select"},[Object(n["createElementVNode"])("img",{src:0==a.selUuidList.length?Object(n["unref"])(Ph.a):a.selUuidList.length==a.resultList.length?Object(n["unref"])(Uh.a):Object(n["unref"])(Lh.a),alt:""},null,8,gw),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e.$t("rSelectAll")),1)])):Object(n["createCommentVNode"])("",!0),a.isInAll?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:3,onClick:u,class:"result-b-show",style:Object(n["normalizeStyle"])({opacity:0!=a.selUuidList.length?1:.2})},Object(n["toDisplayString"])(e.$t("rDelete")),5)):Object(n["createCommentVNode"])("",!0),a.isInAll?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:4,onClick:g,class:"result-b-show",style:Object(n["normalizeStyle"])({opacity:0!=a.selUuidList.length?1:.2})},Object(n["toDisplayString"])(e.$t("ShowOrHide")),5)):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0)],2))}};o("1bd8");const hw=it()(pw,[["__scopeId","data-v-766559af"]]);var ww=hw;const Sw={class:"anno-text-input"},vw={class:"anno-ti-title"},bw={class:"annoText_area"},fw={class:"anno-ti-footer"};function Cw(e,t,o,i,a,r){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Sw,[Object(n["createElementVNode"])("div",vw,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("TextAnnoTit"))+" ",1),Object(n["createElementVNode"])("img",{onClick:t[0]||(t[0]=(...e)=>i.cancelAnnoText&&i.cancelAnnoText(...e)),class:"anno-t-back",src:bp.a,alt:""})]),Object(n["createElementVNode"])("div",bw,[Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{id:"annoText_area","onUpdate:modelValue":t[1]||(t[1]=t=>e.annoText=t)},null,512),[[n["vModelText"],e.annoText]])]),Object(n["createElementVNode"])("div",fw,[Object(n["createElementVNode"])("div",{onClick:t[2]||(t[2]=(...e)=>i.cancelAnnoText&&i.cancelAnnoText(...e)),class:"anno-footer-cancel"},Object(n["toDisplayString"])(e.$t("cancel")),1),Object(n["createElementVNode"])("div",{onClick:t[3]||(t[3]=(...e)=>i.commitAnnoText&&i.commitAnnoText(...e)),class:"anno-footer-sure",style:Object(n["normalizeStyle"])({"background-color":e.annoText.trim()?"rgba(23, 128, 227, 1)":"#ccc"})},Object(n["toDisplayString"])(e.$t("sure")),5)])],512)),[[n["vShow"],e.isShowInput]])}var Ow={name:"textInput",setup(){const{proxy:e}=Object(n["getCurrentInstance"])(),t=Object(n["reactive"])({isShowInput:!1,annoOldText:"",annoText:"",annoUuid:"",isInAdd:!1}),o=Object(n["toRefs"])(t),i=Object(c["useStore"])(),{menuStore:a,modelStore:r,tagStore:s}=i.state;Object(n["watch"])(()=>t.annoText,(e,o)=>{t.annoUuid&&de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpTextStr(t.annoUuid,e)});const l=()=>{t.isInAdd&&t.annoUuid?(de.annotation2DPCUtil&&de.annotation2DPCUtil.delAnnotationOpData(t.annoUuid,!0),t.isInAdd=!1):t.annoUuid&&(de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpTextStr(t.annoUuid,t.annoOldText),de.annotation2DPCUtil&&de.annotation2DPCUtil.commitAnnotationOpText(t.annoUuid,!t.isInAdd)),t.annoUuid="",t.annoText="",t.isShowInput=!1,i.commit("menuStore/setShowAllMenu",!0),"newText"!=a.menuChoose2&&"tagLine"!=a.menuChoose2?(de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),i.commit("tagStore/setSelNewTag",!1)):de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(a.menuChoose2)},d=()=>{t.annoText.trim()&&t.annoUuid&&(de.annotation2DPCUtil&&de.annotation2DPCUtil.commitAnnotationOpText(t.annoUuid,!t.isInAdd),t.annoUuid="",t.annoText="",t.isShowInput=!1,i.commit("menuStore/setShowAllMenu",!0),t.isInAdd=!1)};return e.$eventBus.on("annotationAddTextBack",e=>{t.isInAdd=!0,t.annoUuid=e.uuid,t.annoText="",t.isShowInput=!0,i.commit("menuStore/setShowAllMenu",!1),setTimeout(()=>{let e=document.getElementById("annoText_area"),t=e.value.length;t&&(e.selectionStart=t,e.selectionEnd=t),e.focus()},50)}),e.$eventBus.on("AnnotationEditUUidBack",e=>{qe("ico-AnnoEditUuid",o=>{if(o){t.annoUuid=e.uuid,t.isInAdd=!1;let o=de.annotation2DPCUtil&&de.annotation2DPCUtil.getAnnotationOpData(t.annoUuid);t.annoText=o.state.textString,t.annoOldText=o.state.textString,t.isShowInput=!0,i.commit("menuStore/setShowAllMenu",!1),setTimeout(()=>{let e=document.getElementById("annoText_area"),t=e.value.length;t&&(e.selectionStart=t,e.selectionEnd=t),e.focus()},50)}})}),{...o,modelStore:r,menuStore:a,commitAnnoText:d,cancelAnnoText:l}}};o("351f");const xw=it()(Ow,[["render",Cw],["__scopeId","data-v-2fe9217a"]]);var yw=xw;const Tw=e=>(Object(n["pushScopeId"])("data-v-e6144f1e"),e=e(),Object(n["popScopeId"])(),e),jw={class:"new-style-setting"},Mw=["src","title"],Ew=["src","title"],kw=["src","title"],Dw=["src","title"],Aw=["src","title"],Bw=["src","title"],Nw=["src","title"],Iw={key:6,class:"measureSetting-right"},Lw=Tw(()=>Object(n["createElementVNode"])("div",{class:"measureS-line"},null,-1)),Vw={class:"measureS-r-img"},Uw=["src"],_w={class:"measureS-r2-img"},Pw=["src"],Fw={key:7,class:"selFontSize"},Rw={class:"selF_left setting-bo-customNum",style:{"margin-left":"8px"}},zw={class:"selitem",style:{height:"41px",padding:"5px 12px"}},$w=["onClick"],Hw=["src"],Gw={class:"selitem"},Ww=["onClick"],qw={class:"selitem",style:{height:"44px",padding:"5px 12px"}},Kw=["onClick"],Zw={class:"selitem",style:{height:"41px",padding:"5px 4px"}},Yw=["src"],Jw=["src"],Xw={class:"selitem",style:{height:"41px",padding:"5px 12px"}},Qw=["onClick"],eS=["src"];function tS(e,t,o,i,a,r){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",jw,["newText"==e.settingType||"tagLine"==e.settingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,onClick:t[0]||(t[0]=e=>i.selSettingType(1)),src:1==e.selectSettingType?i.mFontSizeS:i.mFontSize,title:e.$t("measureFontSize"),class:"setting-bottom-one"},null,8,Mw)):Object(n["createCommentVNode"])("",!0),"newText"==e.settingType||"tagLine"==e.settingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:1,onClick:t[1]||(t[1]=e=>i.selSettingType(2)),src:2==e.selectSettingType?i.aFontFamilyS:i.aFontFamily,title:e.$t("textFont"),class:"setting-bottom-one"},null,8,Ew)):Object(n["createCommentVNode"])("",!0),"newText"==e.settingType||"tagLine"==e.settingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:2,onClick:t[2]||(t[2]=e=>i.selSettingType(3)),src:3==e.selectSettingType?i.aFontSettingS:i.aFontSetting,title:e.$t("textStyle"),class:"setting-bottom-one"},null,8,kw)):Object(n["createCommentVNode"])("",!0),"newText"!=e.settingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:3,onClick:t[3]||(t[3]=e=>i.selSettingType(4)),src:4==e.selectSettingType?i.mLineWidthS:i.mLineWidth,title:e.$t("measureLineWidth"),class:"setting-bottom-one"},null,8,Dw)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("img",{onClick:t[4]||(t[4]=e=>i.selSettingType(5)),src:5==e.selectSettingType?i.mColorS:i.mColor,title:e.$t("measureColor"),class:"setting-bottom-one"},null,8,Aw),"tagLine"==e.settingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:4,onClick:t[5]||(t[5]=e=>i.selSettingType(6)),src:6==e.selectSettingType?1==e.lineType?i.annoLeadLineS:2==e.lineType?i.annoLeadPointLineS:i.annoLeadArrowS:1==e.lineType?i.annoLeadLine:2==e.lineType?i.annoLeadPointLine:i.annoLeadArrow,title:e.$t("measureArrowStyle"),class:"setting-bottom-one"},null,8,Bw)):Object(n["createCommentVNode"])("",!0),"tagLine"==e.settingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:5,onClick:t[6]||(t[6]=(...e)=>i.setTagLineSettingType&&i.setTagLineSettingType(...e)),src:1==e.connectType?i.annoBrokenLine:i.annoTypeLine,title:e.$t("textLineStyle"),class:"setting-bottom-one"},null,8,Nw)):Object(n["createCommentVNode"])("",!0),"newLine"==i.menuStore.menuChoose2||e.isHandLine&&e.isSelAnno?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Iw,[Lw,Object(n["createElementVNode"])("div",Vw,[Object(n["createElementVNode"])("img",{onClick:t[7]||(t[7]=e=>i.lastStepContinuous()),src:e.showLastStep?i.measureSBack:i.measureNBack,alt:""},null,8,Uw)]),Object(n["createElementVNode"])("div",_w,[Object(n["createElementVNode"])("img",{onClick:t[8]||(t[8]=e=>i.continuousAccomplish()),src:e.showAccomplish?i.measureSFinish:i.measureNFinish,alt:""},null,8,Pw)])])):Object(n["createCommentVNode"])("",!0),1==e.selectSettingType?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Fw,[Object(n["createElementVNode"])("div",{onClick:t[9]||(t[9]=e=>i.setSetting(1)),style:{padding:"0 4px"},class:Object(n["normalizeClass"])(1==e.AnnoStyle.fontSacleType?"selF_left pointer":"selF_left_no pointer")},Object(n["toDisplayString"])(e.$t("measureAdaptive")),3),Object(n["createElementVNode"])("div",Rw,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"newMeasureInput",onFocus:t[10]||(t[10]=t=>e.AnnoStyle.fontSacleType=2),"onUpdate:modelValue":t[11]||(t[11]=t=>e.AnnoStyle.fontSize=t),onKeyup:t[12]||(t[12]=Object(n["withKeys"])(e=>i.setSetting(2),["enter"])),type:"number"},null,544),[[n["vModelText"],e.AnnoStyle.fontSize]])])])):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",zw,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.lineWidthList,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:e=>i.setLineWidth(t),class:"selitem-lineWidth"},[Object(n["createElementVNode"])("img",{src:e.AnnoStyle.lineWidth==t.width?t.selImgUrl:t.imgUrl,alt:""},null,8,Hw)],8,$w))),256))],512),[[n["vShow"],4==e.selectSettingType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Gw,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.colorList,(t,o)=>Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:e=>i.setColor(t),class:"setting-bos-style",style:Object(n["normalizeStyle"])({border:"16777215"==t.index?"1px solid #ccc":"none"})},[Object(n["createElementVNode"])("span",{class:"setting-bos-item",style:Object(n["normalizeStyle"])({background:"#"+t.color})},[e.AnnoStyle.color==t.index?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,style:Object(n["normalizeStyle"])({border:"16777215"==t.index?"1px solid #ccc":"1px solid #fff"}),class:"setting-bosi-loop"},null,4)):Object(n["createCommentVNode"])("",!0)],4)],12,Ww)),[[n["vShow"],e.AnnoStyle.isBlack&&6!=o||!e.AnnoStyle.isBlack&&5!=o]])),256))],512),[[n["vShow"],5==e.selectSettingType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",qw,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.fontFamily,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{style:Object(n["normalizeStyle"])({background:e.AnnoStyle.fontFamily==t.familyType?"#D1E6F9":"#fff"}),class:"setting-Type-style setting-bo-flex",onClick:e=>i.setfontFamily(t)},[Object(n["createElementVNode"])("span",{class:"setting-boh-item",style:Object(n["normalizeStyle"])([{padding:"0 8px"},{color:e.AnnoStyle.fontFamily==t.familyType?"#1780E3":"#333333"}])},Object(n["toDisplayString"])(1==t.familyType?e.$t("textSimSun"):2==t.familyType?e.$t("textHanSans"):"Arial"),5)],12,Kw))),256))],512),[[n["vShow"],2==e.selectSettingType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Zw,[Object(n["createElementVNode"])("div",{class:"setting-bo-flex setting-bos-img",onClick:t[13]||(t[13]=e=>i.setItalic())},[Object(n["createElementVNode"])("img",{class:"setting-boh-item",src:e.AnnoStyle.isItalic?i.fontItalicS:i.fontItalic},null,8,Yw)]),Object(n["createElementVNode"])("div",{style:{"margin-right":"0px"},class:"setting-bo-flex setting-bos-img",onClick:t[14]||(t[14]=e=>i.setIsBold())},[Object(n["createElementVNode"])("img",{class:"setting-boh-item",src:e.AnnoStyle.isBold?i.fontIsBoldS:i.fontIsBold},null,8,Jw)])],512),[[n["vShow"],3==e.selectSettingType]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Xw,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.tagLineStyleList,(t,o)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:e=>i.setTagLineStyle(t),class:"selitem-lineWidth"},[Object(n["createElementVNode"])("img",{src:e.lineType==t.type?t.selImgUrl:t.imgUrl,alt:""},null,8,eS)],8,Qw))),256))],512),[[n["vShow"],6==e.selectSettingType]])],512)),[[n["vShow"],i.menuStore.showAllMenu&&(e.isSelAnno||"newText"==i.menuStore.menuChoose2||"newLine"==i.menuStore.menuChoose2||"cloudLine"==i.menuStore.menuChoose2||"newCircle"==i.menuStore.menuChoose2||"newRectangle"==i.menuStore.menuChoose2||"newLine2Pt"==i.menuStore.menuChoose2||"newArrow2Pt"==i.menuStore.menuChoose2||"tagLine"==i.menuStore.menuChoose2)&&!i.menuStore.stylePopShow]])}var oS=o("49d5"),nS=o.n(oS),iS=o("77f7"),aS=o.n(iS),rS=o("fd3d"),cS=o.n(rS),sS=o("800f"),lS=o.n(sS),dS=o("101d"),mS=o.n(dS),uS=o("5384"),gS=o.n(uS),pS=o("9a0b"),hS=o.n(pS),wS=o("1ea7"),SS=o.n(wS),vS=o("dbe5"),bS=o.n(vS),fS=o("4b01"),CS=o.n(fS),OS=o("1f22"),xS=o.n(OS),yS=o("b94b"),TS=o.n(yS),jS=o("58a0"),MS=o.n(jS),ES=o("4b86"),kS=o.n(ES),DS=o("f2ce"),AS=o.n(DS),BS=o("7aaf"),NS=o.n(BS),IS={name:"textInput",setup(){const{proxy:e}=Object(n["getCurrentInstance"])(),t=Object(n["reactive"])({isHandLine:!1,showLastStep:!1,showAccomplish:!1,selectSettingType:0,settingType:"",curUuid:"",isSelAnno:!1,AnnoStyle:{fontSacleType:1,fontFamily:1,fontSize:16,isItalic:!1,isBold:!1,color:parseInt("FFFFFF",16),lineWidth:1,isBlack:!0},tagLineStyleList:[{imgUrl:hS.a,selImgUrl:SS.a,type:1},{imgUrl:bS.a,selImgUrl:CS.a,type:2},{imgUrl:mS.a,selImgUrl:gS.a,type:3}],lineWidthList:[{imgUrl:Rm.a,selImgUrl:hu.a,width:1},{imgUrl:$m.a,selImgUrl:Su.a,width:2},{imgUrl:Gm.a,selImgUrl:bu.a,width:3}],fontFamily:[{familyType:1,familyName:"宋体"},{familyType:2,familyName:"思源黑体"},{familyType:3,familyName:"Arial"}],colorList:[{color:"1780E3",index:parseInt("1780E3",16)},{color:"FFD900",index:parseInt("FFD900",16)},{color:"D43030",index:parseInt("D43030",16)},{color:"43CF7C",index:parseInt("43CF7C",16)},{color:"AC33C1",index:parseInt("AC33C1",16)},{color:"FFFFFF",index:parseInt("FFFFFF",16)},{color:"000000",index:parseInt("000000",16)}],timerControl:!1,lineType:1,connectType:1}),o=Object(n["toRefs"])(t),i=Object(c["useStore"])(),{menuStore:a,modelStore:r}=i.state,s=()=>{let e=t.AnnoStyle.fontSize;e&&(e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$",".")),t.AnnoStyle.fontSize=e},l=e=>{t.selectSettingType=0,t.lineType=e.type;let o={lineType:t.lineType,connectType:t.connectType};t.curUuid?de.annotation2DPCUtil&&de.annotation2DPCUtil.setTagLineStyle(t.curUuid,o):de.annotation2DPCUtil&&de.annotation2DPCUtil.setTagLineStyle("",o)},d=()=>{t.selectSettingType=0,1==t.connectType?t.connectType=2:t.connectType=1;let e={lineType:t.lineType,connectType:t.connectType};t.curUuid?de.annotation2DPCUtil&&de.annotation2DPCUtil.setTagLineStyle(t.curUuid,e):de.annotation2DPCUtil&&de.annotation2DPCUtil.setTagLineStyle("",e)},m=e=>{if(t.selectSettingType==e)return t.selectSettingType=0,!1;t.selectSettingType=e;let o=de.annotation2DPCUtil&&de.annotation2DPCUtil.getAnnotationStyle(t.curUuid);o?t.AnnoStyle=o:(t.curUuid="",t.AnnoStyle=de.annotation2DPCUtil&&de.annotation2DPCUtil.getAnnotationStyle(),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType("newText"==a.menuChoose2?"newText":"")),1==e&&1!=t.AnnoStyle.fontSacleType&&setTimeout(()=>{let e=document.getElementById("newMeasureInput");e.focus()},50)},u=e=>{1!=e&&2!=e||(t.AnnoStyle.fontSacleType=e,1==e&&(t.AnnoStyle.fontSize="")),t.selectSettingType="";let o=JSON.parse(JSON.stringify(t.AnnoStyle));2==e&&(o.fontSize=parseFloat(o.fontSize)&&parseFloat(o.fontSize)>0?parseFloat(o.fontSize):18),t.curUuid?de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationStyle(t.curUuid,o,1==e||2==e):de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationStyle("",o,1==e||2==e)},g=e=>{t.AnnoStyle.lineWidth=e.width,u(4)},p=e=>{t.AnnoStyle.color=e.index,u(3)},h=()=>{t.AnnoStyle.isItalic=!t.AnnoStyle.isItalic,u(5)},w=()=>{t.AnnoStyle.isBold=!t.AnnoStyle.isBold,u(6)},S=e=>{t.AnnoStyle.fontFamily=e.familyType,u(7)},v=()=>{if(t.timerControl)return!1;t.timerControl=!0,setTimeout(()=>{t.timerControl=!1},600),t.showLastStep&&de.annotation2DPCUtil&&de.annotation2DPCUtil.lastStepContinuous()},b=()=>{if(t.timerControl)return!1;t.timerControl=!0,setTimeout(()=>{t.timerControl=!1},600),t.showAccomplish&&de.annotation2DPCUtil&&de.annotation2DPCUtil.continuousAccomplish()};return e.$eventBus.on("AnnotationDelUUidBack",e=>{qe("ico-AnnoDelUuid",o=>{if(o){t.selectSettingType=0,"newLine"!=i.state.menuStore.menuChoose2&&"cloudLine"!=i.state.menuStore.menuChoose2&&"newCircle"!=i.state.menuStore.menuChoose2&&"newRectangle"!=i.state.menuStore.menuChoose2&&"newLine2Pt"!=i.state.menuStore.menuChoose2&&"newArrow2Pt"!=i.state.menuStore.menuChoose2&&"tagLine"!=i.state.menuStore.menuChoose2&&"meter"!=i.state.menuStore.menuChoose&&de._viewer.setOperatorByID("OpPan"),t.isSelAnno=!1;let o=e.uuid;if(t.curUuid="","tagLine"==i.state.menuStore.menuChoose2){let e=de.annotation2DPCUtil&&de.annotation2DPCUtil.getTagLineStyle(t.curUuid);t.connectType=e.connectType,t.lineType=e.lineType}let n=de.annotation2DPCUtil&&de.annotation2DPCUtil.getAnnotationOpData(o);We(n,e=>{de.annotation2DPCUtil&&de.annotation2DPCUtil.delAnnotationOpData(o),i.commit("modelStore/delAnnotation",n)})}})}),e.$eventBus.on("AddAnnotationBack",e=>{t.curUuid=e.uuid}),e.$eventBus.on("AddAnnotationFinishBack",e=>{let o=e.uuid,n=!1;t.curUuid="";let a=de.annotation2DPCUtil&&de.annotation2DPCUtil.getAnnotationOpData(o);const r=i.state.modelStore.allAnnotation;r.forEach(e=>{e.state.uuid==o&&(n=!0)}),t.selectSettingType=0,n?Ge(a,e=>{if(i.commit("modelStore/changeAnnotation",a),"newText"!=i.state.menuStore.menuChoose2&&"newLine"!=i.state.menuStore.menuChoose2&&"cloudLine"!=i.state.menuStore.menuChoose2&&"newCircle"!=i.state.menuStore.menuChoose2&&"newRectangle"!=i.state.menuStore.menuChoose2&&"newLine2Pt"!=i.state.menuStore.menuChoose2&&"newArrow2Pt"!=i.state.menuStore.menuChoose2&&"tagLine"!=i.state.menuStore.menuChoose2&&"meter"!=i.state.menuStore.menuChoose&&de._viewer.setOperatorByID("OpPan"),"newLine"!=i.state.menuStore.menuChoose2&&"newLine"==a.state.origiType&&de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),"tagLine"==i.state.menuStore.menuChoose2){let e=de.annotation2DPCUtil&&de.annotation2DPCUtil.getTagLineStyle(t.curUuid);t.connectType=e.connectType,t.lineType=e.lineType}}):He(a,e=>{if(i.commit("modelStore/addAnnotation",a),"tagLine"==i.state.menuStore.menuChoose2){let e=de.annotation2DPCUtil&&de.annotation2DPCUtil.getTagLineStyle(t.curUuid);t.connectType=e.connectType,t.lineType=e.lineType}}),t.isSelAnno&&(t.isSelAnno=!1)}),e.$eventBus.on("AnnotationSelUUidBack",e=>{let o=e.uuid;t.curUuid=o;let n=de.annotation2DPCUtil&&de.annotation2DPCUtil.getAnnotationOpData(t.curUuid);if(t.settingType=n.state.origiType,"tagLine"==t.settingType){let e=de.annotation2DPCUtil&&de.annotation2DPCUtil.getTagLineStyle(t.curUuid);t.connectType=e.connectType,t.lineType=e.lineType}t.isSelAnno=!0,t.selectSettingType=0,i.commit("tagStore/setSelNewTag",!0)}),e.$eventBus.on("annotationAddTextBack",e=>{let o=e.uuid;t.curUuid=o}),e.$eventBus.on("hideSetting",e=>{t.curUuid="",t.isSelAnno=!1}),e.$eventBus.on("toggleNoteShow",e=>{t.curUuid&&(de.annotation2DPCUtil&&de.annotation2DPCUtil.deSelAnnotationOpResult(t.curUuid),t.curUuid="",t.isSelAnno=!1)}),Object(n["watch"])(()=>i.state.menuStore.menuChoose,(e,o)=>{t.selectSettingType=0,t.isHandLine=!1,(e&&t.curUuid||"tag"==o&&""==e)&&(t.curUuid&&de.annotation2DPCUtil&&de.annotation2DPCUtil.deSelAnnotationOpResult(t.curUuid),t.curUuid="",t.isSelAnno=!1),"excelGet"!=e&&"textGet"!=e||(de.setAnnotationsVisibility(0),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!1),de.measureUtil&&de.measureUtil.setMeasureVisible(!1)),"excelGet"!=o&&"textGet"!=o||"excelGet"==e||"textGet"==e||(i.state.tagStore.tagShow&&(de.setAnnotationsVisibility(1),de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpVisible(!0)),de.measureUtil&&de.measureUtil.setMeasureVisible(!0))}),Object(n["watch"])(()=>i.state.menuStore.menuChoose2,(e,o)=>{if(t.isHandLine=!1,t.selectSettingType=0,"tagdrawing"==e||"newText"==e||"newLine"==e||"cloudLine"==e||"newCircle"==e||"newRectangle"==e||"newLine2Pt"==e||"newArrow2Pt"==e||"tagLine"==e){if(t.curUuid="",t.settingType=e,de.setAnnotationsVisibility(0),"newText"!=e&&"newLine"!=e&&"cloudLine"!=e&&"newCircle"!=e&&"newRectangle"!=e&&"newLine2Pt"!=e&&"newArrow2Pt"!=e&&"tagLine"!=e||de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),"tagLine"==e){let e=de.annotation2DPCUtil&&de.annotation2DPCUtil.getTagLineStyle(t.curUuid);t.connectType=e.connectType,t.lineType=e.lineType}}else"tag"==i.state.menuStore.menuChoose&&""==e&&(t.curUuid="",t.isSelAnno=!1,de.setAnnotationsVisibility(1));"tag"==i.state.menuStore.menuChoose&&"newText"!=e&&"newLine"!=e&&"cloudLine"!=e&&"newCircle"!=e&&"newRectangle"!=e&&"newLine2Pt"!=e&&"newArrow2Pt"!=e&&"tagLine"!=e&&(de.annotation2DPCUtil&&de.annotation2DPCUtil.setAnnotationOpType(""),de._viewer.setOperatorByID("OpPan"))}),Object(n["watch"])(()=>i.state.tagStore.isSelNewTag,(e,o)=>{e||(t.curUuid="",t.isSelAnno=!1)}),Object(n["watch"])(()=>t.isShowAnnoSetting,(e,t)=>{e||(i.commit("menuStore/setStylePopShow",!1),i.state.menuStore.menuChoose||i.commit("menuStore/setShowOneMenu",!0))}),e.$eventBus.on("changeAnnoDataLengthBack",e=>{0!=e.length?t.showLastStep=!0:t.showLastStep=!1,"newLine"==e.type&&("newLine"!=i.state.menuStore.menuChoose2&&de.annotation2DPCUtil&&de.annotation2DPCUtil.setOperatorByID("OpAnnotation2DPC"),t.isHandLine=!0,e.length>=1?t.showAccomplish=!0:t.showAccomplish=!1)}),{...o,modelStore:r,menuStore:a,mFontSizeS:au.a,mFontSize:Am.a,aFontSetting:cS.a,aFontSettingS:lS.a,aFontFamily:nS.a,aFontFamilyS:aS.a,mColor:km.a,mColorS:nu.a,mLineWidthS:cu.a,mLineWidth:Nm.a,validateNumberOne:s,selSettingType:m,setSetting:u,setLineWidth:g,setColor:p,fontItalic:MS.a,fontItalicS:kS.a,fontIsBold:AS.a,fontIsBoldS:NS.a,setItalic:h,setIsBold:w,setfontFamily:S,measureNBack:qm.a,measureNFinish:Zm.a,measureSBack:Jm.a,measureSFinish:Qm.a,lastStepContinuous:v,continuousAccomplish:b,annoLeadArrow:mS.a,annoLeadArrowS:gS.a,annoLeadLine:hS.a,annoLeadLineS:SS.a,annoLeadPointLine:bS.a,annoLeadPointLineS:CS.a,annoBrokenLine:xS.a,annoTypeLine:TS.a,setTagLineStyle:l,setTagLineSettingType:d}}};o("6a9e");const LS=it()(IS,[["render",tS],["__scopeId","data-v-e6144f1e"]]);var VS=LS;let US,_S=null,PS=null;var FS={install(e){US=e},components:{MsgTip:rt,Tips:mt,Loading:St,Loading2:Dt,BottomBtn:oa,configSwitch:ha,structureTree:Da,tagCom:Ic,unitChange:Yc,coorCover:Ct,textFind:As,textDraw:il,blockDraw:sl,blockSearch:id,paperCompare:Tm,measureSetting:og,modelviewSave:Gg,measureEdit:op,scaleSetting:Mh,measureFacade:Sp,resultGather:ww,excelGet:ts,textInput:yw,annoSetting:VS,textGet:Ks,textGetResult:el},props:{viewCtrl:{type:Object,default:{configNum:-1,bgColor:15921906,autoPlay:0,showShadow:!1,allowEditAttr:!1,configNum:-1,askAccuracy:!1,hideItem:{userdyAttr:!0,structTree:!0,pmi:!0,measure:!0},viewerReqHeader:"",hidebtnCfg:[]}}},setup(){const e=Object(n["ref"])(null),t=Object(n["reactive"])({language:"en",askAlready:!1,unshowtag:!0,isLoaded:!1,broadTimer:null,logoConfig:"",logoConfigStyle:{},isSelMeasure:!1,showMeasureSetting:!1,measureStyle:{uuid:""},measureData:{},isShowEdit:!1,isScaleSetting:!1,isScaleResult:!1,isInScaleMeasure:!1}),o=Object(c["useStore"])(),{menuStore:i,modelStore:a}=o.state,{proxy:r}=Object(n["getCurrentInstance"])(),{locale:l}=Object(s["useI18n"])();_S=r,PS=o;const d=()=>{t.isScaleResult=!1,t.isScaleSetting=!0},m=()=>{t.isScaleSetting=!1,t.isScaleResult=!0},u=()=>{try{e.value&&e.value.reset(),t.measureStyle.uuid&&(de.measureUtil&&de.measureUtil.deSelMeasureData(t.measureStyle.uuid),t.measureStyle={uuid:""},t.isSelMeasure=!1)}catch(o){}};window.nd_viewCtrl||(window.nd_viewCtrl=r.viewCtrl),Object(n["watch"])(()=>o.state.menuStore.menuChoose,(e,n)=>{if(t.showMeasureSetting="meter"==e,t.measureStyle.uuid&&"-1"!=t.measureStyle.uuid){let e=de.measureUtil&&de.measureUtil.getMeasureData(t.measureStyle.uuid);e&&"isScale"==e.type&&de.measureUtil&&de.measureUtil.delMeasureResult(t.measureStyle.uuid),de.measureUtil&&de.measureUtil.deSelMeasureData(t.measureStyle.uuid)}"blockSearch"==n&&(de.clearSearchRect(),de.exitBlock(),de.setAnnotationsVisibility(o.state.tagStore.tagShow)),t.measureStyle.uuid="","none"==e&&(t.isSelMeasure=!1)}),Object(n["watch"])(()=>o.state.menuStore.menuChoose2,(e,o)=>{if("scaleResult"==e?m():"setSetting"==e?d():(t.isScaleSetting=!1,t.isScaleResult=!1),t.measureStyle.uuid&&"-1"!=t.measureStyle.uuid){let e=de.measureUtil&&de.measureUtil.getMeasureData(t.measureStyle.uuid);e&&"isScale"==e.type&&de.measureUtil&&de.measureUtil.delMeasureResult(t.measureStyle.uuid)}t.measureStyle.uuid=""}),Object(n["watch"])(()=>o.state.menuStore.menuChoose3,(e,o)=>{t.measureStyle.uuid=""}),Object(n["watch"])(()=>o.state.menuStore.menuChoose,(e,t)=>{if("excelGet"==e)de.setAnnotationsVisibility(!1);else if("excelGet"==t){const e=o.state.tagStore.tagShow;de.setAnnotationsVisibility(e)}}),Object(n["onMounted"])(()=>{v();const e=async e=>{if("paperCompare"==o.state.menuStore.menuChoose)return!1;try{e&&nd_viewCtrl.initLoad&&nd_viewCtrl.initLoad(a.nowConfig),!e&&nd_viewCtrl.loadFaild&&nd_viewCtrl.loadFaild(),e&&(setTimeout(()=>{he.readyForDom(()=>{o.commit("showBottomBtn"),o.commit("showCtrlBtn")})},0),S(),b(),setTimeout(()=>{let e=de.compareUtil&&de.compareUtil.showCompare2D&&de.compareUtil.showCompare2D();o.commit("ShowCompar",e)},10)),de._viewer.setDispalyModelUnit(o.state.modelStore.unit),r.initRTM(),o.commit("setModelIsLoaded",!0),r.$eventBus.emit("loadAndInitSub")}catch(t){}de.storeViewUtil=de._viewer.getExtension("NDSCamera2DExtension"),r.$eventBus.emit("NDSBlockExPluginloaded"),de.blockUtil=de._viewer.getExtension("NDSBlockExtension"),de.annotationUtil=de._viewer.getExtension("AnnotationExtension"),de.measureUtil=de._viewer.getExtension("Measure2DPCExtension"),de.selectObjUtil=de._viewer.getExtension("Select2DPCExtension"),de.textUtil=de._viewer.getExtension("NDSTextExtension"),de.pdfExtensionUtil=de._viewer.getExtension("NDSPDFExtension")};r.$eventBus.on("loadBack",e)}),nd_viewCtrl.hideItem&&o.commit("modelStore/setHideItem",nd_viewCtrl.hideItem),l.value=nd_viewCtrl.language||"zh";const g=window.navigator.userAgent.toLocaleLowerCase(),p=/iphone|ipad|ipod/.test(g);function h(e){r.$eventBus||(r.$eventBus=US.$eventBus),w();var t=e.shareInfo,o=e.shareInfo&&e.shareInfo.camerainfo?e.shareInfo.camerainfo:null;de.loadModelView(e.modejsPath,(function(){setTimeout(()=>{de._viewer.onWindowResize()},2e3)}),e.configNum,o,t)}function w(n){const i=de.getViewerIntance();i.addEventListener("loadBegin",(function(){o.commit("setShowLoading",!1)})),i.addEventListener("BVHInfoEvent",(function(e){o.commit("modelStore/setBvhLoad",!0),ne([o.state.modelStore._geometryload,o.state.modelStore._bvhload,o.state.modelStore._pluginload],()=>{r.$eventBus.emit("loadBack",!0),r.$eventBus.emit("loadComplete")})})),i.addEventListener("geometryAllLoadedEvent",(function(){o.commit("modelStore/setGeometryload",!0),ne([o.state.modelStore._geometryload,o.state.modelStore._bvhload,o.state.modelStore._pluginload],()=>{r.$eventBus.emit("loadBack",!0),r.$eventBus.emit("loadComplete")}),nd_viewCtrl.loadedEvent&&nd_viewCtrl.loadedEvent({geometry:!0,pmi:o.state.modelStore._pmiload,brep:o.state.modelStore._brepload}),setTimeout(()=>{this.unshowtag=!1},1e3)})),i.addEventListener("loadError",(function(e){r.$eventBus.emit("MsgTipEvent",r.$t("modelLoadErr")),o.commit("setShowLoading",!1),r.$eventBus.emit("loadBack",!1),r.$eventBus.emit("loadFail")})),i.addEventListener("clearSelection",(function(e){r.$eventBus.emit("clearSelectionSub")})),i.addEventListener("measureTimes",(function(e){"sync"==nd_viewCtrl.viewMode&&e.times>19&&r.$eventBus.emit("MsgTipEvent",r.$t("measureTimesErr")),nd_viewCtrl.measureTimes&&nd_viewCtrl.measureTimes(e)})),i.addEventListener("BrepInfoEvent",(function(e){o.commit("modelStore/setBrepload",!0),nd_viewCtrl.loadedEvent&&nd_viewCtrl.loadedEvent({geometry:o.state.modelStore._geometryload,pmi:o.state.modelStore._pmiload,brep:!0})})),i.addEventListener("selectObjectEvent",(function(e){r.$eventBus.emit("selectObjectEvent",de.getSelectedObjects())})),i.addEventListener("deselectObjectEvent",(function(e){r.$eventBus.emit("deselectObjectEvent")})),i.addEventListener("annotationSelectedEvent",(function(e){r.$eventBus.emit("resetAll")})),i.addEventListener("BodySelectionChangeEvent",(function(e){const t=de.getSelectedObjects();o.state.menuStore.structMenu&&o.state.menuStore.attrMenu&&1==t.length&&t[0].children.length<1&&r.$eventBus.emit("structNodeChoose",t)})),i.addEventListener("broadcastEvent",(function(e){if("sync"==nd_viewCtrl.viewMode)try{if(t.broadTimer)return;t.broadTimer=setTimeout(()=>{clearInterval(t.broadTimer),t.broadTimer=null,r.$tag.tcStep0||r.$tag.tcStep1||nd_viewCtrl.rtmSDK.joinStatus&&Pe.sendCenter(1)},100)}catch(o){}})),i.addEventListener("NoteAdd",e=>{nd_viewCtrl.userInfo&&nd_viewCtrl.userInfo.userName&&(e.data.userInfo={userName:nd_viewCtrl.userInfo.userName}),ze({tagType:"lineNote",tagInfo:e.data,tagUuid:e.data.tagId},t=>{e.addNote("failed"!=t),"failed"!=t&&o.commit("modelStore/addTag",e.data)})}),i.addEventListener("NoteChange",e=>{nd_viewCtrl.userInfo&&nd_viewCtrl.userInfo.userName&&(e.data.userInfo={userName:nd_viewCtrl.userInfo.userName}),$e({tagType:"lineNote",tagInfo:e.data,tagUuid:e.data.tagId},t=>{e.editNote("failed"!=t),"failed"!=t&&o.commit("modelStore/editTag",e.data)})}),i.addEventListener("NoteDelete",e=>{let t=t=>{"failed"!=t&&(e.delete(),o.commit("modelStore/delTagByuuid",e.data.tagId),tagUpdateIndex())};te(["beDelTag"])?t():nd_viewCtrl.beDelTag(e.data.tagId,t)}),i.addEventListener("NoteSelect",e=>{let t=e.data,n=[];t.map(e=>n.push(e.tagId)),o.commit("tagStore/setNoteSelectId",n)}),i.addEventListener("AddMeasure",(function(e){t.measureStyle.uuid=e.data.uuid,"facade"==e.data.style.type&&r.$eventBus.emit("AddMeasureFacadeLength",e)})),i.addEventListener("selMeasure",(function(o){t.measureStyle.uuid=o.data.uuid,t.isSelMeasure=!0,e.value&&e.value.reset(),setTimeout(()=>{r.$eventBus.emit("selMeasureType",o.data),"radius"==o.data.measureType&&r.$eventBus.emit("showRadiusType",o)},50)})),i.addEventListener("AddMeasureFinish",(function(e){t.measureStyle.uuid="",t.isSelMeasure&&(r.$eventBus.emit("deSelMeasureBack"),r.$eventBus.emit("hideFacadeType")),t.isSelMeasure=!1,r.$eventBus.emit("AddMeasureFinishBack",e)})),i.addEventListener("AddContinuousFinish",(function(e){t.measureStyle.uuid="",r.$eventBus.emit("AddContinuousFinishBack",e)})),i.addEventListener("MeasureEscape",(function(e){u(),t.isSelMeasure=!1,"meterDistance"==o.state.menuStore.menuChoose2?(r.$eventBus.emit("hideFacadeBack2",e),r.$eventBus.emit("MeasureEscapeBack2",e)):(r.$eventBus.emit("hideFacadeBack1",e),r.$eventBus.emit("MeasureEscapeBack",e)),r.$eventBus.emit("hideFacadeBack",e)})),i.addEventListener("MeasureDelUUid",(function(e){let n=n=>{n&&(de.measureUtil&&de.measureUtil.delMeasureResult(e.data.uuid),o.commit("modelStore/setDelMeasure",e.data),t.measureStyle.uuid="",t.isSelMeasure=!1,nd_viewCtrl.measureChange&&nd_viewCtrl.measureChange({type:"delete",data:e.data}),"facade"==e.data.type&&r.$eventBus.emit("hideFacadeType",e))};te(["checkEvent"])?n(!0):nd_viewCtrl.checkEvent&&nd_viewCtrl.checkEvent("ico-MeasureDelUuid",n)})),i.addEventListener("Pluginloaded",(function(e){if(!o.state.modelStore._pluginloaded){switch(Fe(e),e.name){case"NDSBlockExtension":r.$eventBus.emit("NDSBlockExPluginloaded");break;case"Measure2DPCExtension":break;case"Select2DPCExtension":de.selectObjUtil=de._viewer.getExtension("Select2DPCExtension"),de.selectObjUtil&&de.selectObjUtil.setOperatorByID("OpSelectObj2DPC"),de.selectObjUtil&&de.selectObjUtil.setOpSelectType(!0),de._viewer.setOperatorByID("OpPan");break;case"Annotation2DPCExtension":de.annotation2DPCUtil=de._viewer.getExtension("Annotation2DPCExtension");case"NDSCompare2DExtension":de.compareUtil=de._viewer.getExtension("NDSCompare2DExtension");break;default:break}Re(e.name,o.state.extensions)&&(nd_viewCtrl.pluginLoadedEvent&&nd_viewCtrl.pluginLoadedEvent("AllExtension"),o.commit("modelStore/setPluginLoaded",!0),ne([o.state.modelStore._geometryload,o.state.modelStore._bvhload,o.state.modelStore._pluginload],()=>{r.$eventBus.emit("loadBack",!0),r.$eventBus.emit("loadComplete")}))}})),i.addEventListener("MeasureEditUUid",(function(e){let o=o=>{o&&("facade"==e.data.type?r.$eventBus.emit("showFacadeType",e):(t.measureData=e.data,t.isShowEdit=!0))};te(["checkEvent"])?o(!0):nd_viewCtrl.checkEvent&&nd_viewCtrl.checkEvent("ico-MeasureEditUUid",o)})),i.addEventListener("MeasureDataLength",(function(e){r.$eventBus.emit("changeMeasureDataLengthBack",e.data),r.$eventBus.emit("changeAnnoDataLengthBack",e.data)})),i.addEventListener("MeasureRadiusType",(function(e){r.$eventBus.emit("MeasureRadiusTypeBack",e)})),i.addEventListener("inScaleMeasure",(function(e){t.isInScaleMeasure=e.data.isInScaleMeasure})),i.addEventListener("setScaleData",(function(e){t.isInScaleMeasure=!1,t.measureStyle.uuid=e.data.uuid,r.$eventBus.emit("setScaleDataBack",e)})),i.addEventListener("ExcelEnd",(function(e){r.$eventBus.emit("ExcelEnd"),o.commit("menuStore/setExcelGetShow",!0)})),i.addEventListener("ExcelFormatError",(function(e){r.$eventBus.emit("MsgTipEvent",r.$t("excelFormatError"))})),i.addEventListener("loadSuccess",(function(e){r.$eventBus.emit("loadSuccessBack")})),i.addEventListener("modelVersionError",(function(e){r.$eventBus.emit("modelVersionErrorBack")})),i.addEventListener("beginCompare",(function(e){r.$eventBus.emit("beginCompareBack")})),i.addEventListener("endCompare",(function(e){r.$eventBus.emit("endCompareBack")})),i.addEventListener("isSelectObjects",(function(e){r.$eventBus.emit("isSelectObjectsBack")})),i.addEventListener("resetCameraEvent",(function(e){r.$eventBus.emit("resetCameraEventBack")})),i.addEventListener("annotationAddText",(function(e){r.$eventBus.emit("annotationAddTextBack",e.data)})),i.addEventListener("AddAnnotation",(function(e){r.$eventBus.emit("AddAnnotationBack",e.data)})),i.addEventListener("AddAnnotationFinish",(function(e){r.$eventBus.emit("AddAnnotationFinishBack",e.data)})),i.addEventListener("AnnotationEditUUid",(function(e){r.$eventBus.emit("AnnotationEditUUidBack",e.data)})),i.addEventListener("AnnotationDelUUid",(function(e){r.$eventBus.emit("AnnotationDelUUidBack",e.data)})),i.addEventListener("selAnnotation",(function(e){r.$eventBus.emit("AnnotationSelUUidBack",e.data)})),i.addEventListener("resetCameraEvent",(function(e){r.$eventBus.emit("resetCameraEventBack")})),i.addEventListener("ExtractTextDraw",(function(e){r.$eventBus.emit("ExtractTextDrawSub")})),i.addEventListener("ExtractTextBegin",(function(e){})),i.addEventListener("ExtractTextEnd",(function(e){r.$eventBus.emit("ExtractTextEndSub")}))}function S(){let e=!1;nd_viewCtrl&&nd_viewCtrl.suportLineWeight&&(e=nd_viewCtrl.suportLineWeight),nd_viewCtrl.shareInfo&&nd_viewCtrl.shareInfo.camerainfo&&(e=nd_viewCtrl.shareInfo.suportLineWeight||!1,o.state.modelIsLoaded||(o.commit("modelStore/initRotationAngle",nd_viewCtrl.shareInfo.rotationAngle||[]),o.commit("modelStore/initDefaultRAngle",nd_viewCtrl.shareInfo.rotationAngle||[]))),o.state.modelIsLoaded&&(e=a.suportLineWeight),o.commit("modelStore/setSuportLineWeight",e),de._viewer.setLineWidth(e),nd_viewCtrl.viewports&&Array.isArray(nd_viewCtrl.viewports)&&o.commit("modelStore/setModelviewData",nd_viewCtrl.viewports)}function v(){0!=nd_viewCtrl.default&&nd_viewCtrl.src&&r.loadViewer(),t.language=nd_viewCtrl.language||"zh",window.nd_loadViewer=r.loadViewer,window.nd_load2Dviewer=r.loadViewer,nd_viewCtrl.logoConfig||(nd_viewCtrl.logoConfig={}),t.logoConfig={...nd_viewCtrl.logoConfig},t.logoConfigStyle=X(t.logoConfig)}function b(){"yzp"!=nd_viewCtrl.viewMode&&(nd_viewCtrl.hideRightkeyBtnClass||(nd_viewCtrl.hideRightkeyBtnClass=[]));a.nowConfig;if(o.commit("tagStore/setTagshow",!0),Ne(o.state.modelStore.nowTag,o.state.modelStore.allTag),nd_viewCtrl.settingsItem&&nd_viewCtrl.settingsItem.cameraRotate){let e=nd_viewCtrl.settingsItem.cameraRotate;o.state.modelIsLoaded||(o.commit("modelStore/initRotationAngle",e||[]),o.commit("modelStore/initDefaultRAngle",e||[]))}if(!o.state.modelIsLoaded&&nd_viewCtrl.settingsItem&&nd_viewCtrl.settingsItem.measureSettings){let e=nd_viewCtrl.settingsItem.measureSettings;o.commit("modelStore/setMeasureSetting",e),e.scaleList&&o.commit("modelStore/setInitMeasureScale",e.scaleList)}}p&&window.addEventListener("resize",(function(){o.state.isShowBottomBtn=!o.state.isShowBottomBtn,o.state.isShowCtrlBtn=!o.state.isShowCtrlBtn,setTimeout(()=>{o.state.isShowBottomBtn=!o.state.isShowBottomBtn,o.state.isShowCtrlBtn=!o.state.isShowCtrlBtn},0)}));const f=()=>{r.$eventBus.emit("rigthClickEvent",{showPop:!1})};return{...Object(n["toRefs"])(t),store:o,menuStore:i,loadViewer2:h,chengShowMeasureStyle:u,measureSettingRef:e,showScaleSetting:d,showScaleResult:m,watchAllClick:f}},methods:{loadViewer(e){void 0==e&&(e=nd_viewCtrl.src),ue(e,(function(e){PS.commit("setOpt",e),_S.loadViewer2(e.opt)}))},loadSingleViewer:function(){ge(e=>{var t;PS.commit("setOpt",e),null===(t=_S)||void 0===t||t.loadViewer2(e.opt)})},async initRTM(){if("sync"!=nd_viewCtrl.viewMode)return!1;de._viewer.startBroadcast(nd_viewCtrl.rtmSDK.isRtmOperate),this.isLoaded||(this.store.commit("setRtmNeedCover",!nd_viewCtrl.rtmSDK.isRtmOperate),nd_viewCtrl.rtmSDK.isRtmOperate&&(Pe.sendCenter(1),Pe.sendCenter(2),Pe.sendCenter(3),Pe.sendCenter(4),Pe.sendCenter(5),Pe.sendCenter(6),Pe.sendCenter(7)),nd_viewCtrl.rtmSDK.isRtmOperate||window.nd_rtmReceiveAllMsg()),this.isLoaded=!0},clickViewerCanvas(e){let t={x:e.x,y:e.y};nd_viewCtrl.beSelectPoint&&nd_viewCtrl.beSelectPoint(t),PS.commit("modelStore/setSelectIndexMV",-1)},rightMouseClick(e){PS.commit("modelStore/setSelectIndexMV",-1)}}};o("14b3");const RS=it()(FS,[["render",r],["__scopeId","data-v-d1d986d6"]]);var zS=RS,$S=o("1344"),HS={cancel:"取消",save:"保存",sure:"确定",search:"搜索",search2:"查找",back:"返回",exit:"退出",del:"删除",searchTree:"搜索结构树",searchTree2:"搜索结构树部件",gUnit:"个",layout:"布局",chooseToLayout:"选择布局",hideNote:"隐藏批注",showNote:"显示批注",bgColor:"背景色",reset:"重置视角",chooseLayer:"选择图层",chooseBgColor:"选择背景色",scaleMeter:"设置比例",accuracyInfo:"该模型比较复杂，图形加载可能比较慢，浏览可能会不够流畅，建议您选择低精度模式查看。",lowAccuracy:"低精度模式",highAccuracy:"高精度模式",reset:"重置",full:"全屏",fullout:"退出全屏",zoom:"缩放",unit:"设置单位",hideNote:"隐藏批注",showNote:"显示批注",tagNote:"批注",meter:"测量",hideshowNote:"批注显藏",structureTree:"选择图层",showHide:"显示隐藏",chooseMeterType:"选择测量形式",chooseMeterDistanceType:"选择距离形式",chooseMeterLengthType:"选择长度形式",chooseMeterAngleType:"选择角度形式",chooseMeterAreaType:"选择面积形式",chooseMeterVolumnWeightType:"选择体积重量形式",chooseTagType:"选择批注形式",coordinateMeter:"坐标",distanceMeter:"距离",continuousLineMeter:"连续长度",continuousAreaMeter:"面积",facadeMeter:"立面",facade:"立面",smartdis:"智能测量",edgesMeter:"线段长度",radiusMeter:"半径",angelMeter:"角度",scaleMeter:"设置比例",clearMeter:"清空",distanceLineargauge:"线性测量",distanceCentreOfCircle:"圆心距",distanceCentreToPoint:"圆心到点",distanceAxis2line:"圆心到线",distancePt2pt:"点到点",distancePt2line:"点到线",distanceLine2line:"线到线",chooseStructureTree:"选择结构树",noTreeData:"暂无搜索结果",noTreeData2:"暂无数据",serveErrorTips:"提示：服务器异常，请稍候重试",dataIsNeed:"必填信息不能为空",noChildCfg:"缺少当前子菜单配置",choosePoint:"单击指定一点",tagTitle:"文本批注",tagholder:"请在此输入批注说明(选填)",tagPoint:"点",tagText:"文本",tagDraw:"绘图",tagArrow:"箭头",tagLine:"线段",tagCircle:"圆形",tagRect:"方形",tagSave:"保存",tagCancle:"取消",tagTip1:"禁止输入非法字符",tagTip2:"图片过大",tagTip3:"图片格式不正确",tagTip4:"请选择图片",tagTip5:"选择图片",loadError:"加载错误",pcNowConfig:"当前布局",pcStructLv:"结构树层级",pcMtxtHomeView:"重置视角",pcMtxtTagTxt:"文本批注",pcMtxtTagImg:"图片批注",pcMtxtTagImg2:"图片路径",pcMtxtTagTxtImg:"图文批注",pcMtxtSmartMeter:"智能测量",pcMtxtDistance:"距离",pcMtxtLength:"长度",pcMtxtAngle:"角度",pcMtxtRadius:"半径",pcMtxtBox:"包围盒",pcMtxtP2P:"点到点",pcMtxtP2L:"点到线",pcMtxtL2L:"线到线",pcTagGraphic:"图文",pcTagLine:"引线",pcMtxtBgColor:"",pcMtxtZoom:"",pcMtxtFull:"",pcMtxtCoordinate:"",pcMtxtEdges:"",pcMtxtContinuousLine:"",pcMtxtContinuousArea:"",pcMtxtLineAngel:"",pcMtxtScale:"",clear:"",pcMtxtLinear:"",pcMtxtHoleDist:"",pcMtxtAxis2pt:"",pcMtxtAxisline:"",pcMtxtTextFind:"",pcUnitIcon:"单位设置",pcUnitType1:"默认单位",pcUnitType2:"公制单位(mm)",pcUnitType3:"英制单位(in)",rightScaleTips:"请填写正确的比例",pcFileTypeTips:"提示：图片格式不正确！",pcBrepNotEnd:"提示：测量数据正在加载，请稍候重试...",colorBlack:"黑色",colorGrey:"灰色",colorBeige:"米色",tagAudioTips1:"说话时间太短",tagDelConfirm:"确定要删除当前批注吗?",tagSaveConfirm:"是否要保存当前的批注?",tagAudioTimeTip:"",tagAudioCreate:"松开即可形成一条语音",tagAudioPress:"按住说话",tagExitSee:"退出查看批注",tagExit:"退出",tagExit2:"退出批注",tagTips:"请输入文本",tagDelImg:"删除图片",tagNoRoot:"请前往设置开启麦克风权限",tagSaveConfirm2:"是否要保存当前的批注?",tagSeeBigImg:"查看大图",tagSeeSmallImg:"最小化",unit:"单位设置",screenshot:"屏幕快照",measureTimesErr:"当前测量数据过多，请清除后再进行添加",modelLoadErr:"模型加载失败",modelLimitErr:"当前使用人数超过限制",pcMtxtLineWeight:"显示线宽",pcMtxtLineWeight2:"隐藏线宽",textFind:"文字查找",textFindTxt1:"查找内容",textFindTxt2:"查找区域",textFindTxt3:"整张图纸",textFindTxt4:"框选区域",textFindTxt5:"选择区域",textFindTxt6:"查找结果",textFindTxt7:"查看上一个",textFindTxt8:"查看下一个",textFindTxt9:"输入查找内容",textFindCursor:"框选文字查找区域",textFindNoResult:"暂无结果",modelview:"视图",addModelview:"添加视图",deleteModelview:"删除该视图？",settingModelview:"设置默认视图",measureStyleTit:"样式",measureModifyText:"文本内容",measureFontSize:"文本大小",measureLineWidth:"线宽粗细",measureColor:"颜色设置",measureArrowStyle:"箭头样式",measureAdaptive:"自适应",measureCustom:"自定义",measureSolidClosure:"实心闭合",measureBuildingMark:"建筑标记",measureIncline:"倾斜",diameter:"直径",scaleTitle:"比例设置",scalemeasureOut:"计算比例",scaleUnits:"单位",defaultUnit:"默认单位",metricUnits:"公制单位",imperialUnits:"英制单位",accuracySettings:"精度",Scientific:"科学",Decimal:"小数",Engineering:"工程",Architectural:"建筑",Fractional:"分数",digitsOfPrecision:"测量小数位",scaleReset:"重置",WholeColor:"全部颜色",Whole:"全部",multipleChoice:"多选",rSelectAll:"全选",rDeselectAll:"取消全选",ShowOrHide:"一键显隐",rDelete:"一键删除",MeasurementSetting:"测量设置",UnitOrAccuracySettings:"单位/精度设置",length:"长度",radius:"半径",area:"面积",angle:"角度",noData:"暂无结果",ResultStatistics:"结果统计",gageLength:"测量长度",physicalLength:"实际长度",newRatio:"新比例",facadeLength:"量取长度或输入",facadeHeight:"输入高度",height:"高度",EditmResults:"编辑",excelReselect:"重新框选",excelDownload:"导出Excel",excelLoading:"正在提取表格，请稍后...",excelErrorTips:"提取失败，请尽量完整框选整个表格",excelFormatError:"提取失败，请重新上传文件后再提取",blockSearch:"图块查找",blockName:"图块名称",inputOrSelectSearchContent:"输入或选择查找内容",blockSearchQuery:"查找",searchArea:"查找区域",allPaper:"整张图纸",frameSelectArea:"框选区域",searchResult:"查找结果",selectArea:"选择区域",viewPreOne:"查看上一个",viewNextOne:"查看下一个",blockSearchCursor:"框选图块查找区域",settings:"设置",rotate:"旋转",background:"背景",textFont:"文本字体",textStyle:"文本样式",textSimSun:"宋体",textHanSans:"思源黑体",TextAnnoTit:"文字",textLineStyle:"引线样式",magnifyingGlass:"长摁唤起放大镜精准选中",iSee:"我知道了",compare:"模型对比",angleViewSync:"视角同步",wireframe:"线框显示",sameArea:"相同区域",excessArea:"多余区域",lackArea:"缺少区域",startCompare:"开始对比",compareOpenFile:"打开失败",compareAddModel:"添加图纸",compareLoading:"正在加载图纸，请稍后...",compareErrorTips:"加载失败，请重新插入图纸",pcMtxtTextGet:"文字提取",textGetting:"正在提取文字，请稍后...",copyBtn:"复制",copySuccess:"复制成功",copyFail:"复制失败",compareVersionErrorTips:"版本过旧，无法进行图纸对比",addInterfaceTips:"请集成该功能后重试",layoutLeftAndRight:"左右布局",layoutTopAndBottom:"上下布局"},GS={cancel:"Cancel",save:"Save",sure:"Confirm",search:"Search",search2:"Search",back:"Back",exit:"Exit",del:"Delete",searchTree:"Search Designs",searchTree2:"Search Designs Part",gUnit:"",areaBoxTxt:"Area：",volumnBoxTxt:"Volume：",areaAllBoxTxt:"Total Area：",volumnAllBoxTxt:"Total Volume：",premierTxt:"Perimeter",noTxt:"NO.",sizeTxt:"Size",chooseToLayout:"Layer",chooseLayer:"Layer",chooseBgColor:"Backgroud Color",scaleMeter:"Scale",accuracyInfo:"The model is too complex to load, you are advised to choose low precision mode to view. ",lowAccuracy:"Low precision mode",highAccuracy:"High precision mode",resetEye:"Home view",reset:"Reset",hideNote:"Hide comment",showNote:"Show comment",tagNote:"Comment",meter:"Measure",structureTree:"Designs",showHide:"Show and Hide",chooseMeterType:"Forms of Measurement",chooseMeterDistanceType:"Forms of Distance",chooseMeterLengthType:"Forms of Length",chooseMeterAngleType:"Forms of Angle",chooseMeterAreaType:"Forms of Area",chooseMeterVolumnWeightType:"Forms of Volume",chooseTagType:"Forms of Markup",distance:"Distance",pointToPoint:"Point to Point",pointToLine:"Point to Straight Line",pointToFace:"Point to Surface",lineToLine:"Line to Straight Line",circleDistance:"Center Distance",dotToPoint:"Axial-hole to Point",dotToLine:"Axial-hole to Straight Line",length:"Length",meterLine:"Line Meaurement ",circleLength:"Perimeter",angle:"Angle",lineToAngle:"Angle between straight lines",radius:"Radius",area:"Area",facade:"Facade",clear:"Clear",chooseStructureTree:"Designs",noTreeData:"No Result Found",noTreeData2:"No Data",chooseAttrType:"From of Properties",totalAttr:"Total Properties",selAttrDetail:"Choose a entity",totalattrDetail:"Total Properties Details",normalAttr:"General",selfAttr:"User-defined",noAttr:"No Attribute Found",faceFace:"No Attribute Found",volumn:"Volume",weight:"Weight",boxVolume:"Volume of Bounding Box",objNum:"Numbers of entities",partNum:"Numbers of parts",pmiNum:"Numbers of PMI",sureToDelAttr:"Sure to delete the Properties?",chooseShowType:"Display Mode",serveErrorTips:"Exception",dataIsNeed:"Required",noChildCfg:"缺少当前子菜单配置",choosePoint:"Click to assign a point",tagTitle:"Markup",tagholder:"Please enter your descriptions here. (optional)",tagPoint:"point",tagText:"text",tagDraw:"draw",tagArrow:"arrow",tagLine:"line",tagCircle:"circle",tagRect:"rect",tagSave:"Save",tagCancle:"Cancel",tagTip1:"Do not enter illegal characters",tagTip2:"The picture is too large",tagTip3:"Invalid picture format",tagTip4:"Please select a picture",tagTip5:"Select",loadError:"Loading error",pcNowConfig:"Current layout",pcStructLv:"Desigh hierarchy",chooseMateria2:"请选择属性类型",pcInpAttrName3:"属性名重复",pcMtxtHomeView:"Home view",pcMtxtTagTxt:"Text",pcMtxtTagImg:"Picture",pcMtxtTagImg2:"Picture",pcMtxtTagTxtImg:"Picture & Text",pcMtxtSmartMeter:"Intelligent measurement",pcMtxtDistance:"Distance",pcMtxtLength:"Length",pcMtxtRadius:"Radius",pcMtxtVolWet:"Volume and weight",pcMtxtBox:"Bounding box",pcMtxtP2P:"Point to point",pcMtxtP2L:"Point to straight line",pcMtxtP2F:"Point to surface",pcMtxtL2L:"Line to line",pcMtxtL2F:"Line to surface",pcMtxtF2F:"Surface to surface",pcMtxtCpoint:"Center distance",pcMtxtX2P:"Axial-hole to point",pcMtxtX2L:"Axial-hole to line",pcMtxtX2F:"Axial-hole to surface",pcMtxtLmeter:"Line measurement",pcMtxtPmeter:"Perimeter",pcMtxtAngleL:"Angle between straight lines",pcMtxtAngleF:"Angle between planes",pcMtxtAngleLF:"Angle between line and plane",pcMtxtToF:"Choose a plane",pcMtxtToSingle:"Choose a entity",pcMtxtToAllPart:"Total entity",pcMtxtToAllBox:"Total bounding box",pcMtxtToAllAttr:"Total properties",pcMtxtTolArea:"Total area",pcMtxtIplus:"Zoom extents",pcCoutTip1:"Clockwise rotation",pcCoutTip2:"Contrarotate",pcCoutTip3:"Maximize",pcCoutTip4:"Mirror",pcCoutTip5:"Minimize",pcCursorTip:"Click to select the object",pcAllVol:"Total volume",pcAllWeight:"Total weight",pcUnitIcon:"Unit settings",pcUnitType1:"Default unit",pcUnitType2:"Metric unit(mm)",pcUnitType3:"Imperial unit(in)",pcTagGraphic:"Graphic",pcTagLine:"Leader comment",rightScaleTips:"Please fill out the correct scale",pcMtxtCoordinate:"ID point",pcMtxtEdges:"Length",pcMtxtContinuousLine:"Continuous lengths",pcMtxtContinuousArea:"Area",pcMtxtLineAngel:"Angle",pcMtxtScale:"Scale",pcMtxtLinear:"linear measurement",pcMtxtHoleDist:"Center distance",pcMtxtAxis2pt:"Center to point",pcMtxtAxisline:"Center to line",pcMtxtBgColor:"Backgroud",pcMtxtZoom:"Zoom extents",pcMtxtFull:"Full screen",pcMtxtFullexit:"Exit full",pcFileTypeTips:"Invalid picture format",pcBrepNotEnd:"Something wrong with measurement，please try again",pcMtxtTextFind:"Text Search",colorBlack:"Black",colorGrey:"Grey",colorBeige:"Beige",tagAudioTips1:"Speaking time is too short",tagDelConfirm:"Are you sure to delete the current comment?",tagSaveConfirm:"Do you want to save the current comments?",tagAudioTimeTip:"",tagAudioCreate:"Undo to create a voice",tagAudioPress:"Push to talk",tagExitSee:"Exit",tagExit:"Exit",tagExit2:"Exit",tagTips:"Please enter text",tagDelImg:"Delete picture",tagNoRoot:"Please allow access to your microphone",tagSaveConfirm2:"Do you want to save the current comments?",tagSeeBigImg:"See a larger image",tagSeeSmallImg:"Minimize",measureTimesErr:"Currently, there are too much measurement data, please delete them then try again",modelLoadErr:"model loaded error!",modelLimitErr:"Exceeded the maximum numer of users",pcMtxtLineWeight:"Show lineweight",pcMtxtLineWeight2:"Hide lineweight",textFind:"Text search",textFindTxt1:"Content",textFindTxt2:"Area",textFindTxt3:"Full drawing",textFindTxt4:"Box selection",textFindTxt5:"Select area",textFindTxt6:"Matching results",textFindTxt7:"Previous",textFindTxt8:"Next",textFindTxt9:"Enter search text",textFindCursor:"Select a search area",textFindNoResult:"No matching text",modelview:"View",addModelview:"Add view",deleteModelview:"Delete the view?",settingModelview:"Custom as default view",measureStyleTit:"Style",measureModifyText:"Text",measureFontSize:"Size",measureLineWidth:"Line width",measureColor:"Color",measureArrowStyle:"Arrow",measureAdaptive:"Adaptive",measureCustom:"Custom",measureSolidClosure:"Closed filled",measureBuildingMark:"Architectural tick",measureIncline:"Oblique",diameter:"Diameter",scaleTitle:"Scale",scalemeasureOut:"Calculate scale",scaleUnits:"Unit",defaultUnit:"Default unit",metricUnits:"Metric unit",imperialUnits:"Imperial unit",accuracySettings:"Accuracy",Scientific:"Scientific",Decimal:"Decimal",Engineering:"Engineering",Architectural:"Architectural",Fractional:"Fractional",digitsOfPrecision:"Digits of precision",scaleReset:"Reset",WholeColor:"Whole",Whole:"Whole",multipleChoice:"multiple choice",rSelectAll:"All",rDeselectAll:"Deselect All",ShowOrHide:"Show/Hide",rDelete:"Delete",height:"height",MeasurementSetting:"Setting",UnitOrAccuracySettings:"Unit/Accuracy Settings",length:"Length",radius:"Radius",area:"Area",angle:"Angle",noData:"no data",coordinateMeter:"Coord",ResultStatistics:"Result statistics",gageLength:"Measured length",physicalLength:"Actual length",newRatio:"New scale",EditmResults:"Edit",excelReselect:"Reselect",excelDownload:"Download Excel",excelLoading:"Table extracting, please wait...",excelErrorTips:"Extraction failed, please try to select the entire table",excelFormatError:"Extraction failed, please re-upload then try again",blockSearch:"Block search",blockName:"Block name",inputOrSelectSearchContent:"Enter or select ",blockSearchQuery:"Search",searchArea:"Search area",allPaper:"Full drawing",frameSelectArea:"Box selection",searchResult:"Matching results",selectArea:"Select area",viewPreOne:"Previous",viewNextOne:"Next",blockSearchCursor:"Select block search area",settings:"Settings",rotate:"Rotate",background:"Background",textFont:"Font",textStyle:"Text style",textSimSun:"SimSun",textHanSans:"Source Han Sans",TextAnnoTit:"Text",magnifyingGlass:"Long press to activate the magnifying glass for precise selection",iSee:"Understood",compare:"Comparison",angleViewSync:"Synchronize",wireframe:"Display wireframes",sameArea:"Same area",excessArea:"Excess",lackArea:"Missing",startCompare:"Start",compareOpenFile:"Failed to open",compareAddModel:"Add drawing",compareLoading:"Loading the drawing, please wait...",compareErrorTips:"Load failed, please reselect the drawing",compareVersionErrorTips:"The file version is too low to perform the drawing comparison",addInterfaceTips:"Please integrate this feature and try again",textLineStyle:"Leader Style",pcMtxtTextGet:"Text extraction",textGetting:"Text extracting, please wait...",copyBtn:"Copy",copySuccess:"Copy Successful",copyFail:"Copy Failed",layoutLeftAndRight:"Left-Right Layout",layoutTopAndBottom:"Top-Bottom Layout"},WS={cancel:"Annulez",save:"Sauvegardez",sure:"Confirmez",search:"Recherchez",search2:"Recherchez",back:"Retournez",exit:"Quittez",del:"Supprimez",searchTree:"Recherchez des dessins",searchTree2:"Recherche de dessins",gUnit:"",areaBoxTxt:"Surface：",volumnBoxTxt:"Volume：",areaAllBoxTxt:"Surface totale：",volumnAllBoxTxt:"Volume total：",premierTxt:"Périmètre",noTxt:"NON.",sizeTxt:"Taille",chooseToLayout:"Couche",chooseLayer:"Couche",chooseBgColor:"Couleur du fond d'écran",scaleMeter:"Échelle",accuracyInfo:"Le modèle est trop complexe à charger, il est conseillé de choisir le mode basse précision pour le visualiser. ",lowAccuracy:"Mode de basse précision",highAccuracy:"Mode de haute précision",resetEye:"Vue d'accueil",reset:"Réinitialisation",hideNote:"Cachez le commentaire",showNote:"Affichez le commentaire",tagNote:"Commentaire",meter:"Mesure",structureTree:"Couche",showHide:"Affichez et masquez",chooseMeterType:"Formes de mesure",chooseMeterDistanceType:"Formes de distance",chooseMeterLengthType:"Formes de longueur",chooseMeterAngleType:"Formes d'angle",chooseMeterAreaType:"Formes de zone",chooseMeterVolumnWeightType:"Formes de volume",chooseTagType:"Formes de marquage",distance:"Distance",pointToPoint:"Point à point",pointToLine:"Point à ligne droite",pointToFace:"Point à surface",lineToLine:"Ligne à ligne droite",circleDistance:"Distance centrale",dotToPoint:"Trou axial à point",dotToLine:"Trou axial à ligne droite",length:"Longueur",meterLine:"Mesure de ligne ",circleLength:"Périmètre",angle:"Angle",lineToAngle:"Angle entre lignes droites",radius:"Rayon",area:"Zone",facade:"Façade",clear:"Effacez",chooseStructureTree:"Designs",noTreeData:"Aucun résultat trouvé",noTreeData2:"Pas de données",chooseAttrType:"Formes des propriétés",totalAttr:"Total des propriétés",selAttrDetail:"Choisissez une entité",totalattrDetail:"Total des détails des propriétés",normalAttr:"Général",selfAttr:"Défini par l'utilisateur",noAttr:"Aucun attribut trouvé",faceFace:"Aucun attribut trouvé",volumn:"Volume",weight:"Poids",boxVolume:"Volume de la boîte d'encastrement",objNum:"Nombre d'entités",partNum:"Nombre de pièces",pmiNum:"Nombre de PMI",sureToDelAttr:"Vous êtes sûr de vouloir supprimer les propriétés?",chooseShowType:"Mode d'affichage",serveErrorTips:"Exception",dataIsNeed:"Requis",noChildCfg:"Configuration manquante du sous-menu actuel",choosePoint:"Cliquez pour désigner un point",tagTitle:"Marquage",tagholder:"Veuillez saisir vos descriptions ici. (facultatif)",tagPoint:"point",tagText:"texte",tagDraw:"dessin",tagArrow:"flèche",tagLine:"ligne",tagCircle:"cercle",tagRect:"rectangle",tagSave:"Sauvegardez",tagCancle:"Annulez",tagTip1:"Ne saisissez pas de caractères illégaux",tagTip2:"L'image est trop grande",tagTip3:"Format d'image non valide",tagTip4:"Veuillez sélectionner une image",tagTip5:"Sélectionnez",loadError:"Erreur de chargement",pcNowConfig:"Disposition actuelle",pcStructLv:"Hiérarchie de dessin",chooseMateria2:"Sélectionnez un type de propriété",pcInpAttrName3:"Duplication du nom de l'attribut",pcMtxtHomeView:"Vue d'accueil",pcMtxtTagTxt:"Texte",pcMtxtTagImg:"Image",pcMtxtTagImg2:"Image",pcMtxtTagTxtImg:"Image et texte",pcMtxtSmartMeter:"Mesure intelligente",pcMtxtDistance:"Distance",pcMtxtLength:"Longueur",pcMtxtRadius:"Rayon",pcMtxtVolWet:"Volume et poids",pcMtxtBox:"Boîte d'encastrement",pcMtxtP2P:"Point à point",pcMtxtP2L:"Point à ligne droite",pcMtxtP2F:"Point à surface",pcMtxtL2L:"Ligne à ligne droite",pcMtxtL2F:"Ligne à surface",pcMtxtF2F:"Surface à surface",pcMtxtCpoint:"Distance centrale",pcMtxtX2P:"Trou axial à point",pcMtxtX2L:"Trou axial à ligne",pcMtxtX2F:"Trou axial à surface",pcMtxtLmeter:"Mesure de ligne",pcMtxtPmeter:"Périmètre",pcMtxtAngleL:"Angle entre lignes droites",pcMtxtAngleF:"Angle entre plans",pcMtxtAngleLF:"Angle entre une ligne et un plan",pcMtxtToF:"Choisissez une face",pcMtxtToSingle:"Choisissez une entité",pcMtxtToAllPart:"Entité totale",pcMtxtToAllBox:"Boîte d'encastrement totale",pcMtxtToAllAttr:"Total des propriétés",pcMtxtTolArea:"Surface totale",pcMtxtIplus:"Zoom sur l'étendue",pcCoutTip1:"Rotation anti-horaire",pcCoutTip2:"Rotation inversée",pcCoutTip3:"Maximisez",pcCoutTip4:"Miroir",pcCoutTip5:"Minimisez",pcCursorTip:"Cliquez pour sélectionner l'objet",pcAllVol:"Volume total",pcAllWeight:"Poids total",pcUnitIcon:"Paramètres de l'unité",pcUnitType1:"Unité par défaut",pcUnitType2:"Unité métrique (mm)",pcUnitType3:"Unité impériale (in)",rightScaleTips:"Veuillez remplir l'échelle correcte",pcMtxtCoordinate:"Point ID",pcMtxtEdges:"Longueurs continues",pcMtxtContinuousLine:"Longueurs continues",pcMtxtContinuousArea:"Zone",pcMtxtLineAngel:"Angle",pcMtxtScale:"Échelle",pcMtxtLinear:"Mesure linéaire",pcMtxtHoleDist:"Distance centrale",pcMtxtAxis2pt:"Centre à point",pcMtxtAxisline:"Centre à ligne",pcMtxtBgColor:"Fond d'écran",pcMtxtZoom:"Zoom sur l'étendue",pcMtxtFull:"Plein écran",pcMtxtFullexit:"Quittez complètement",pcFileTypeTips:"Format d'image non valide",pcBrepNotEnd:"Un erreur rencontré, veuillez réessayer",pcMtxtTextFind:"Recherche de texte",colorBlack:"Noir",colorGrey:"Gris",colorBeige:"Beige",tagAudioTips1:"Le temps de parole est trop court",tagDelConfirm:"Êtes-vous sûr de vouloir supprimer le commentaire actuel?",tagSaveConfirm:"Voulez-vous sauvegarder les commentaires actuels?",tagAudioTimeTip:"",tagAudioCreate:"Annulez pour créer une voix",tagAudioPress:"Poussez pour parler",tagExitSee:"Quittez",tagExit:"Quittez",tagExit2:"Quittez",tagTips:"Veuillez saisir le texte",tagDelImg:"Effacez l'image",tagNoRoot:"Veuillez autoriser l'accès à votre microphone",tagSaveConfirm2:"Voulez-vous sauvegarder les commentaires actuels?",tagSeeBigImg:"Voir une image plus grande",tagSeeSmallImg:"Minimisez",measureTimesErr:"Actuellement, trop de données de mesure, supprimez et réessayez-les.",modelLoadErr:"Erreur de chargement du modèle !",modelLimitErr:"Le nombre maximum d'utilisateurs a été dépassé",pcMtxtLineWeight:"Affichez l'épaisseur des lignes",pcMtxtLineWeight2:"Cachez l'épaisseur des lignes",textFind:"Recherche de texte",textFindTxt1:"Contenu",textFindTxt2:"Surface",textFindTxt3:"Dessin complet",textFindTxt4:"Sélectionnez une boîte",textFindTxt5:"Sélectionnez une zone",textFindTxt6:"Résultats correspondants",textFindTxt7:"Précédent",textFindTxt8:"Suivant",textFindTxt9:"Saisissez le texte de la recherche",textFindCursor:"Sélectionnez une zone de recherche",textFindNoResult:"Aucun de texte correspondant",excelReselect:"Re-sélect",excelDownload:"Télécharger Excel",excelLoading:"Extraction de tableau, veuillez patienter...",excelErrorTips:"L'extraction échouée, tentez de sélectionner le tableau entier",excelFormatError:"Extraction échouée, veuillez le retélécharger et réessayer.",blockSearch:"Recherche par bloc",blockName:"Nom du bloc",inputOrSelectSearchContent:"Saisir ou sélectionner le contenu",blockSearchQuery:"Recherchez",searchArea:"Zone de recherche",allPaper:"Dessin complet",frameSelectArea:"Sélectionnez une boîte",searchResult:"Résultats correspondants",selectArea:"Sélectionnez une zone",viewPreOne:"Précédent",viewNextOne:"Suivant",blockSearchCursor:"Sélectionner la zone de recherche du bloc",modelview:"Vue",addModelview:"Ajouter une vue",deleteModelview:"Supprimer la vue ?",settingModelview:"Personnaliser comme vue par défaut",measureStyleTit:"Style",measureModifyText:"texte",measureFontSize:"Taille",measureLineWidth:"Larg. ligne",measureColor:"Couleur",measureArrowStyle:"flèche",measureAdaptive:"Adaptatif",measureCustom:"Personnalisé",measureSolidClosure:"Fermé rempli",measureBuildingMark:"Coch. architect.",measureIncline:"Oblique",diameter:"Diamètre",scaleTitle:"Échelle",scalemeasureOut:"Calculer l'échelle",scaleUnits:"unité",defaultUnit:"Défaut",metricUnits:"Métrique",imperialUnits:"Impériale",accuracySettings:"Précision",Scientific:"Scientifique",Decimal:"Décimale",Engineering:"Ingénierie",Architectural:"Architectural",Fractional:"Fractionnaire",digitsOfPrecision:"Chiffres de précision",scaleReset:"Réinitialisation",WholeColor:"Tous",Whole:"Tous",multipleChoice:"Multi-choix",rSelectAll:"Tous",rDeselectAll:"Désélect. tout",ShowOrHide:"Aff./Masq.",rDelete:"Supprimez",height:"hauteur",MeasurementSetting:"Paramètres",UnitOrAccuracySettings:"Unité/ Paramètres de précision",length:"Longueur",radius:"Rayon",area:"Zone",angle:"Angle",noData:"Pas de données",coordinateMeter:"Coord",ResultStatistics:"Statistiques des résultats",gageLength:"Longueur mesurée",physicalLength:"Longueur réelle",newRatio:"Nouvelle échelle",ditmResults:"Éditez",ResultStatistics:"Result statistics",gageLength:"Longueur mesurée",physicalLength:"Longueur réelle",newRatio:"Nouvelle échelle",settings:"Paramètres",rotate:"Rotation",background:"Arrière-plan",magnifyingGlass:"Appuyez longuement pour activer la loupe pour une sélection précise",iSee:"Compris",textFont:"Police",textStyle:"style",textSimSun:"SimSun",textHanSans:"Source Han Sans",TextAnnoTit:"Texte",compare:"Comparaison",angleViewSync:"Synchronisation",wireframe:"Afficher les images filaires",sameArea:"Même zone",excessArea:"Excès",lackArea:"Manquant",startCompare:"Démarrage",compareOpenFile:"Échec de l'ouverture",compareAddModel:"Ajouter un dessin",compareLoading:"Chargement des dessins, veuillez patienter...",compareErrorTips:"Échec du chargement, veuillez sélectionner à nouveau le dessin",compareVersionErrorTips:"La version du fichier est trop basse pour effectuer la comparaison de dessin",addInterfaceTips:"Bitte integrieren Sie diese Funktion und versuchen Sie es erneut.",textLineStyle:"Style de ligne de repère",pcMtxtTextGet:"Extraction de texte",textGetting:"Extraction du texte, patientez...",copyBtn:"Copier",copySuccess:"Copie réussie",copyFail:"Échec de la copie",layoutLeftAndRight:"Disposition gauche-droite",layoutTopAndBottom:"Disposition haut-bas"},qS={cancel:"Abbrechen",save:"Speichern",sure:"Übernehmen",search:"Suchen",search2:"Suchen",back:"Zurück",exit:"Beenden",del:"Löschen",searchTree:"Entwürfe Suchen",searchTree2:"Suche Entwürfe Teil",gUnit:"",areaBoxTxt:"Fläche:",volumnBoxTxt:"Volumen:",areaAllBoxTxt:"Gesamtfläche:",volumnAllBox:"Gesamtumvolumen:",premierTxt:"Umkreis",noTxt:"Nr.",sizeTxt:"Größe",chooseToLayout:"Ebene",chooseLayer:"Ebene",chooseBgColor:"Hintergrundfarbe",scaleMeter:"Skala",accuracyInfo:"Das Modell ist zu komplex, um es zu laden. Es wird empfohlen, den Gering-Genauigkeit-Modus zu wählen. ",lowAccuracy:"Gering-Genauigkeit-Modus",highAccuracy:"Hoch-Genauigkeit-Modus",resetEye:"Home-Ansicht",reset:"Zurücksetzen",hideNote:"Kommentar ausblenden",showNote:"Kommentar anzeigen",tagNote:"Kommentar",meter:"Messen",structureTree:"Entwürfe",showHide:"Ein- und Ausblenden",chooseMeterType:"Formen der Messung",chooseMeterDistanceType:"Formen der Entfernung",chooseMeterLengthType:"Formen der Länge",chooseMeterAngleType:"Formen des Winkels",chooseMeterAreaType:"Formen der Fläche",chooseMeterVolumnWeightType:"Formen des Volumens",chooseTagType:"Formen der Markierung",distance:"Entfernung",pointToPoint:"Punkt zu Punkt",pointToLine:"Punkt zu Geraden",pointToFace:"Punkt zu Fläche",lineToLine:"Linie zur Geraden",circleDistance:"Mittenabstand",dotToPoint:"Axial-Loch zu Punkt",dotToLine:"Axial-Loch zu Gerade",length:"Länge",meterLine:"Linienmessung ",circleLength:"Umkreis",angle:"Winkel",lineToAngle:"Winkel zwischen Geraden",radius:"Radius",area:"Fläche",facade:"Façade",clear:"Übersichtlich",chooseStructureTree:"Entwürfe",noTreeData:"Kein Ergebnis gefunden",noTreeData2:"Keine Daten",chooseAttrType:"Aus Eigenschaften Wählen",totalAttr:"Gesamte Eigenschaften",selAttrDetail:"Ein Element Auswählen",totalattrDetail:"Details zu Eigenschaften",normalAttr:"Allgemeine Eigenschaften",selfAttr:"Benutzerdefinierte Eigenschaften",noAttr:"Kein Attribut Gefunden",faceFace:"Kein Attribut Gefunden",volumn:"Volumen",weight:"Gewicht",boxVolume:"Volumen der Bounding Box",objNum:"Anzahl der Elemente",partNum:"Anzahl der Teile",pmiNum:"Anzahl von PMI",sureToDelAttr:"Möchten Sie die Eigenschaften wirklich löschen?",chooseShowType:"Anzeigemodus",serveErrorTips:"Ausnahme",dataIsNeed:"Erforderlich",noChildCfg:"Konfiguration des aktuellen Untermenüs fehlt",choosePoint:"Klicken Sie einmal, um einen Punkt zuzuweisen",tagTitle:"Markierung",tagholder:"Bitte geben Sie hier Ihre Beschreibungen ein. (optional)",tagPoint:"Punkt",tagText:"Text",tagDraw:"zeichnen",tagArrow:"Pfeil",tagLine:"Linie",tagCircle:"Kreis",tagRect:"Rechteck",tagSave:"Speichern",tagCancle:"Abbrechen",tagTip1:"Keine illegalen Zeichen eingeben",tagTip2:"Zu großes Bild",tagTip3:"Ungültiges Bildformat",tagTip4:"Bitte wählen Sie ein Bild aus",tagTip5:"Auswählen",loadError:"Fehler beim Laden",pcNowConfig:"Aktuelles Layout",pcStructLv:"Entwurf Hierarchie",chooseMateria2:"Bitte wählen Sie eine Eigenschaftsart",pcInpAttrName3:"Attributnamen duplizieren",pcMtxtHomeView:"Home-Ansicht",pcMtxtTagTxt:"Text",pcMtxtTagImg:"Bild",pcMtxtTagImg2:"Bild",pcMtxtTagTxtImg:"Bild & Text",pcMtxtSmartMeter:"Intelligente Messung",pcMtxtDistance:"Entfernung",pcMtxtLength:"Länge",pcMtxtRadius:"Radius",pcMtxtVolWet:"Volumen und Gewicht",pcMtxtBox:"Bounding Box",pcMtxtP2P:"Punkt zu Punkt",pcMtxtP2L:"Punkt zu Geraden",pcMtxtP2F:"Punkt zu Fläche",pcMtxtL2L:"Linie zu Linie",pcMtxtL2F:"Linie zu Fläche",pcMtxtF2F:"Fläche zu Fläche",pcMtxtCpoint:"Mittenabstand",pcMtxtX2P:"Axialbohrung zu Punkt",pcMtxtX2L:"Axialbohrung zu Linie",pcMtxtX2F:"Axialbohrung zu Oberfläche",pcMtxtLmeter:"Linienmessung",pcMtxtPmeter:"Umkreis",pcMtxtAngleL:"Winkel zwischen Geraden",pcMtxtAngleF:"Winkel zwischen Ebenen",pcMtxtAngleLF:"Winkel zwischen Linie und Ebene",pcMtxtToF:"Eine Fläche Auswählen",pcMtxtToSingle:"Ein Element Auswählen",pcMtxtToAllPart:"Gesamte Einheit",pcMtxtToAllBox:"Gesamte Bounding Box",pcMtxtToAllAttr:"Gesamte Eigenschaften",pcMtxtTolArea:"Gesamtfläche",pcMtxtIplus:"Box-Auswahl zoomen",pcCoutTip1:"Drehen im Uhrzeigersinn",pcCoutTip2:"Kontrarotieren",pcCoutTip3:"Maximieren",pcCoutTip4:"Spiegeln",pcCoutTip5:"Minimieren",pcCursorTip:"Zum Auswählen des Objekts anklicken",pcAllVol:"Gesamtumvolumen",pcAllWeight:"Gesamtumgewicht",pcUnitIcon:"Einheiteneinstellungen",pcUnitType1:"Standardeinheit",pcUnitType2:"Metrische Einheit (mm)",pcUnitType3:"Imperiale Einheit (Zoll)",rightScaleTips:"Bitte füllen Sie die richtige Skala aus",pcMtxtCoordinate:"ID-Punkt",pcMtxtEdges:"Länge",pcMtxtContinuousLine:"Kontinuierliche Längen",pcMtxtContinuousArea:"Fläche",pcMtxtLineAngel:"Winkel",pcMtxtScale:"Skala",pcMtxtLinear:"lineare Messung",pcMtxtHoleDist:"Mittenabstand",pcMtxtAxis2pt:"Mittelpunkt zu Punkt",pcMtxtAxisline:"Mittelpunkt zu Linie",pcMtxtBgColor:"Hintergrund",pcMtxtZoom:"Box-Auswahl zoomen",pcMtxtFull:"Voller Bildschirm",pcMtxtFullexit:"Vollbild beenden",pcFileTypeTips:"Ungültiges Bildformat",pcBrepNotEnd:"Messung nicht korrekt, bitte erneut versuchen",pcMtxtTextFind:"Text-Suche",colorBlack:"Schwarz",colorGrey:"Grau",colorBeige:"Beige",tagAudioTips1:"Zu kurze Sprechzeit",tagDelConfirm:"Möchten Sie den aktuellen Kommentar wirklich löschen?",tagSaveConfirm:"Möchten Sie den aktuellen Kommentar speichern?",tagAudioTimeTip:"",tagAudioCreate:"Rückgängig machen, um eine Stimme zu erzeugen",tagAudioPress:"Zum Sprechen drücken",tagExitSee:"Beenden",tagExit:"Beenden",tagExit2:"Beenden",tagTips:"Bitte geben Sie den Text ein",tagDelImg:"Bild löschen",tagNoRoot:"Bitte erlauben Sie den Zugriff auf Ihr Mikrofon",tagSaveConfirm2:"Möchten Sie den aktuellen Kommentar speichern?",tagSeeBigImg:"Siehe ein größeres Bild",tagSeeSmallImg:"Minimieren",measureTimesErr:"Derzeit sind zu viele Messdaten vorhanden, bitte löschen und erneut versuchen",modelLoadErr:"Fehler beim Laden des Modells!",modelLimitErr:"Maximale Anzahl von Benutzern überschritten",pcMtxtLineWeight:"Liniensärke einblenden",pcMtxtLineWeight2:"Liniensärke ausblenden",textFind:"Text-Suche",textFindTxt1:"Inhalt",textFindTxt2:"Fläche",textFindTxt3:"Vollständige Zeichnung",textFindTxt4:"Box-Auswahl",textFindTxt5:"Feld ausauswählen",textFindTxt6:"Trefferliste",textFindTxt7:"Vorherige",textFindTxt8:"Nächste",textFindTxt9:"Suchtext eingeben",textFindCursor:"Suchfeld auswählen",textFindNoResult:"Kein passender Text",modelview:"Ansicht",addModelview:"Ansicht hinzufügen",deleteModelview:"Ansicht löschen?",settingModelview:"Als Standardansicht festlegen",excelReselect:"Erneut auswählen",excelDownload:"Excel herunterladen",excelLoading:"Tabelle wird extrahiert, bitte warten...",excelErrorTips:"Extraktion fehlgeschlagen Bitte versuchen Sie, die gesamte Tabelle auszuwählen",excelFormatError:"Extraktion fehlgeschlagen. Bitte erneut hochladen und nochmal versuchen.",measureStyleTit:"Stil",measureModifyText:"Text",measureFontSize:"Größe",measureLineWidth:"Linienbreite",measureColor:"Farbe",measureArrowStyle:"Pfeil",measureAdaptive:"Adaptive",measureCustom:"Benutzerdefiniert",measureSolidClosure:"Geschlossen gefüllt",measureBuildingMark:"Architektonisches Häkchen",measureIncline:"Schräg",diameter:"Durchmesser",scaleTitle:"Skala",scalemeasureOut:"Maßstab berechnen",scaleUnits:"Einheit",defaultUnit:"Standard",metricUnits:"Metrische",imperialUnits:"Imperiale",accuracySettings:"Genauigkeit",Scientific:"Wissenschaftlich",Decimal:"Dezimal",Engineering:"Technisch",Architectural:"Architektonisch",Fractional:"Bruchrechnung",digitsOfPrecision:"Ziffern der Genauigkeit",scaleReset:"zurücksetzen",WholeColor:"Alle",Whole:"Alle",multipleChoice:"Bedienungen",rSelectAll:"",rDeselectAll:"Alle abwählen",ShowOrHide:"Anzeigen/Ausblenden",rDelete:"Löschen",height:"Höhe",MeasurementSetting:"Einstellung",UnitOrAccuracySettings:"Einheit/Genauigkeitseinstellungen",length:"Länge",radius:"Radius",area:"Fläche",angle:"Winkel",noData:"Keine Daten",EditmResults:"Bearbeiten",coordinateMeter:"Koordinate",ResultStatistics:"Ergebnisstatistik",gageLength:"Gemessene Länge",physicalLength:"Tatsächliche Länge",newRatio:"Neuer Maßstab",blockSearch:"Block suchen",blockName:"Blockname",inputOrSelectSearchContent:"Suchbegriff eingeben oder auswählen",blockSearchQuery:"Suchen",searchArea:"Suchbereich",allPaper:"Vollständige Zeichnung",frameSelectArea:"Box-Auswahl",searchResult:"Trefferliste",selectArea:"Feld ausauswählen",viewPreOne:"Vorherige",viewNextOne:"Nächste",blockSearchCursor:"Wählen Sie den Suchbereich aus",settings:"Einstellungen",rotate:"Drehen",background:"Hintergrund",magnifyingGlass:"Lange drücken, um die Lupe für eine präzise Auswahl zu aktivieren",iSee:"Verstanden",textFont:"Schriftart",textStyle:"Stil",textSimSun:"SimSun",textHanSans:"Source Han Sans",TextAnnoTit:"Text",compare:"Vergleichen",angleViewSync:"Synchronisieren",wireframe:"Rahmen anzeigen",sameArea:"Dasselbe Gebiet",excessArea:"Überflüssig",lackArea:"Fehlend",startCompare:"Start",compareOpenFile:"Öffnen fehlgeschlagen",compareAddModel:"Zeichnung hinzufügen",compareLoading:"Die Zeichnung wird geladen, bitte warten...",compareErrorTips:"Laden fehlgeschlagen, bitte wählen Sie die Zeichnung erneut aus",compareVersionErrorTips:"Die Dateiversion ist zu niedrig, um den Zeichnungsvergleich durchzuführen.",addInterfaceTips:"Bitte integrieren Sie diese Funktion und versuchen Sie es erneut.",textLineStyle:"Hinweislinienstil",pcMtxtTextGet:"Extraktion von Text",textGetting:"Textextraktion wird durchgeführt, bitte warten...",copyBtn:"Kopieren",copySuccess:"Kopieren erfolgreich",copyFail:"Kopieren fehlgeschlagen",layoutLeftAndRight:"Links-Rechts-Layout",layoutTopAndBottom:"Oben-Unten-Layout"},KS={cancel:"Annulla",save:"Salva",sure:"Conferma",search:"Ricerca",search2:"Ricerca",back:"Indietro",exit:"Esci",del:"Cancella",searchTree:"Ricerca disegni",searchTree2:"Ricerca di Parti di Design",gUnit:"",areaBoxTxt:"Area:",volumnBoxTxt:"Volume:",areaAllBoxTxt:"Area totale:",volumnAllBoxTxt:"Volume totale:",premierTxt:"Perimetro",noTxt:"NO.",sizeTxt:"Dimensioni",chooseToLayout:"Strato",chooseLayer:"Strato",chooseBgColor:"Colore dello sfondo",scaleMeter:"Scala",accuracyInfo:"Il modello è troppo complesso da caricare, si consiglia di scegliere la modalità di bassa precisione per la visualizzazione.",lowAccuracy:"Modalità di bassa precisione",highAccuracy:"Modalità di alta precisione",resetEye:"Vista iniziale",reset:"Azzera",hideNote:"Nascondi commento",showNote:"Mostra commento",tagNote:"Commento",meter:"Misura",structureTree:"Disegni",showHide:"Mostra e Nascondi",chooseMeterType:"Forme di Misura",chooseMeterDistanceType:"Forme di Distanza",chooseMeterLengthType:"Forme di Lunghezza",chooseMeterAngleType:"Forme di Angolo",chooseMeterAreaType:"Forme di Area",chooseMeterVolumnWeightType:"Forme di Volume",chooseTagType:"Forme di marcatura",distance:"Distanza",pointToPoint:"Da Punto a Punto",pointToLine:"Da Punto a Linea Retta",pointToFace:"Da Punto a Superficie",lineToLine:"Da Linea a Linea Retta",circleDistance:"Distanza dal Centro",dotToPoint:"Foro Assiale a Punto",dotToLine:"Da Foro Assiale a Linea Retta",length:"Lunghezza",meterLine:"Misura della Linea",circleLength:"Perimetro",angle:"Angolo",lineToAngle:"Angolo tra linee rette",radius:"Raggio",area:"Area",facade:"Facciata",clear:"Liberi",chooseStructureTree:"Disegni",noTreeData:"Nessun risultato trovato",noTreeData2:"Keine Ergebnisse gefunden",chooseAttrType:"Dalle proprietà",totalAttr:"Totale Proprietà",selAttrDetail:"Scegli un'Entità",totalattrDetail:"Dettagli sulle Proprietà Totali",normalAttr:"Generale",selfAttr:"Definito dall'utente",noAttr:"Nessun Attributo Trovato",faceFace:"Area di superficie",volumn:"Volume",weight:"Peso",boxVolume:"Volume del Riquadro di Delimitazione",objNum:"Numero di entità",partNum:"Numero di parti",pmiNum:"Numeri di PMI",sureToDelAttr:"Sei sicuro di voler eliminare le proprietà?",chooseShowType:"Modalità di visualizzazione",serveErrorTips:"Eccezione",dataIsNeed:"Richiesto",noChildCfg:"Manca la configurazione del sottomenu corrente",choosePoint:"Clicca per assegnare un punto.",tagTitle:"Contrassegna",tagholder:"Inserisci qui le descrizioni. (opzionale)",tagPoint:"punto",tagText:"testo",tagDraw:"disegno",tagArrow:"freccia",tagLine:"linea",tagCircle:"cerchio",tagRect:"rettangolo",tagSave:"Salva",tagCancle:"Annulla",tagTip1:"Non inserire caratteri illegali",tagTip2:"L'immagine è troppo grande",tagTip3:"Formato dell'immagine non valido",tagTip4:"Seleziona un'immagine",tagTip5:"Selezionare",loadError:"Errore di caricamento",pcNowConfig:"Layout corrente",pcStructLv:"Gerarchia del Design",chooseMateria2:"selezionare un tipo di proprietà",pcInpAttrName3:"Duplicazione del nome dell'attributo",pcMtxtHomeView:"Vista iniziale",pcMtxtTagTxt:"Testo",pcMtxtTagImg:"Immagine",pcMtxtTagImg2:"Immagine",pcMtxtTagTxtImg:"Immagine & Testo",pcMtxtSmartMeter:"Misura intelligente",pcMtxtDistance:"Distanza",pcMtxtLength:"Lunghezza",pcMtxtRadius:"Raggio",pcMtxtVolWet:"Volume e peso",pcMtxtBox:"Scatola di Contenimento",pcMtxtP2P:"Da Punto a Punto",pcMtxtP2L:"Da Punto a Linea Retta",pcMtxtP2F:"Da Punto a Superficie",pcMtxtL2L:"Da Linea a Linea Retta",pcMtxtL2F:"Da Linea Retta a Superficie",pcMtxtF2F:"Da Superficie a Superficie",pcMtxtCpoint:"Distanza dal Centro",pcMtxtX2P:"Foro Assiale a Punto",pcMtxtX2L:"Da Foro Assiale a Linea Retta",pcMtxtX2F:"Foro Assiale a Superficie",pcMtxtLmeter:"Misura della Linea",pcMtxtPmeter:"Perimetro",pcMtxtAngleL:"Angolo tra linee rette",pcMtxtAngleF:"Angolo tra piani",pcMtxtAngleLF:"Angolo tra linea e piano",pcMtxtToF:"Scegliere un piano",pcMtxtToSingle:"Scegli un'Entità",pcMtxtToAllPart:"Entità Totali",pcMtxtToAllBox:"Riquadro di Delimitazione Totale",pcMtxtToAllAttr:"Totale Proprietà",pcMtxtTolArea:"Area Totale",pcMtxtIplus:"Estensioni dello zoom",pcCoutTip1:"Rotazione in senso orario",pcCoutTip2:"Contraddistinguere",pcCoutTip3:"Massimizzare",pcCursorTip:"Fare clic per selezionare l'oggetto",pcAllVol:"Volume totale",pcAllWeight:"Peso totale",pcUnitIcon:"Impostazioni dell'unità",pcUnitType1:"Unità predefinita",pcUnitType2:"Unità metrica (mm)",pcUnitType3:"Unità imperiale (in)",rightScaleTips:"Compila la scala corretta",pcMtxtCoordinate:"Punto ID",pcMtxtEdges:"Lunghezza",pcMtxtContinuousLine:"Lunghezze continue",pcMtxtContinuousArea:"Area",pcMtxtLineAngel:"Angolo",pcMtxtScale:"Scala",pcMtxtLinear:"misura lineare",pcMtxtHoleDist:"Distanza dal Centro",pcMtxtAxis2pt:"Dal centro al punto",pcMtxtAxisline:"Dal centro alla linea",pcMtxtBgColor:"Sfondo",pcMtxtZoom:"Estensioni dello zoom",pcMtxtFull:"Schermo intero",pcMtxtFullexit:"Esci da tutto",pcFileTypeTips:"Formato dell'immagine non valido",pcBrepNotEnd:"Qualcosa non va nella misurazione, riprovare",pcMtxtTextFind:"Ricerca di Testo",colorBlack:"Nero",colorGrey:"Grigio",colorBeige:"Beige",tagAudioTips1:"Il tempo di parola è troppo breve",tagDelConfirm:"Sei sicuro di voler eliminare il commento corrente?",tagSaveConfirm:"Vuoi salvare i commenti attuali?",tagAudioTimeTip:"",tagAudioCreate:"Annulla per creare una voce",tagAudioPress:"Premi per parlare",tagExitSee:"Esci",tagExit:"Esci",tagExit2:"Esci",tagTips:"Inserisci il testo",tagDelImg:"Cancella l'immagine",tagNoRoot:"Consenti l'accesso al microfono",tagSaveConfirm2:"Vuoi salvare i commenti attuali?",tagSeeBigImg:"Vedere un'immagine più grande",tagSeeSmallImg:"Minimizzare",measureTimesErr:"Attualmente ci sono troppi dati di misurazione, si prega di cancellarli e riprovare",modelLoadErr:"modello caricato errore!",modelLimitErr:"Superato il numero massimo di utenti",pcMtxtLineWeight:"Mostra peso linea",pcMtxtLineWeight2:"Nascondi peso linea",textFind:"Ricerca di testo",textFindTxt1:"Contenuto",textFindTxt2:"Area",textFindTxt3:"Disegno completo",textFindTxt4:"Selezione della scatola",textFindTxt5:"Selezione dell'area",textFindTxt6:"Risultati della corrispondenza",textFindTxt7:"Precedente",textFindTxt8:"Avanti",textFindTxt9:"Inserire il testo di ricerca",textFindCursor:"Selezionare un'area di ricerca",textFindNoResult:"Nessun testo corrispondente",excelReselect:"Riselezionare",excelDownload:"Scarica Excel",excelLoading:"Estrazione della tabella, si prega di attendere...",excelErrorTips:"Estrazione fallita, provare a selezionare l'intera tabella",excelFormatError:"Estrazione fallita, ricaricare e riprovare.",modelview:"Vista",addModelview:"Aggiungere una vista",deleteModelview:"Cancellare la vista?",settingModelview:"Personalizzata come vista predefinita",measureStyleTit:"stile",measureModifyText:"testo",measureFontSize:"Dimensioni",measureLineWidth:"larghezza",measureColor:"Colore",measureArrowStyle:"freccia",measureAdaptive:"Adattivo",measureCustom:"Personalizzato",measureSolidClosure:"Chiuso riempito",measureBuildingMark:"Spunta architettonica",measureIncline:"Obliquo",diameter:"Diametro",scaleTitle:"Scala",scalemeasureOut:"Calcolo della scala",scaleUnits:"Unità",defaultUnit:"Predefinita",metricUnits:"Metrica",imperialUnits:"Imperiale",accuracySettings:"Accurate",Scientific:"Scientifica",Decimal:"Decimale",Engineering:"Ingegneria",Architectural:"Architettonico",Fractional:"Frazionario",digitsOfPrecision:"Cifre di precisione",scaleReset:"Ripristina",WholeColor:"Tutti",Whole:"Tutti",multipleChoice:"Scelta multipla",rSelectAll:"Tutti",rDeselectAll:"Deseleziona tutto",ShowOrHide:"Mostra/Nascondi",rDelete:"Cancella",height:"altezza",MeasurementSetting:"Impostazione",UnitOrAccuracySettings:"Impostazioni unità / precisione",length:"Lunghezza",radius:"Raggio",area:"Area",angle:"Angolo",noData:"Nessun dato",ditmResults:"Modifica",coordinateMeter:"Coordinate",ResultStatistics:"Statistiche dei risultati",gageLength:"Lunghezza misurata",physicalLength:"Lunghezza effettiva",newRatio:"Nuova scala",blockSearch:"Ricerca del blocco",blockName:"Nome del blocco",inputOrSelectSearchContent:"Inserire o selezionare oggetto di ricerca",blockSearchQuery:"Ricerca",searchArea:"Area di ricerca",allPaper:"Disegno completo",frameSelectArea:"Selezione della scatola",searchResult:"Risultati della corrispondenza",selectArea:"Selezione dell'area",viewPreOne:"Precedente",viewNextOne:"Avanti",blockSearchCursor:"Seleziona l'area di ricerca del blocco",settings:"Impostazioni",rotate:"Rotazione",background:"Sfondo",textFont:"carattere",textStyle:"stile",textSimSun:"SimSun",textHanSans:"Source Han Sans",TextAnnoTit:"Testo",magnifyingGlass:"Tieni premuto per attivare la lente d'ingrandimento per una selezione precisa",iSee:"Capito",compare:"Modello a confronto",angleViewSync:"Sincronizzazione della prospettiva",wireframe:"Visualizza wireframe",sameArea:"Stessa area",excessArea:"Area in eccesso",lackArea:"Area mancante",startCompare:"Avvio",compareOpenFile:"Apertura fallita",compareAddModel:"Aggiungi disegno",compareLoading:"Caricamento dei disegni, attendere prego...",compareErrorTips:"Caricamento fallito, si prega di selezionare nuovamente il disegno",compareVersionErrorTips:"La versione del file è troppo bassa per eseguire il confronto dei disegni",addInterfaceTips:"Por favor, integra esta función e inténtalo de nuevo",textLineStyle:"Stile linea di richiamo",pcMtxtTextGet:"Estrazione del testo",textGetting:"Estrazione del testo, attendere...",copyBtn:"Copia",copySuccess:"Copia riuscita",copyFail:"Copia non riuscita",layoutLeftAndRight:"Layout sinistra-destra",layoutTopAndBottom:"Layout alto-basso"},ZS={cancel:"Cancelar",save:"Guardar",sure:"Confirmar",search:"Buscar",search2:"Buscar",back:"Atras",exit:"Salir",del:"Borrar",searchTree:"Diseños de búsqueda",searchTree2:"Buscar Parte de Diseños",gUnit:"",areaBoxTxt:"Área：",volumnBoxTxt:"Volumen：",areaAllBoxTxt:"Área total：",volumnAllBoxTxt:"Volumen total：",premierTxt:"Perímetro",noTxt:"N.°",sizeTxt:"Tamaño",chooseToLayout:"Diseño",chooseLayer:"Capa",chooseBgColor:"Color del fondo",scaleMeter:"Escala",accuracyInfo:"El modelo es demasiado complejo para cargar, se recomienda elegir el modo de baja precisión para ver. ",lowAccuracy:"Modo de baja precisión",highAccuracy:"Modo de alta precisión",resetEye:"Vista del inicio",reset:"Reiniciar",hideNote:"Ocultar comentario",showNote:"Mostrar comentario",tagNote:"Observaciones",meter:"Medir",structureTree:"Diseños",showHide:"Mostrar y ocultar",chooseMeterType:"Formas de medición",chooseMeterDistanceType:"Formas de distancia",chooseMeterLengthType:"Formas de longitud",chooseMeterAngleType:"Formas de ángulo",chooseMeterAreaType:"Formas de área",chooseMeterVolumnWeightType:"Formas de volumen",chooseTagType:"Formas de marcado",distance:"Distancia",pointToPoint:"Punto a punto",pointToLine:"Punto a línea recta",pointToFace:"Punto a superficie",lineToLine:"Línea a línea recta",circleDistance:"Distancia del centro",dotToPoint:"Orificio axial a punto",dotToLine:"Orificio axial a línea recta",length:"Longitud",meterLine:"Medición de línea ",circleLength:"Perímetro",angle:"Ángulo",lineToAngle:"Ángulo entre líneas rectas",radius:"Radio",area:"Zona",facade:"Fachada",clear:"Eliminar",chooseStructureTree:"Diseños",noTreeData:"No se encontró ningún resultado",noTreeData2:"Sin datos",chooseAttrType:"De propiedades",totalAttr:"Total de propiedades",selAttrDetail:"Elige una entidad",totalattrDetail:"Detalles de propiedades totales",normalAttr:"General",selfAttr:"Definido por el usuario",noAttr:"No se encontró ningún atributo",faceFace:"No se encontró ningún atributo",volumn:"Volumen",weight:"Peso",boxVolume:"Volumen del cuadro delimitador",objNum:"Número de entidades",partNum:"Número de partes",pmiNum:"Número de PMI",sureToDelAttr:"¿Deseas borrar las propiedades?",chooseShowType:"Modo de visualización",serveErrorTips:"Excepción",dataIsNeed:"Requerido",noChildCfg:"Falta la configuración del submenú actual",choosePoint:"Haga clic para asignar un punto.",tagTitle:"Marcado",tagholder:"Introduce tus descripciones aquí. (opcional)",tagPoint:"punto",tagText:"texto",tagDraw:"dibujar",tagArrow:"flecha",tagLine:"línea",tagCircle:"círculo",tagRect:"rect",tagSave:"Guardar",tagCancle:"Cancelar",tagTip1:"No introduzcas caracteres no permitidos",tagTip2:"La imagen es demasiado grande",tagTip3:"Formato de imagen no válido",tagTip4:"Seleccione una imagen",tagTip5:"Seleccionar",loadError:"Error de carga",pcNowConfig:"Diseño actual",pcStructLv:"Jerarquía de diseño",chooseMateria2:"Seleccione un tipo de propiedad",pcInpAttrName3:"Duplicación de nombre de atributo",pcMtxtHomeView:"Vista del inicio",pcMtxtTagTxt:"Texto",pcMtxtTagImg:"Imagen",pcMtxtTagImg2:"Imagen",pcMtxtTagTxtImg:"Imagen y Texto",pcMtxtSmartMeter:"Medición inteligente",pcMtxtDistance:"Distancia",pcMtxtLength:"Longitud",pcMtxtRadius:"Radio",pcMtxtVolWet:"Volumen y peso",pcMtxtBox:"Cuadro delimitador",pcMtxtP2P:"Punto a punto",pcMtxtP2L:"Punto a línea recta",pcMtxtP2F:"Punto a superficie",pcMtxtL2L:"Línea a línea",pcMtxtL2F:"Línea a superficie",pcMtxtF2F:"Superficie a superficie",pcMtxtCpoint:"Distancia del centro",pcMtxtX2P:"Orificio axial a punto",pcMtxtX2L:"Orificio axial a línea",pcMtxtX2F:"Orificio axial a superficie",pcMtxtLmeter:"Medición de línea",pcMtxtPmeter:"Perímetro",pcMtxtAngleL:"Ángulo entre líneas rectas",pcMtxtAngleF:"Ángulo entre planos",pcMtxtAngleLF:"Ángulo entre línea y plano",pcMtxtToF:"Elige una cara",pcMtxtToSingle:"Elige una entidad",pcMtxtToAllPart:"Entidad total",pcMtxtToAllBox:"Total cuadro delimitador",pcMtxtToAllAttr:"Total propiedades",pcMtxtTolArea:"Área total",pcMtxtIplus:"Zoom a extensiones",pcCoutTip1:"Rotación en sentido horario",pcCoutTip2:"Contrarrotar",pcCoutTip3:"Maximizar",pcCoutTip4:"Espejo",pcCoutTip5:"Minimizar",pcCursorTip:"Haga clic para seleccionar el objeto",pcAllVol:"Volumen total",pcAllWeight:"Peso total",pcUnitIcon:"Ajustes de la unidad",pcUnitType1:"Unidad predeterminada",pcUnitType2:"Unidad métrica(mm)",pcUnitType3:"Unidad Imperial(en)",rightScaleTips:"Completa con la escala correcta",pcMtxtCoordinate:"Punto de ID",pcMtxtEdges:"Longitudes continuas",pcMtxtContinuousLine:"Longitudes continuas",pcMtxtContinuousArea:"Zona",pcMtxtLineAngel:"Ángulo",pcMtxtScale:"Escala",pcMtxtLinear:"Medición lineal",pcMtxtHoleDist:"Distancia del centro",pcMtxtAxis2pt:"Centro a punto",pcMtxtAxisline:"Centro a línea",pcMtxtBgColor:"Fondo",pcMtxtZoom:"Zoom a extensiones",pcMtxtFull:"Pantalla completa",pcMtxtFullexit:"Salida completa",pcFileTypeTips:"Formato de imagen no válido",pcBrepNotEnd:"Algo está incorrecto en la medición, vuelva a intentarlo",pcMtxtTextFind:"Búsqueda de Texto",colorBlack:"Negro",colorGrey:"Gris",colorBeige:"Beis",tagAudioTips1:"El tiempo de diálogo",tagDelConfirm:"¿Deseas borrar el comentario actual?",tagSaveConfirm:"¿Deseas guardar los comentarios actuales?",tagAudioTimeTip:"",tagAudioCreate:"Deshacer para crear un mensaje de voz",tagAudioPress:"Pulsa para hablar",tagExitSee:"Salir",tagExit:"Salir",tagExit2:"Salir",tagTips:"Introduce el texto",tagDelImg:"Borrar imagen",tagNoRoot:"Permite el acceso a tu micrófono",tagSaveConfirm2:"¿Deseas guardar los comentarios actuales?",tagSeeBigImg:"Ver imagen más grande",tagSeeSmallImg:"Minimizar",measureTimesErr:"Actualmente, hay demasiados datos de medición, elimínalos y vuelva a intentarlo",modelLoadErr:"¡Error del modelo cargado!",modelLimitErr:"Superó el número máximo de usuarios",pcMtxtLineWeight:"Mostrar el grosor de la línea",pcMtxtLineWeight2:"Ocultar el grosor de la línea",textFind:"Búsqueda de Texto",textFindTxt1:"Contenido",textFindTxt2:"Zona",textFindTxt3:"Dibujo completo",textFindTxt4:"Selección de caja",textFindTxt5:"Seleccionar área",textFindTxt6:"Resultados coincidentes",textFindTxt7:"Anterior",textFindTxt8:"Posterior",textFindTxt9:"Introducir texto de búsqueda",textFindCursor:"Seleccione un área de búsqueda",textFindNoResult:"No hay texto coincidente",excelReselect:"Re-seleccionar",excelDownload:"Descargar Excel",excelLoading:"Extrayendo tabla, por favor espere...",excelErrorTips:"Extracción fallida, por favor intente seleccionar toda la tabla",excelFormatError:"Error de extracción, vuelva a cargar e inténtelo de nuevo.",blockSearch:"Búsqueda por bloque",blockName:"Nombre del bloque",inputOrSelectSearchContent:"Introducir o seleccionar",blockSearchQuery:"Buscar",searchArea:"Zona de búsqueda",allPaper:"Dibujo completo",frameSelectArea:"Selección de caja",searchResult:"Resultados coincidentes",selectArea:"Seleccionar área",viewPreOne:"Anterior",viewNextOne:"Posterior",blockSearchCursor:"Seleccionar área de búsqueda de bloques",modelview:"Vista",addModelview:"Agregar vista",deleteModelview:"¿Eliminar la vista?",settingModelview:"Personalizado como vista predeterminada",measureStyleTit:"estilo",measureModifyText:"texto",measureFontSize:"Tamaño",measureLineWidth:"ancho",measureColor:"Color",measureArrowStyle:"flecha",measureAdaptive:"Adaptativo",measureCustom:"Personaliza",measureSolidClosure:"Cerrado relleno",measureBuildingMark:"Marca arquitectónica",measureIncline:"Oblicuo",diameter:"Durchmesser",scaleTitle:"Escala",scalemeasureOut:"Calcular escala",scaleUnits:"Unidad",defaultUnit:"Predeterminada",metricUnits:"Métrica",imperialUnits:"Imperial",accuracySettings:"Acuracidad",Scientific:"Científico",Decimal:"Decimal",Engineering:"Ingeniería",Architectural:"Arquitectónico",Fractional:"Fraccionario",digitsOfPrecision:"Dígitos de precisión",scaleReset:"Restablece",WholeColor:"Todos",Whole:"Todos",multipleChoice:"Selección múltiple",rSelectAll:"Todos",rDeselectAll:"Desmarcar todo",ShowOrHide:"Mostrar/Ocultar",rDelete:"Borrar",height:"altura",MeasurementSetting:"Ajustes",UnitOrAccuracySettings:"Configuración de unidad/precisión",length:"Longitud",radius:"Radio",area:"Zona",angle:"Ángulo",noData:"Sin datos",ditmResults:"Editar",coordinateMeter:"Coordenada",ResultStatistics:"Estadísticas de resultados",gageLength:"Longitud medida",physicalLength:"Longitud real",newRatio:"Nueva escala",settings:"Ajustes",rotate:"Girar",background:"Fondo",magnifyingGlass:"Mantén presionado para activar la lupa para una selección precisa",iSee:"Entendido",textFont:"fuente",textStyle:"estilo",textSimSun:"SimSun",textHanSans:"Source Han Sans",TextAnnoTit:"Texto",compare:"Comparar",angleViewSync:"Sincronizar",wireframe:"Visualizar tramas",sameArea:"Misma área",excessArea:"Exceso",lackArea:"Falta",startCompare:"Inicio",compareOpenFile:"Error al abrir",compareAddModel:"Agregar dibujo",compareLoading:"Cargando el plano, por favor espere...",compareErrorTips:"Error de carga, por favor vuelve a seleccionar el dibujo",compareVersionErrorTips:"La versión del archivo es demasiado baja para realizar la comparación de dibujos",addInterfaceTips:"Por favor, integra esta función e inténtalo de nuevo",textLineStyle:"Estilo de línea de referencia",pcMtxtTextGet:"Extracción de texto",textGetting:"Extrayendo texto, por favor espere...",copyBtn:"Copiar",copySuccess:"Copia exitosa",copyFail:"Copia fallida",layoutLeftAndRight:"Diseño izquierda-derecha",layoutTopAndBottom:"Diseño superior-inferior"},YS={cancel:"キャンセル",save:"保存",sure:"確認",search:"検索",search2:"検索",back:"後",exit:"終了",del:"削除",searchTree:"設計を検索",searchTree2:"デザインパートの検索",gUnit:"",areaBoxTxt:"面積：",volumnBoxTxt:"容積：",areaAllBoxTxt:"総面積：",volumnAllBoxTxt:"総容積：",premierTxt:"周長",noTxt:"NO.",sizeTxt:"寸法",chooseToLayout:"レイヤー",chooseLayer:"レイヤー",chooseBgColor:"背景色",scaleMeter:"スケール",accuracyInfo:"モデルが複雑すぎてロードできないため、低精度モードを選択して表示することをお勧めします。",lowAccuracy:"低精度モード",highAccuracy:"高精度モード",resetEye:"ホームビュー",reset:"リセット",hideNote:"コメントを非表示",showNote:"コメントを表示",tagNote:"コメント",meter:"測定",structureTree:"設計",showHide:"表示と非表示",chooseMeterType:"測定形式",chooseMeterDistanceType:"距離形式",chooseMeterLengthType:"長さ形式",chooseMeterAngleType:"角度形式",chooseMeterAreaType:"面積形式",chooseMeterVolumnWeightType:"容積形式",chooseTagType:"マークアップの形式",distance:"距離",pointToPoint:"点から点へ",pointToLine:"点から直線へ",pointToFace:"直線から表面へ",lineToLine:"線から直線へ",circleDistance:"中心距離",dotToPoint:"軸穴から点へ",dotToLine:"軸穴から直線へ",length:"長さ",meterLine:"線測定 ",circleLength:"周長",angle:"角度",lineToAngle:"直線間の角度",radius:"半径",area:"面積",facade:"ファサード",clear:"クリア",chooseStructureTree:"設計",noTreeData:"結果未発見",noTreeData2:"データなし",chooseAttrType:"属性から選択",totalAttr:"合計属性",selAttrDetail:"エンティティを選択",totalattrDetail:"合計属性詳細",normalAttr:"汎用",selfAttr:"ユーザー定義",noAttr:"属性未発見",faceFace:"表面面積",volumn:"容積",weight:"重量",boxVolume:"境界ボックスの容積",objNum:"エンティティ数",partNum:"部品数",pmiNum:"PMI数",sureToDelAttr:"プロパティを削除しますか？",chooseShowType:"表示モード",serveErrorTips:"例外",dataIsNeed:"必須",noChildCfg:"現在、サブメニュー設定不十分",choosePoint:"クリックしてポイントを割り当てます。",tagTitle:"マークアップ",tagholder:"ここに説明を入力してください。（任意）",tagPoint:"点",tagText:"テキスト",tagDraw:"作図",tagArrow:"矢印",tagLine:"線",tagCircle:"円",tagRect:"直方体",tagSave:"保存",tagCancle:"キャンセル",tagTip1:"不正文字を入力しないでください",tagTip2:"画像過大",tagTip3:"無効な画像形式",tagTip4:"画像を選択してください",tagTip5:"選択",loadError:"読み込みエラー",pcNowConfig:"現在のレイアウト",pcStructLv:"設計階層",chooseMateria2:"物件のタイプを選択してください",pcInpAttrName3:"属性名複製",pcMtxtHomeView:"ホームビュー",pcMtxtTagTxt:"テキスト",pcMtxtTagImg:"画像",pcMtxtTagImg2:"画像",pcMtxtTagTxtImg:"画像とテキスト",pcMtxtSmartMeter:"インテリジェントな測定",pcMtxtDistance:"距離",pcMtxtLength:"長さ",pcMtxtRadius:"半径",pcMtxtVolWet:"容積と重量",pcMtxtBox:"境界ボックス",pcMtxtP2P:"点から点へ",pcMtxtP2L:"点から直線へ",pcMtxtP2F:"点から表面へ",pcMtxtL2L:"線から直線へ",pcMtxtL2F:"直線から表面へ",pcMtxtF2F:"表面から表面へ",pcMtxtCpoint:"中心距離",pcMtxtX2P:"軸穴から点へ",pcMtxtX2L:"軸穴から直線へ",pcMtxtX2F:"軸穴から表面へ",pcMtxtLmeter:"線測定",pcMtxtPmeter:"周長",pcMtxtAngleL:"直線間の角度",pcMtxtAngleF:"平面間の角度",pcMtxtAngleLF:"線と平面の角度",pcMtxtToF:"平面を選択します",pcMtxtToSingle:"エンティティを選択",pcMtxtToAllPart:"実体全体",pcMtxtToAllBox:"合計境界ボックス",pcMtxtToAllAttr:"合計属性",pcMtxtTolArea:"総面積",pcMtxtIplus:"ズーム範囲",pcCoutTip1:"時計回り回転",pcCoutTip2:"反転",pcCoutTip3:"最大化",pcCoutTip4:"ミラー",pcCoutTip5:"最小化",pcCursorTip:"オブジェクトを選択するクリック",pcAllVol:"全容積",pcAllWeight:"総重量",pcUnitIcon:"単位設定",pcUnitType1:"デフォルト単位",pcUnitType2:"メートル単位(mm)",pcUnitType3:"帝国単位（in）",rightScaleTips:"正しい尺度を入力してください",pcMtxtCoordinate:"IDポイント",pcMtxtEdges:"長さ",pcMtxtContinuousLine:"連続長さ",pcMtxtContinuousArea:"面積",pcMtxtLineAngel:"角度",pcMtxtScale:"スケール",pcMtxtLinear:"線形測定",pcMtxtHoleDist:"中心距離",pcMtxtAxis2pt:"中心から点まで",pcMtxtAxisline:"中心から線まで",pcMtxtBgColor:"背景",pcMtxtZoom:"ズーム範囲",pcMtxtFull:"フルスクリーン",pcMtxtFullexit:"フルスクリーンを終了",pcFileTypeTips:"無効な画像形式",pcBrepNotEnd:"測定に問題があります。もう一度お試しください",pcMtxtTextFind:"テキスト検索",colorBlack:"黒",colorGrey:"灰色",colorBeige:"ベージュ",tagAudioTips1:"対話時間過短",tagDelConfirm:"現在のコメントを削除しますか？",tagSaveConfirm:"現在のコメントを保存しますか？",tagAudioTimeTip:"",tagAudioCreate:"取り消して音声を作成",tagAudioPress:"プッシュして話す",tagExitSee:"終了",tagExit:"終了",tagExit2:"終了",tagTips:"テキストを入力してください",tagDelImg:"画像を削除",tagNoRoot:"マイクへのアクセスを許可してください",tagSaveConfirm2:"現在のコメントを保存しますか？",tagSeeBigImg:"拡大画像を見ます",tagSeeSmallImg:"最小化",measureTimesErr:"測定データが多すぎるので、削除してもう一度お試しください",modelLoadErr:"モデルロードエラー！",modelLimitErr:"最大ユーザー数を超えました",pcMtxtLineWeight:"ラインウェイトを表示",pcMtxtLineWeight2:"ラインウェイトを非表示",textFind:"テキスト検索",textFindTxt1:"内容",textFindTxt2:"エリア",textFindTxt3:"全体図",textFindTxt4:"ボックスの選択",textFindTxt5:"エリアを選択します",textFindTxt6:"照合結果",textFindTxt7:"前へ",textFindTxt8:"次へ",textFindTxt9:"検索テキストを入力します",textFindCursor:"検索エリアを選択します",textFindNoResult:"一致するテキストなし",excelReselect:"再選択",excelDownload:"エクセルをダウンロード",excelLoading:"フォームを抽出中です、しばらくお待ちください...",excelErrorTips:"抽出に失敗しました。テーブル全体を選択してください。",excelFormatError:"解凍に失敗しました。再アップロードしてから再試行してください。",blockSearch:"ブロック検索",blockName:"ブロック名",inputOrSelectSearchContent:"検索内容を入力または選択",blockSearchQuery:"検索",searchArea:"地域を探す",allPaper:"全体図",frameSelectArea:"ボックスの選択",searchResult:"照合結果",selectArea:"エリアを選択します",viewPreOne:"前へ",viewNextOne:"次へ",blockSearchCursor:"ブロック検索エリアを選択",modelview:"ビュー",addModelview:"ビューを追加する",deleteModelview:"ビューを削除する",settingModelview:"カスタムをデフォルトのビューに",measureStyleTit:"様式",measureModifyText:"テキスト",measureFontSize:"寸法",measureLineWidth:"線幅",measureColor:"色",measureArrowStyle:"矢印",measureAdaptive:"適応型",measureCustom:"カスタム",measureSolidClosure:"クローズド・フィルド",measureBuildingMark:"建築タグ",measureIncline:"斜め",diameter:"直径",scaleTitle:"スケール",scalemeasureOut:"スケールを計算する",scaleUnits:"単位設定",defaultUnit:"デフォルト単位",metricUnits:"メートル単位",imperialUnits:"帝国単位",accuracySettings:"精度",Scientific:"科学的",Decimal:"十進法",Engineering:"エンジニアリング",Architectural:"建築",Fractional:"分数",digitsOfPrecision:"精度桁数",scaleReset:"リセット",WholeColor:"すべて",Whole:"すべて",multipleChoice:"多肢選択",rSelectAll:"すべて",rDeselectAll:"すべての選択を解除する",ShowOrHide:"表示/非表示",rDelete:"削除",height:"高さ",MeasurementSetting:"設定",UnitOrAccuracySettings:"単位/精度設定",length:"長さ",radius:"半径",area:"面積",angle:"角度",noData:"データなし",EditmResults:"編集",coordinateMeter:"コーディネート",ResultStatistics:"結果統計",gageLength:"測定された長さ",physicalLength:"実際の長さ",newRatio:"新しいスケール",settings:"設定",rotate:"ローテーション",background:"背景",textFont:"フォント",textStyle:"様式",textSimSun:"シムサン",textHanSans:"ソース ハンサンズ",TextAnnoTit:"テキスト",magnifyingGlass:"長押しして拡大鏡を起動し、正確な選択をします",iSee:"理解しました",compare:"モデルの比較",angleViewSync:"視点の同期",wireframe:"ワイヤーフレーム表示",sameArea:"同じエリア",excessArea:"余剰領域",lackArea:"不足地域",startCompare:"スタート",compareOpenFile:"オープンの失敗",compareAddBtn:"モデルの追加",compareAddModel:"図を追加",compareLoading:"図面を読み込んでいます。しばらくお待ちください...",compareErrorTips:"読み込みに失敗しました。再度図面を選択してください。",compareVersionErrorTips:"ファイルバージョンが低すぎて、図面の比較を実行できません",addInterfaceTips:"この機能を統合して、再度お試しください",textLineStyle:"引出線スタイル",pcMtxtTextGet:"テキスト抽出",textGetting:"テキスト抽出中、少々お待ち下さい。",copyBtn:"コピー",copySuccess:"コピー成功",copyFail:"コピー失敗",layoutLeftAndRight:"左右レイアウト",layoutTopAndBottom:"上下レイアウト"},JS={cancel:"취소",save:"저장",sure:"확인",search:"검색",search2:"검색",back:"뒤로 가기",exit:"종료",del:"삭제",searchTree:"디자인 검색",searchTree2:"디자인 검색 부분",gUnit:"",areaBoxTxt:"영역:",volumnBoxTxt:"볼륨:",areaAllBoxTxt:"총 면적:",volumnAllBoxTxt:"총 볼륨:",premierTxt:"둘레",noTxt:"번호",sizeTxt:"크기",chooseToLayout:"레이어",chooseLayer:"레이어",chooseBgColor:"배경색",scaleMeter:"척도",accuracyInfo:"모델이 너무 복잡하여 로드할 수 없으므로 낮은 정밀도 모드를 선택하여 보는 것이 좋습니다 ",lowAccuracy:"낮은 정밀도 모드",highAccuracy:"높은 정밀도 모드",resetEye:"홈 보기",reset:"재설정",hideNote:"주석 숨기기",showNote:"주석 표시",tagNote:"주석",meter:"측정",structureTree:"디자인",showHide:"표시 및 숨기기",chooseMeterType:"측정 형식",chooseMeterDistanceType:"거리 형식",chooseMeterLengthType:"길이 형식",chooseMeterAngleType:"각도 형식",chooseMeterAreaType:"면적 형식",chooseMeterVolumnWeightType:"볼륨 형식",chooseTagType:"마크업 형식",distance:"거리",pointToPoint:"포인트 대 포인트",pointToLine:"포인트 대 직선",pointToFace:"포인트 대 표면",lineToLine:"직선 대 직선",circleDistance:"중심 거리",dotToPoint:"구멍 대 점",dotToLine:"구멍 대 직선",length:"길이",meterLine:"선 측정 ",circleLength:"둘레",angle:"각도",lineToAngle:"직선 사이의 각도",radius:"반경",area:"면적",facade:"정면",clear:"지우기",chooseStructureTree:"디자인",noTreeData:"결과 없음",noTreeData2:"데이터 없음",chooseAttrType:"속성에서",totalAttr:"총 속성",selAttrDetail:"본체 선택",totalattrDetail:"총 속성 세부 정보",normalAttr:"일반",selfAttr:"사용자 정의",noAttr:"속성 없음",faceFace:"속성 없음",volumn:"볼륨",weight:"무게",boxVolume:"경계 상자의 볼륨",objNum:"본체 수",partNum:"파트 수",pmiNum:"PMI 수",sureToDelAttr:"속성을 삭제하시겠습니까?",chooseShowType:"표시 모드",serveErrorTips:"예외",dataIsNeed:"필수",noChildCfg:"현재 하위 메뉴 구성이 없습니다",choosePoint:"한 번 클릭하여 점 지정하기",tagTitle:"마크업",tagholder:"여기에 설명 입력하기. (선택 사항)",tagPoint:"포인트",tagText:"텍스트",tagDraw:"그리기",tagArrow:"화살표",tagLine:"선",tagCircle:"원",tagRect:"직사각형",tagSave:"저장",tagCancle:"취소",tagTip1:"불법 문자를 입력하지 말십시오",tagTip2:"그림이 너무 큽니다",tagTip3:"잘못된 그림 형식",tagTip4:"그림 선택하기",tagTip5:"선택",loadError:"로딩 오류",pcNowConfig:"현재 레이아웃",pcStructLv:"디자인 계층 구조",chooseMateria2:"속성 유형 선택",pcInpAttrName3:"속성 이름 중복",pcMtxtHomeView:"홈 보기",pcMtxtTagTxt:"텍스트",pcMtxtTagImg:"그림",pcMtxtTagImg2:"그림",pcMtxtTagTxtImg:"그림 & 텍스트",pcMtxtSmartMeter:"지능형 측정",pcMtxtDistance:"거리",pcMtxtLength:"길이",pcMtxtRadius:"반경",pcMtxtVolWet:"볼륨 및 무게",pcMtxtBox:"경계 상자",pcMtxtP2P:"포인트 대 포인트",pcMtxtP2L:"포인트 대 직선",pcMtxtP2F:"포인트 대 표면",pcMtxtL2L:"직선 대 직선",pcMtxtL2F:"직선 대 표면",pcMtxtF2F:"표면 대 표면",pcMtxtCpoint:"중심 거리",pcMtxtX2P:"구멍 대 점",pcMtxtX2L:"구멍 대 선",pcMtxtX2F:"구멍 대 면",pcMtxtLmeter:"선 측정",pcMtxtPmeter:"둘레",pcMtxtAngleL:"직선 사이의 각도",pcMtxtAngleF:"평면 사이의 각도",pcMtxtAngleLF:"선과 평면 사이의 각도",pcMtxtToF:"평면 선택",pcMtxtToSingle:"본체 선택",pcMtxtToAllPart:"전체 실체",pcMtxtToAllBox:"전체 경계 상자",pcMtxtToAllAttr:"전체 속성",pcMtxtTolArea:"총 면적",pcMtxtIplus:"범위 지정",pcCoutTip1:"시계 방향 회전",pcCoutTip2:"반회전",pcCoutTip3:"최대화",pcCoutTip4:"미러링",pcCoutTip5:"최소화",pcCursorTip:"객체 선택하려면 클릭하세요",pcAllVol:"총 볼륨",pcAllWeight:"총 무게",pcUnitIcon:"단위 설정",pcUnitType1:"기본 단위",pcUnitType2:"미터법 단위(mm)",pcUnitType3:"영국식 단위(in)",pcTagGraphic:"그래픽",pcTagLine:"리더 코멘트",rightScaleTips:"올바른 척도를 입력하십시오",pcMtxtCoordinate:"ID 지점",pcMtxtEdges:"길이",pcMtxtContinuousLine:"연속 길이",pcMtxtContinuousArea:"면적",pcMtxtLineAngel:"각도",pcMtxtScale:"척도",pcMtxtLinear:"선형 측정",pcMtxtHoleDist:"중심 거리",pcMtxtAxis2pt:"중심 대 점",pcMtxtAxisline:"중심 대 선",pcMtxtBgColor:"배경",pcMtxtZoom:"범위 지정",pcMtxtFull:"전체 화면",pcMtxtFullexit:"전체 종료",pcFileTypeTips:"잘못된 그림 형식",pcBrepNotEnd:"측정에 문제가 있습니다. 다시 시도하여 주십시오",pcMtxtTextFind:"텍스트 검색",colorBlack:"검정",colorGrey:"회색",colorBeige:"베이지",tagAudioTips1:"말하는 시간이 너무 짧습니다",tagDelConfirm:"현재 댓글을 삭제하시겠습니까?",tagSaveConfirm:"현재 댓글을 저장하시겠습니까?",tagAudioTimeTip:"",tagAudioCreate:"음성 만들기 취소",tagAudioPress:"푸시투톡",tagExitSee:"종료",tagExit:"종료",tagExit2:"종료",tagTips:"텍스트를 입력하십시오",tagDelImg:"그림 삭제",tagNoRoot:"마이크에 대한 액세스를 허용하십시오",tagSaveConfirm2:"현재 댓글을 저장하시겠습니까?",tagSeeBigImg:"더 큰 이미지 보기",tagSeeSmallImg:"최소화",measureTimesErr:"현재 측정 데이터가 너무 많습니다. 삭제한 다음 다시 시도하여 주십시오",modelLoadErr:"모델 로드 오류!",modelLimitErr:"최대 사용자 수 초과",pcMtxtLineWeight:"선 굵기 표시",pcMtxtLineWeight2:"선 굵기 숨기기",textFind:"텍스트 검색",textFindTxt1:"콘텐츠",textFindTxt2:"영역",textFindTxt3:"전체 도면",textFindTxt4:"박스 선택",textFindTxt5:"영역 선택",textFindTxt6:"검색 결과",textFindTxt7:"이전",textFindTxt8:"다음",textFindTxt9:"검색 텍스트 입력",textFindCursor:"검색 영역 선택",textFindNoResult:"일치하는 텍스트 없음",modelview:"보기",addModelview:"뷰 추가",deleteModelview:"뷰를 삭제하시겠습니까?",settingModelview:"기본 뷰로 사용자 정의",measureStyleTit:"스타일",measureModifyText:"텍스트",measureFontSize:"크기",measureLineWidth:"선 폭",measureColor:"색상",measureArrowStyle:"화살표",measureAdaptive:"적응형의",measureCustom:"사용자 정의",measureSolidClosure:"닫고 채움",measureBuildingMark:"건축 틱",measureIncline:"기울기",diameter:"지름",scaleTitle:"척도",scalemeasureOut:"척도 계산",scaleUnits:"단위",defaultUnit:"기본 단위",metricUnits:"미터 단위",imperialUnits:"영국식 단위",accuracySettings:"정밀도",Scientific:"사이언티픽",Decimal:"소수점",Engineering:"엔지니어링",Architectural:"건축",Fractional:"분수",digitsOfPrecision:"정밀도 자릿수",scaleReset:"재설정",WholeColor:"전체",Whole:"전체",multipleChoice:"멀티 선택",rSelectAll:"전체 선택",rDeselectAll:"전체 선택 해제",ShowOrHide:"표시/숨기기",rDelete:"삭제",height:"높이",MeasurementSetting:"설정",UnitOrAccuracySettings:"단위/정밀도 설정",length:"길이",radius:"반경",area:"면적",angle:"각도",noData:"결과 없음",coordinateMeter:"좌표",ResultStatistics:"결과 통계",gageLength:"측정 길이",physicalLength:"실제 길이",newRatio:"새 척도",EditmResults:"편집",excelReselect:"다시 선택",excelDownload:"엑셀로 다운로드",excelLoading:"테이블 출력 중이니 잠시 기다려 주십시오",excelErrorTips:"출력에 실패했습니다. 파일을 업로드 한 후 다시 출력하세요.",excelFormatError:"출력에 실패했습니다. 파일을 업로드 한 후 다시 시도하여 주십시오",blockSearch:"블록 검색",blockName:"블록 이름",inputOrSelectSearchContent:"입력 또는 선택 ",blockSearchQuery:"검색",searchArea:"검색 영역",allPaper:"전체 도면",frameSelectArea:"박스 선택",searchResult:"검색 결과",selectArea:"영역 선택",viewPreOne:"이전",viewNextOne:"다음",blockSearchCursor:"블록 검색 영역 선택",settings:"설정",rotate:"회전",background:"배경",textFont:"폰트",textStyle:"텍스트 스타일",textSimSun:"SimSun",textHanSans:"본고딕",TextAnnoTit:"텍스트",magnifyingGlass:"정확한 선택을 위해 돋보기를 활성화하려면 길게 누르세요.",iSee:"이해했습니다",compare:"모델 비교",angleViewSync:"시각 동기화",wireframe:"와이어프레임 표시",sameArea:"같은 지역",excessArea:"초과 영역",lackArea:"삭제된 영역",startCompare:"시작",compareOpenFile:"Apertura fallita",compareAddModel:"도면 추가하기",compareLoading:"도면을 로드하는 중입니다. 잠시만 기다려 주십시오...",compareErrorTips:"로드 실패, 도면을 다시 선택해 주세요",compareVersionErrorTips:"버전이 오래되어 도면 비교를 할 수 없습니다",addInterfaceTips:"기능을 통합한 후 다시 시도해 주십시오.",textLineStyle:"지시선 스타일",pcMtxtTextGet:"텍스트만 추출",textGetting:"텍스트 추출 중, 잠시만 기다려 주십시오...",copyBtn:"복사",copySuccess:"복사 성공",copyFail:"복사 실패",layoutLeftAndRight:"좌우 레이아웃",layoutTopAndBottom:"상하 레이아웃"},XS={cancel:"取消",save:"儲存",sure:"確認",search:"搜尋",search2:"搜尋",back:"返回",exit:"退出",del:"刪除",searchTree:"搜尋設計",searchTree2:"搜尋設計零件",chooseToLayout:"佈局",chooseLayer:"圖層",chooseBgColor:"背景顏色",scaleMeter:"比例",accuracyInfo:"模型太複雜，無法載入，建議您選擇低精度模式檢視。",lowAccuracy:"低精度模式",highAccuracy:"高精度模式",resetEye:"重設觀點",reset:"重設",hideNote:"隱藏註解",showNote:"顯示註解",tagNote:"註解",meter:"測量",structureTree:"結構樹",showHide:"顯示隱藏",chooseMeterType:"測量形式",chooseMeterDistanceType:"距離的形式",chooseMeterLengthType:"長度的形式",chooseMeterAngleType:"角度的形式",chooseMeterAreaType:"區域的形式",chooseMeterVolumnWeightType:"體積的形式",chooseTagType:"標記的形式",distance:"距離",pointToPoint:"點到點",pointToLine:"點到直線",pointToFace:"點到面",lineToLine:"線到直線",circleDistance:"中心距離",dotToPoint:"軸向孔至點",dotToLine:"軸向孔至直線",length:"長度",meterLine:"線性測量",circleLength:"周長",angle:"角度",lineToAngle:"直線間角度",radius:"半徑",area:"面積",facade:"外立面",clear:"清除",chooseStructureTree:"結構樹",noTreeData:"未找到結果",noTreeData2:"沒有資料",chooseAttrType:"從屬性",totalAttr:"屬性總計",selAttrDetail:"選擇實體",totalattrDetail:"屬性詳細資料總計",normalAttr:"一般",selfAttr:"使用者定義",noAttr:"找不到屬性",faceFace:"找不到屬性",volumn:"體積",weight:"重量",boxVolume:"邊框體積",objNum:"實體數量",partNum:"零件數量",pmiNum:"PMI 數量",sureToDelAttr:"確定刪除屬性？",chooseShowType:"顯示模式",serveErrorTips:"例外",dataIsNeed:"需要",noChildCfg:"缺少當前子菜单配置",choosePoint:"单点指定一点",tagTitle:"標記",tagholder:"請在此輸入您的描述（可選）。",tagPoint:"點",tagText:"文字",tagDraw:"手繪",tagArrow:"箭頭",tagLine:"線",tagCircle:"圓",tagRect:"矩形",tagSave:"儲存",tagCancle:"取消",tagTip1:"請勿輸入非法字元",tagTip2:"圖片太大",tagTip3:"無效圖片格式",tagTip4:"請選擇圖片",tagTip5:"選擇",loadError:"載入錯誤",pcNowConfig:"目前的佈局",pcStructLv:"設計階層",chooseMateria2:"請選擇屬性類型",pcInpAttrName3:"屬性名稱重複",pcMtxtHomeView:"重設觀點",pcMtxtTagTxt:"文字",pcMtxtTagImg:"圖片",pcMtxtTagImg2:"圖片",pcMtxtTagTxtImg:"圖片與文字",pcMtxtSmartMeter:"智慧型測量",pcMtxtDistance:"距離",pcMtxtLength:"長度",pcMtxtRadius:"半徑",pcMtxtVolWet:"體積和重量",pcMtxtBox:"邊界框",pcMtxtP2P:"點到點",pcMtxtP2L:"點到直線",pcMtxtP2F:"點到面",pcMtxtL2L:"線到線",pcMtxtL2F:"線到面",pcMtxtF2F:"面到面",pcMtxtCpoint:"中心距離",pcMtxtX2P:"軸向孔至點",pcMtxtX2L:"軸向孔至線",pcMtxtX2F:"軸向孔至面",pcMtxtLmeter:"線性測量",pcMtxtPmeter:"周長",pcMtxtAngleL:"直線間角度",pcMtxtAngleF:"平面間角度",pcMtxtAngleLF:"線與平面的角度",pcMtxtToF:"選擇平面",pcMtxtToSingle:"選擇實體",pcMtxtToAllPart:"全部實體",pcMtxtToAllBox:"全部邊界框",pcMtxtToAllAttr:"全部屬性",pcMtxtTolArea:"總面積",pcMtxtIplus:"向外選取",pcCoutTip1:"順時針旋轉",pcCoutTip2:"對比",pcCoutTip3:"最大化",pcCoutTip4:"鏡子",pcCoutTip5:"最小化",pcCursorTip:"按一下選取物件",pcAllVol:"總體積",pcAllWeight:"總重量",pcUnitIcon:"單元設定",pcUnitType1:"預設單位",pcUnitType2:"公制單位",pcUnitType3:"英制單位",pcTagGraphic:"圖形",pcTagLine:"導線註解",rightScaleTips:"請填寫正確的比例",pcMtxtCoordinate:"坐標",pcMtxtEdges:"長度",pcMtxtContinuousLine:"連續長度",pcMtxtContinuousArea:"面積",pcMtxtLineAngel:"角度",pcMtxtScale:"比例",pcMtxtLinear:"線性測量",pcMtxtHoleDist:"中心距離",pcMtxtAxis2pt:"中心到點",pcMtxtAxisline:"中心到線",pcMtxtBgColor:"背景",pcMtxtZoom:"全景",pcMtxtFull:"全螢幕",pcMtxtFullexit:"退出全螢幕",pcFileTypeTips:"無效圖片格式",pcBrepNotEnd:"測量出錯，請重試",pcMtxtTextFind:"文字搜尋",colorBlack:"黑色",colorGrey:"灰色",colorBeige:"米黃色",tagAudioTips1:"發言時間太短",tagDelConfirm:"您確定要刪除目前的註解嗎？",tagSaveConfirm:"您要儲存目前的註解嗎？",tagAudioTimeTip:"",tagAudioCreate:"撤消建立語音",tagAudioPress:"推送對話",tagExitSee:"退出",tagExit:"退出",tagExit2:"退出",tagTips:"請輸入文字",tagDelImg:"刪除圖片",tagNoRoot:"請允許使用您的麥克風",tagSaveConfirm2:"您要儲存目前的註解嗎？",tagSeeBigImg:"查看大圖",tagSeeSmallImg:"最小化",measureTimesErr:"目前有太多測量資料，請先刪除再重試",modelLoadErr:"模型載入錯誤！",modelLimitErr:"超過使用者人數上限",pcMtxtLineWeight:"顯示線寬",pcMtxtLineWeight2:"隱藏線寬",textFind:"文字搜尋",textFindTxt1:"內容",textFindTxt2:"要搜尋的區塊",textFindTxt3:"全圖",textFindTxt4:"框選",textFindTxt5:"選擇搜尋區域",textFindTxt6:"匹配結果",textFindTxt7:"前一個",textFindTxt8:"下一個",textFindTxt9:"輸入搜尋文字",textFindCursor:"要搜尋的區塊",textFindNoResult:"沒有匹配的文字",modelview:"檢視",addModelview:"新增檢視",deleteModelview:"刪除檢視？",settingModelview:"設定預設檢視",measureStyleTit:"風格",measureModifyText:"文字",measureFontSize:"大小",measureLineWidth:"線寬",measureColor:"主題色彩",measureArrowStyle:"箭頭類型",measureAdaptive:"自適應",measureCustom:"客製化",measureSolidClosure:"封閉填充",measureBuildingMark:"建築剔號",measureIncline:"斜向",diameter:"直徑",scaleTitle:"比例",scalemeasureOut:"計算比例",scaleUnits:"單位",defaultUnit:"預設單位",metricUnits:"公制單位",imperialUnits:"英制單位",accuracySettings:"精確度設定",Scientific:"科學",Decimal:"小數",Engineering:"工程",Architectural:"建築",Fractional:"分數",digitsOfPrecision:"數位精確度",scaleReset:"重置",WholeColor:"整體",Whole:"整體",multipleChoice:"多選",rSelectAll:"全選",rDeselectAll:"取消全選",ShowOrHide:"顯示/隱藏",rDelete:"刪除",height:"高度",MeasurementSetting:"設定",UnitOrAccuracySettings:"單位/精確度設定",length:"長度",radius:"半徑",area:"面積",angle:"角度",noData:"沒有資料",coordinateMeter:"座標",ResultStatistics:"結果統計",gageLength:"測量長度",physicalLength:"實際長度",newRatio:"新比例",EditmResults:"編輯",excelReselect:"重新選擇",excelDownload:"下載 Excel",excelLoading:"正在輸出表格，請稍候...",excelErrorTips:"輸出失敗，請重新上傳文件後再輸出",excelFormatError:"輸出失敗，請重新選擇",blockSearch:"圖塊查找",blockName:"圖塊名稱",inputOrSelectSearchContent:"輸入或選擇 ",blockSearchQuery:"搜尋",searchArea:"搜尋區域",allPaper:"全圖",frameSelectArea:"框選",searchResult:"匹配結果",selectArea:"選擇搜尋區域",viewPreOne:"前一個",viewNextOne:"下一個",blockSearchCursor:"框選圖塊查找區域",settings:"設定",rotate:"旋轉",background:"背景",magnifyingGlass:"長按以啟動放大鏡以進行精確選擇",iSee:"明白了",textFont:"字型",textStyle:"文字樣式",textSimSun:"宋體",textHanSans:"思源黑體",TextAnnoTit:"文字",compare:"比較模型",angleViewSync:"視覺同步",wireframe:"顯示線框",sameArea:"相同區域",excessArea:"過剩區域",lackArea:"刪除的區域",startCompare:"開始",compareOpenFile:"Apertura fallita",compareAddModel:"添加圖紙",compareLoading:"正在載入圖紙，請稍候...",compareErrorTips:"加載失敗，請重新選擇圖紙",compareVersionErrorTips:"版本過舊，無法進行圖紙對比",addInterfaceTips:"請集成該功能後重試",textLineStyle:"引線樣式",pcMtxtTextGet:"僅擷取文字",textGetting:"正在提取文字，請稍後...",copyBtn:"複製",copySuccess:"複製成功",copyFail:"複製失敗",layoutLeftAndRight:"左右布局",layoutTopAndBottom:"上下布局"};const QS={zh:{...HS},en:{...GS},french:{...WS},german:{...qS},italy:{...KS},spanish:{...ZS},japan:{...YS},korean:{...JS},zhtw:{...XS}};let ev="zh";window.nd_viewCtrl&&window.nd_viewCtrl.language&&(ev=nd_viewCtrl.language);const tv=Object(s["createI18n"])({globalInjection:!0,legacy:!1,locale:ev,messages:QS});var ov=tv;o("93fc");let nv=function(e){return new Promise(t=>{var o=new Image;o.onload=function(){1==this.complete&&(t(!0),o=null)},o.onerror=function(){t(!1),o=null},o.src=e})};const iv={beforeMount(e,t,o,n){let i=t.value;i&&nv(i).then(t=>{t&&e.setAttribute("src",i)})}};function av(e){}function rv(e){var t=e.el.id;nd_viewCtrl&&nd_viewCtrl.checkEvent?nd_viewCtrl.checkEvent(t,(function(o){0!=o&&(e.args&&e.args.apply(),nd_viewCtrl&&nd_viewCtrl.checkEventAfter&&nd_viewCtrl.checkEventAfter(t))})):e.args&&e.args.apply()}const cv=e=>{e.el.addEventListener("click",(function(t){t.stopPropagation(),rv(e)}))},sv={created(e,t){const o=t.value;cv({el:e,args:o})}};var lv={install:av,clickDirective:sv};const dv=function(e,t){let n=nd_viewCtrl.language||"zh";const i=t.value[0],a=t.value[1],r=mv(a);let c;const s=Object({NODE_ENV:"production",VUE_APP_LANGUAGE:"zh",VUE_APP_ONETAG:"",BASE_URL:""}).VUE_APP_PUBLIC||"",l="",d=nd_viewCtrl.vipBtnCfg||[];d.includes("#"+a)&&(n+="-vip"),r?c=r:l?(c=o("794e")("./ico-"+n+"/"+i+".png"),"true"==e.getAttribute("selected")&&(c=o("7296")("./ico-"+n+"/"+i+"-c.png"))):c=nd_viewCtrl.themeMenu?s+"img/"+nd_viewCtrl.themeMenu+"/"+i+".png":s+"img/ico-"+n+"/"+i+".png",e&&("true"==e.getAttribute("selected")?(c=uv(c),e.classList.add("select-m")):e.classList.remove("select-m"),e.setAttribute("src",c),e.onerror=function(){})},mv=function(e){const t=b();if("show"!=t.type)return!1;const o=t.showbtns||[];if(o.length<1)return!1;let n="";function i(e,t){for(let o=0;o<t.length;o++){let a=t[o];if(e==a.id){n=a.imgUrl||"";break}a.list&&i(e,a.list)}}return i(e,o),n};const uv=function(e){let t=e;return t=t.replace(/.png/,"-c.png"),t=t.replace(/.PNG/,"-c.PNG"),t=t.replace(/.jpg/,"-c.jpg"),t=t.replace(/.JPG/,"-c.JPG"),t=t.replace(/.jpeg/,"-c.jpeg"),t=t.replace(/.JPEG/,"-c.JPEG"),t},gv=function(e,t){};function pv(e,t,o,n){const i=e.querySelector(".dialog_header"),a=e;i.style.cssText+=";cursor:move;";const r=function(){return window.document.currentStyle?(e,t)=>e.currentStyle[t]:(e,t)=>getComputedStyle(e,!1)[t]}();i.onmousedown=null,i.onmousedown=e=>{const o=e.clientX,n=e.clientY,i=document.getElementById("vueMain").offsetWidth,c=document.getElementById("vueMain").offsetHeight,s=a.offsetWidth,l=a.offsetHeight,d=a.offsetLeft,m=i-a.offsetLeft-s,u=a.offsetTop,g=c-a.offsetTop-l;let p=r(a,"left"),h=r(a,"top");p.includes("%")?(p=+document.getElementById("vueMain").offsetWidth*(+p.replace(/\%/g,"")/100),h=+document.getElementById("vueMain").offsetHeight*(+h.replace(/\%/g,"")/100)):(p=+p.replace(/\px/g,""),h=+h.replace(/\px/g,"")),document.onmousemove=null,document.onmousemove=function(e){let r=e.clientX-o,s=e.clientY-n;"openLimit"!=t.value&&(-r>d?r=-d:r>m&&(r=m),-s>u?s=-u:s>g&&(s=g));let l=(r+p)/i*100,w=(s+h)/c*100;r+p<0&&(l=0),s+h<0&&(w=0),"openLimit"==t.value?a.style.cssText+=`;left:${r+p}px;top:${s+h}px;bottom: auto;right: auto;`:a.style.cssText+=`;left:${l}%;top:${w}%;bottom: auto;right: auto;`},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}(function(){try{parent&&parent.nd_viewCtrl?window.nd_viewCtrl=parent.nd_viewCtrl:window.nd_viewCtrl&&(window.nd_viewCtrl=window.nd_viewCtrl)}catch(e){}})();const hv=async e=>{let t=e,o=e&&e.indexOf("model.js");o>1?t=e.substr(0,o):e.lastIndexOf("/")!=e.length-1&&(t=e+"/");let n=await G({url:t+"Configurations.json?temp="+(new Date).getTime(),method:"GET",header:nd_viewCtrl.viewerReqHeader||""});return wv(t,n)},wv=(e,t)=>{let o={};if(t){let n=e,i=[];o={...t},t.Accuracy&&t.Accuracy.length>0&&(t.Accuracy.map(e=>{2==e.Level&&(n=n+e.Folder+"/")}),o.mPath=n+"/model.js"),t.Configurations?(t.Configurations.map(e=>{e.mPath=n+e.Folder+"/model.js"}),o.mPath=t.Configurations[0].mPath,i=t.Configurations,i[0].isActive=!0,i.map(t=>{t.Folder=e+t.Folder})):i=[e+"model.js"],o.cfgSrcs=i}else o.mPath="",o.cfgSrcs=[o.mPath];return o};let Sv;function vv(e){Sv=e.config.globalProperties}function bv(e){Sv.$tag.interfaceOpenFlag=!0;const t=se.state.modelStore.allTag,o=se.state.modelStore.configs,n=se.state.modelStore.nowConfigName;let i=t.filter((function(t){return e==t.state.uuid}));if(i=i[0]||{},i.modelName&&i.modelName!=n){for(var a=0;a<o.length;a++)if(o[a].Name==i.modelName){se.commit("modelStore/setAnnotationTagId",e),se.commit("modelStore/changeMultipleCfg",a);break}}else de.selectAnnotation(e)}window.nd_setViewBoxDir=function(e){de._viewer.setViewBoxDir(e)},window.nd_getBrepMemory=function(){return de._viewer.getBrepMemory()},window.nd_setCameraInfo=function(e){var t=JSON.parse(e);de._viewer.setCameraInfo(t,!0)},window.nd_getCameraInfo=function(){var e=de._viewer.getCameraInfo();return JSON.stringify(e)},window.nd_screenCapture=function(e,t){var o=0!=t;de._viewer.getScreenCapture2((function(t){e&&e(t)}),!1,o)},window.nd_screenshot=function(e){nd_screenCapture(e)},window.nd_screenBounding=function(e){de._viewer.getScreenCapturethumbnail((function(t){e&&e(t)}))},window.nd_addTag=function(){"meter"!=se.state.menuStore.menuChoose&&"meterDistance"!=se.state.menuStore.menuChoose2||Sv.$eventBus.emit("closeMeasure"),Sv.$msgBox.isShow&&(Sv.$msgBox.isShow=!1),Sv.$bottomBtn.chooseToTag(),se.commit("menuStore/setShowOneMenu",!1)},window.nd_addTag=nd_addTag,window.nd_delTags=function(e){se.commit("modelStore/delTagByuuid",e),"sync"==nd_viewCtrl.viewMode?(se.commit("tagStore/setTagshow",!0),de.annotationUtil&&de.annotationUtil.removeAllAnnotations(),setTimeout(()=>{Ne(se.state.modelStore.nowTag,se.state.modelStore.allTag),nd_viewCtrl.rtmSDK.isRtmOperate||nd_viewCtrl.rtmSDK.isRtmFreeOper||Pe.closeTagChange(se.state.modelStore.allTag||[]),Pe.sendCenter(6),Pe.sendCenter(2)},100)):(de.removeAnnotation(e),Ne(se.state.modelStore.nowTag,se.state.modelStore.allTag))},window.nd_delTag=window.nd_delTags,window.nd_updateTagtext=function(e,t){const o=se.state.modelStore.allTag;let n=o.filter((function(t){return e==t.state.uuid}));return!!(n&&n.length>0)&&(se.commit("modelStore/updateTagText",{uuid:e,text:t}),Sv.$tag.updateTagText(e,t),n[0])},window.nd_clearTagStaus=function(){Sv.$tag.clearFlag()},window.nd_version=function(){localStorage.setItem("version",encodeURIComponent("DEV-2022-27 3D Viewer V5.2.x（PC Viewer样式优化、单位转换）"))},window.nd_getMeasuringScale=function(){var e=se.state.modelStore.measureScale;return e},window.nd_selectTag=function(e,t,o){var n=Sv.$tag;o?se.commit("modelStore/setNeedOpenImg",!0):se.commit("modelStore/setNeedOpenImg",!1),n.tcStep1&&n.saveEnable?(t&&t(!1),Sv.$msgBox.showMsg(Sv.$t("tagSaveConfirm2"),(function(){n.sureSave()}),(function(){bv(e)}))):bv(e)},window.nd_cancelPicTag=function(){var e=Sv.$tag;e.tcStep1&&e.cancelSave()},window.nd_getShareInfo=function(){var e=-1,t=se.state.modelStore.isModelCfg;t&&(e=se.state.modelStore.nowConfig);var o=de._viewer.getCameraInfo(),n=se.state.modelStore.measureScale,i=se.state.modelStore.bgSetList,a=se.state.modelStore.measureSetting.curUnit,r=se.state.modelStore.suportLineWeight,c=se.state.modelStore.rotationAngle||[];return{camerainfo:o,configNum:e,scale:n,bgSetList:i,unitType:a,suportLineWeight:r,rotationAngle:c}},window.nd_print=function(e,t){if(!e||!t)return"传参错误";W(t,(function(){printSDK&&printSDK.init((function(t){e&&e(t)}),"inviewer")}))},window.nd_getPrintData=function(e,t,o,n,i,a){return"select"==i?de.getPrintData(e,t,o,n,i,a):"view"==i?de.getPrintData(e,t,o,n,i):de.getPrintData(e,t,o,n)},window.nd_stopPlayAudio=function(){var e=Sv.$tag;e.tcCheckTI&&"checkaudio"==e.tcType&&e.exitChecktag()},window.nd_openPrintMode=function(e){var t=Sv;function o(){se.commit("setPrintMode",!0),se.state.menuStore.structMenu&&(se.commit("menuStore/setMenuChoose",""),se.commit("menuStore/setStructMenu",!1)),se.commit("menuStore/setShowManyConfig",!1),t.$eventBus.emit("closeCfg"),(t.$tag.tcCheckTI||"checkaudio"==t.$tag.tcType)&&t.$tag.exitChecktag(),t.$tag.tcStep0&&t.$tag.cancelSave(),"bgColor"==se.state.menuStore.menuChoose&&se.commit("menuStore/setMenuChoose",""),"unitChange"==se.state.menuStore.menuChoose&&(se.commit("menuStore/setMenuChoose",""),se.commit("menuStore/setUnitMenu",!1)),"zoomwindow"==se.state.menuStore.menuChoose&&(se.commit("menuStore/setMenuChoose",""),de._viewer.setOperatorByID("OpPan")),"meter"!=se.state.menuStore.menuChoose&&"meterDistance"!=se.state.menuStore.menuChoose2||t.$eventBus.emit("closeMeasure"),de.setAnnotationsVisibility(0),de.clearSelection(),e&&e(!0)}t.$tag.tcStep1&&t.$tag.saveEnable?(e&&e(!1),t.$msgBox.showMsg("是否保存当前批注内容?",(function(){t.$tag.sureSave()}),(function(){se.commit("setPrintMode",!0),t.$tag.cancelSave(),o()}))):t.$tag.tcStep1?(se.commit("setPrintMode",!0),t.$tag.cancelSave(),o()):o()},window.nd_closePrintMode=function(){se.commit("setPrintMode",!1),se.commit("menuStore/setShowManyConfig",!0),se.state.tagStore.tagShow&&de.setAnnotationsVisibility(1)},window.nd_getPrintDataCallback=function(e,t,o,n,i,a,r){"select"==a?de.getPrintDataCallback((function(t){e&&e(t)}),t,o,n,i,a,r):"view"==a?de.getPrintDataCallback((function(t){e&&e(t)}),t,o,n,i,a):de.getPrintDataCallback((function(t){e&&e(t)}),t,o,n,i)},window.nd_setBackGroundColor=function(e){var t=colorToNumber(e);de._viewer.setBackGroundColor(t);const o=se.state.modelStore.bgSetList||[];if(o.length>0){for(let e=0;e<o.length;e++)o[e]="num:"+String(t);se.commit("modelStore/setInitBgSetList",o),se.commit("modelStore/setShareBg","num:"+String(t))}},window.nd_resize=function(){de._viewer.onWindowResize()},window.nd_render=function(){de._viewer.render()},window.nd_screenTagCap=function(e){Te(e)},window.nd_screenMainContent=function(e){je(e)},window.nd_getScreenCaptureByData=function(e,t){de._viewer.getScreenCapturethumbnailByData(t=>{e&&e(t)},t)},window.nd_getAllTags=function(){const e=se.state.modelStore.allTag||[];return e.map(e=>{e.state&&e.state.locationObject&&delete e.state.locationObject}),e},window.nd_getCameraViewInfo=function(){let e=de.storeViewUtil&&de.storeViewUtil.getCameraViewInfo();return e},window.nd_setCameraViewInfo=function(e){de.storeViewUtil&&de.storeViewUtil.setCameraViewInfo(e)},window.nd_createPicTag=function(e,t){Sv.$eventBus.emit("apiCreateTagSub"),Sv.$tag.apiCreateTag(e,t)},window.nd_initAlltag=function(e){try{const t=Le(e);se.commit("modelStore/setAllTag",e),se.commit("modelStore/setNowTag",t),de.annotationUtil&&de.annotationUtil.removeAllAnnotations(),Pe.closeTagChange(e||[]),Ne(t,e,!0)}catch(t){}},window.nd_rtmReceiveAllMsg=function(e){nd_viewCtrl.rtmSDK.rtmGetChannelMsg((function(t){Pe.receiveAllMsg(t,e,"fromWindow")}))},window.nd_rtmSendAllMsg=function(){Pe.sendAllMsg()},window.nd_rtmReceiveMsg=function(e){Pe.receiveCenter(e)},window.nd_rtmSetMettingMsg=function(e){e.hasOwnProperty("isRtmFreeOper")&&Pe.freeOperChange(e.isRtmFreeOper),e.hasOwnProperty("isRtmOperate")&&Pe.operateChange(e.isRtmOperate)},window.nd_getMeasureList=function(){const e=se.state.modelStore.allMeasure||[];return e},window.nd_delMeasureResult=function(e){de.measureUtil&&de.measureUtil.delMeasureResult(e),se.commit("modelStore/setDelMeasure",{uuid:e})},window.nd_getViewportList=function(){const e=se.state.modelStore.allMVData||[];return e},window.nd_updateViewportById=function(e,t){e&&(t||0==t)&&(t.toString().length>15&&(t=t.slice(0,15)),se.commit("modelStore/updateModelviewName",{uuid:e,rename:t.toString()}))},window.nd_setAllModelViewData=function(e){se.commit("modelStore/setModelviewData",e)},window.nd_deleteViewport=function(e){e&&se.commit("modelStore/deleteModelviewByuuid",e)},window.nd_compareInsertModel=async function(e){const t=await hv(e);Sv.$eventBus.emit("addModelCallback",t.mPath),t.mPath&&Sv.$eventBus.emit("initPreConfigs",t.cfgSrcs)},window.nd_getNewAnnoList=function(){const e=se.state.modelStore.allAnnotation||[];return e},window.nd_getExtensionUtil=function(e){try{const t=de._viewer.getExtension(e);return t}catch(t){return{}}};var fv={install:vv,nd_addTag:nd_addTag,nd_delTags:nd_delTags,nd_updateTagtext:nd_updateTagtext,nd_setBackGroundColor:nd_setBackGroundColor,nd_getShareInfo:nd_getShareInfo,nd_resize:nd_resize,nd_render:nd_render};const Cv=Object(n["createApp"])(zS);Cv.directive("real-img",iv),Cv.directive("click-track",lv.clickDirective),Cv.directive("img-switch",dv),Cv.directive("tooltip",gv),Cv.directive("drag",pv),Cv.config.globalProperties.$eventBus=new $S["a"],Cv.use(zS),Cv.use(fv);const Ov=Cv.use(se).use(ov).mount("#app");Cv.use(lv);var xv=t["default"]=Ov},5761:function(e,t,o){e.exports=o.p+"img/icon-warn-mv.782b0010.png"},5880:function(e,t){e.exports=Vuex},"58a0":function(e,t,o){e.exports=o.p+"img/ico-font-italic.2905c201.png"},"58d1f":function(e,t,o){"use strict";o("b85f")},"58ee":function(e,t,o){},"59c7":function(e,t,o){},"59ce":function(e,t,o){e.exports=o.p+"img/icon-radio-s.73302fd7.png"},"5d41":function(e,t,o){},"5e4d":function(e,t,o){e.exports=o.p+"img/m-lineWidth1-s.e7866918.png"},"5fdb":function(e,t,o){e.exports=o.p+"img/syncAnnoTw.e4a3b5d8.png"},"61bc":function(e,t,o){e.exports=o.p+"img/return-icon.1cb36f98.png"},"63c5":function(e,t,o){},"65e8":function(e,t,o){e.exports=o.p+"img/measure-s-finish.115264b2.png"},"67aa":function(e,t,o){"use strict";o("5511")},"68dd":function(e,t,o){e.exports=o.p+"img/ico-confirm-rect-disable.dd502178.png"},"6a9e":function(e,t,o){"use strict";o("2e65")},"6c08":function(e,t,o){"use strict";o("59c7")},"6dd3":function(e,t,o){e.exports=o.p+"img/audioMicrophone.d00e86f4.png"},"6f39":function(e,t,o){e.exports=o.p+"img/m-noIncline.0c302baf.png"},7143:function(e,t,o){e.exports=o.p+"img/radio-check.818b2d54.png"},7273:function(e,t,o){"use strict";o("c624")},7296:function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id="7296"},"73a8":function(e,t,o){"use strict";o("227a")},"766e":function(e,t,o){e.exports=o.p+"img/ico-compare-paper.14843256.png"},"769d":function(e,t,o){e.exports=o.p+"img/measure-s-back.eb703db1.png"},"77f7":function(e,t,o){e.exports=o.p+"img/anno-fontFamily-s.5e223d1c.png"},7863:function(e,t,o){e.exports=o.p+"img/close-icon.cb122c82.png"},7928:function(e,t,o){},"794e":function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id="794e"},"798d":function(e,t,o){"use strict";o("5d41")},"79ba":function(e,t,o){e.exports=o.p+"img/r-selected.bb3120e6.png"},"7aaf":function(e,t,o){e.exports=o.p+"img/ico-font-bold-s.b9b7edbc.png"},"7ada":function(e,t,o){e.exports=o.p+"img/leftRotation.4801be73.png"},"7b11":function(e,t,o){e.exports=o.p+"img/noAudioMicrophone.1b172595.png"},"7de0":function(e,t,o){e.exports=o.p+"img/compare-close.428038b7.png"},"800f":function(e,t,o){e.exports=o.p+"img/anno-fontSetting-s.4ed11c86.png"},8030:function(e,t,o){e.exports=o.p+"img/compare-model-add-btn.2e77f652.png"},"82e8":function(e,t,o){e.exports=o.p+"img/m-buildingMark-s.33c76fc1.png"},"82fc":function(e,t,o){e.exports=o.p+"img/pen.16c2a6dd.png"},"83be":function(e,t,o){e.exports=o.p+"img/m-color.dd5de7f5.png"},"85e5":function(e,t,o){"use strict";o("258a")},"88ae":function(e,t,o){},"8a1e":function(e,t,o){e.exports=o.p+"img/m-lineWidth.f2009ee0.png"},"8bbf":function(e,t){e.exports=Vue},"905c":function(e,t,o){e.exports=o.p+"img/measure-n-radius.bb79ce44.png"},9283:function(e,t,o){"use strict";o("a33f")},9289:function(e,t,o){e.exports=o.p+"img/m-solidClosure-s.2753826a.png"},"93fc":function(e,t){const o=32;function n(){const e=document.documentElement.clientWidth/2380;document.documentElement.style.fontSize=o*Math.min(e,2)+"px"}n(),window.addEventListener("resize",()=>{n()})},"96af":function(e,t,o){e.exports=o.p+"img/scaleAdd.5d063bdb.png"},9718:function(e,t,o){e.exports=o.p+"img/color.ad185a94.png"},9909:function(e,t,o){},"9a0b":function(e,t,o){e.exports=o.p+"img/anno-lead-line.f5d46a99.png"},"9afc":function(e,t,o){e.exports=o.p+"img/ico-radio-select.3bcbeffc.png"},"9c5a":function(e,t,o){e.exports=o.p+"img/resultShow.943a3672.png"},"9ca4":function(e,t,o){e.exports=o.p+"img/refreshScale.6e4404e3.png"},a050:function(e,t,o){"use strict";o("a273")},a078:function(e,t,o){"use strict";o("9909")},a273:function(e,t,o){},a33f:function(e,t,o){},a372:function(e,t,o){},a856:function(e,t,o){},adb4:function(e,t,o){"use strict";o("ea28")},af25:function(e,t,o){"use strict";o("a856")},b02b:function(e,t,o){e.exports=o.p+"img/m-lineWidth2.7810074f.png"},b20c:function(e,t,o){e.exports=o.p+"img/resultDel.52026d69.png"},b25b:function(e,t,o){e.exports=o.p+"img/compare-landscape.341d1e4a.png"},b4b5:function(e,t,o){e.exports=o.p+"img/no-pic.f5cca8ad.png"},b53e:function(e,t,o){"use strict";o("3421")},b544:function(e,t,o){e.exports=o.p+"img/syncAnnoAudio.b8dbc6d6.png"},b85f:function(e,t,o){},b8c8:function(e,t,o){},b94b:function(e,t,o){e.exports=o.p+"img/anno-typeLine.f57af86e.png"},b9ac:function(e,t,o){e.exports=o.p+"img/measure-n-back.4dab48ad.png"},ba00:function(e,t,o){e.exports=o.p+"img/icon-close-mv.9a72d829.png"},bc2f:function(e,t,o){e.exports=o.p+"img/nomsg-en.dfbc6e31.png"},bdcd:function(e,t,o){"use strict";o("3907")},c624:function(e,t,o){},c7ac:function(e,t,o){e.exports=o.p+"img/warn.da864e81.png"},ca8f:function(e,t,o){e.exports=o.p+"img/m-lineWidth2-s.65286b31.png"},caef:function(e,t,o){"use strict";o("089b")},cb48:function(e,t,o){e.exports=o.p+"img/arrow_icon_c.8d20c3c0.png"},cd9a:function(e,t,o){e.exports=o.p+"img/m-fontSize.1add671c.png"},d238:function(e,t,o){},d3d4:function(e,t,o){e.exports=o.p+"img/compare-vertical.0c77f601.png"},d43e:function(e,t,o){e.exports=o.p+"img/rightRotation.d4d1fd16.png"},d79f:function(e,t,o){},d84c:function(e,t,o){e.exports=o.p+"img/area-ico-s.778928d9.png"},d930:function(e,t,o){},d958:function(e,t,o){"use strict";o("1f26")},d9fb:function(e,t,o){"use strict";o("f798")},db2d:function(e,t,o){e.exports=o.p+"img/r-unselected.8871d8e6.png"},dbe5:function(e,t,o){e.exports=o.p+"img/anno-lead-pointLine.3816a590.png"},dbe8:function(e,t,o){e.exports=o.p+"img/ico-compare-close.ec8a3d51.png"},dd36:function(e,t,o){e.exports=o.p+"img/line.de196a65.png"},dd86:function(e,t,o){e.exports=o.p+"img/m-lineWidth1.aaf295b6.png"},de5a:function(e,t,o){"use strict";o("fa4a")},e281:function(e,t,o){e.exports=o.p+"img/measure-n-finish.5bfdc468.png"},e316:function(e,t,o){e.exports=o.p+"img/m-arrows.735b18da.png"},e4ad:function(e,t,o){"use strict";o("31e4")},e541:function(e,t,o){"use strict";o("30b3")},e60e:function(e,t,o){e.exports=o.p+"img/arrow-up.18e44e3d.png"},e782:function(e,t,o){},e93c:function(e,t,o){},ea28:function(e,t,o){},ec63:function(e,t,o){e.exports=o.p+"img/m-lineWidth3-s.598a0b53.png"},ed03:function(e,t,o){e.exports=o.p+"img/m-fontSize-s.50dce48c.png"},edd5:function(e,t,o){e.exports=o.p+"img/measure-isSel.608e0ec3.png"},eec7:function(e,t,o){e.exports=o.p+"img/close-menu.724f59a4.png"},f04e:function(e,t,o){e.exports=o.p+"img/anno-close-ico.eb5648a3.png"},f181:function(e,t,o){e.exports=o.p+"img/m-lineWidth3.06b1963a.png"},f18e:function(e,t,o){e.exports=o.p+"img/icon-radio-n.4f7c47c7.png"},f240:function(e,t,o){e.exports=o.p+"img/arrow_icon.30b57c61.png"},f2ce:function(e,t,o){e.exports=o.p+"img/ico-font-bold.0f25103f.png"},f54c:function(e,t,o){e.exports=o.p+"img/m-color-s.34037f73.png"},f57a:function(e,t,o){"use strict";o("310d")},f67d:function(e,t,o){},f731:function(e,t,o){"use strict";o("58ee")},f798:function(e,t,o){},f8be:function(e,t,o){},f8c3:function(e,t,o){"use strict";o("1719")},fa4a:function(e,t,o){},fa9e:function(e,t,o){e.exports=o.p+"img/ico-close-level.fd3d176d.png"},fb14:function(e,t,o){"use strict";o("d930")},fd3d:function(e,t,o){e.exports=o.p+"img/anno-fontSetting.99226084.png"},fdd5:function(e,t,o){"use strict";o("5617")}});