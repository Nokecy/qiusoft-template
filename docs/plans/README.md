# 实施计划文档

本目录包含项目的详细设计文档和实施计划。

## 当前文档

### 2025-01-11: 问题执行流程重构设计

**文档**:
- 设计文档: `2025-01-11-issue-execution-redesign.md`
- 后端实施指南: `2025-01-11-backend-implementation-guide.md` 🆕

**状态**: ⏳ 前端基础完成，后端开发中

**概述**: 统一问题执行和任务执行的交互方式，支持多周期执行和工作流审批

**核心功能**:
1. 执行抽屉统一管理所有操作
2. 支持附件和备注上传
3. 多周期执行管理
4. 工作流审批集成
5. 关联任务功能

**前端已完成**:
- ✅ 更新问题状态枚举(添加待接收、已接收状态)
- ✅ 更新状态判断工具函数
- ✅ 编写完整的设计文档
- ✅ 创建开始处理对话框组件
- ✅ 创建激活对话框组件
- ✅ 创建 IssueExecutionDialog 执行抽屉组件
- ✅ 简化列表页操作列(添加执行按钮,移除状态操作按钮)
- ✅ 简化详情页操作区(只保留返回、编辑、删除、执行)

**待后端完成后继续**:
- ⏳ 改造所有执行操作对话框(添加附件和备注上传)
- ⏳ 创建按周期分组的执行记录时间线组件
- ⏳ 创建任务关联选择器组件
- ⏳ 在表单页添加关联任务选择功能

**后端待办事项** (详见 [后端实施指南](./2025-01-11-backend-implementation-guide.md)):
1. ⏳ 更新问题状态枚举(添加 PendingReceive=5, Received=15)
2. ⏳ 创建执行周期表(ProjectIssueExecutionCycle)
3. ⏳ 调整执行记录表(添加 ExecutionCycleId, ExecutionRemark, AttachmentIds)
4. ⏳ 为所有执行操作接口添加附件和备注参数
5. ⏳ 添加问题类型审批配置字段(RequiresApproval, WorkflowDefinitionId)
6. ✅ 添加任务关联字段(TaskCode, TaskId) - 已完成

**协作方式**:
- 后端完成接口后发布新版本 NuGet 包
- 前端运行 `yarn openapi` 重新生成类型定义
- 前端基于新接口完成剩余组件开发和页面改造

---

## 文档规范

- 文档命名格式：`YYYY-MM-DD-<topic>-design.md`
- 每个文档应包含：需求概述、数据结构设计、前端设计、后端要求、实施计划
- 设计文档应在实施前完成并经过评审
